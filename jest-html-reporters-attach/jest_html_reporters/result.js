window.jest_html_reporters_callback__({"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":13,"numPassedTests":72,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":13,"numTotalTests":72,"startTime":1658467485921,"success":false,"testResults":[{"leaks":false,"numFailingTests":0,"numPassingTests":6,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467490185,"runtime":4193,"slow":false,"start":1658467485992},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/order.spec.ts","testResults":[{"ancestorTitles":["OrderRepository"],"duration":365,"failureDetails":[],"failureMessages":[],"fullName":"OrderRepository should create a new order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a new order"},{"ancestorTitles":["OrderRepository"],"duration":76,"failureDetails":[],"failureMessages":[],"fullName":"OrderRepository should throw an error if find by an invalid id order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if find by an invalid id order"},{"ancestorTitles":["OrderRepository"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"OrderRepository should return an order if find by a valid id","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return an order if find by a valid id"},{"ancestorTitles":["OrderRepository"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"OrderRepository should find all orders","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should find all orders"},{"ancestorTitles":["OrderRepository"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"OrderRepository should throw an error of try to update and order with invalid id","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error of try to update and order with invalid id"},{"ancestorTitles":["OrderRepository"],"duration":111,"failureDetails":[],"failureMessages":[],"fullName":"OrderRepository should update an order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update an order"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerEntity\", {\n    enumerable: true,\n    get: ()=>CustomerEntity\n});\nconst _errors = require(\"../errors\");\nconst _addressEntity = require(\"./address_entity\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _address = /*#__PURE__*/ new WeakMap(), _isActive = /*#__PURE__*/ new WeakMap(), _rewardPoints = /*#__PURE__*/ new WeakMap(), _validate = /*#__PURE__*/ new WeakSet();\nclass CustomerEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get address() {\n        return _classPrivateFieldGet(this, _address);\n    }\n    get rewardPoints() {\n        return _classPrivateFieldGet(this, _rewardPoints);\n    }\n    get isActive() {\n        return _classPrivateFieldGet(this, _isActive);\n    }\n    changeName(name) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                value: name,\n                fieldName: 'name',\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    changeAddress(address) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _address, address);\n    }\n    updateRewardPoints(points) {\n        _classPrivateFieldSet(this, _rewardPoints, _classPrivateFieldGet(this, _rewardPoints) + points);\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)}\\nname: ${_classPrivateFieldGet(this, _name)}\\naddress: ${_classPrivateFieldGet(this, _address).toString()}\\nactive: ${this.isActive.toString()}`;\n    }\n    clone() {\n        return new CustomerEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _address), _classPrivateFieldGet(this, _isActive), _classPrivateFieldGet(this, _rewardPoints));\n    }\n    isEqual(customer) {\n        return _classPrivateFieldGet(this, _id) === customer.id && _classPrivateFieldGet(this, _name) === customer.name && _classPrivateFieldGet(this, _address).isEqual(customer.address);\n    }\n    constructor(id, name, address, isActive = true, rewardPoints = 0){\n        _classPrivateMethodInit(this, _validate);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _address, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _isActive, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _rewardPoints, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            },\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _address, address);\n        _classPrivateFieldSet(this, _isActive, isActive);\n        _classPrivateFieldSet(this, _rewardPoints, rewardPoints);\n    }\n}\nfunction validate(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string' || value instanceof _addressEntity.AddressEntity) {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength && value.length < props?.validations?.minLength) {\n            if (typeof value == 'string') {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9jdXN0b21lcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFZhbGlkYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEFkZHJlc3NFbnRpdHkgfSBmcm9tICcuL2FkZHJlc3NfZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjYWRkcmVzczogQWRkcmVzc0VudGl0eTtcblxuICAjaXNBY3RpdmU6IGJvb2xlYW47XG5cbiAgI3Jld2FyZFBvaW50czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFkZHJlc3M6IEFkZHJlc3NFbnRpdHksXG4gICAgaXNBY3RpdmUgPSB0cnVlLFxuICAgIHJld2FyZFBvaW50cyA9IDBcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG5cbiAgICB0aGlzLiNpZCA9IGlkO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuI2lzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgdGhpcy4jcmV3YXJkUG9pbnRzID0gcmV3YXJkUG9pbnRzO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBhZGRyZXNzKCk6IEFkZHJlc3NFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLiNhZGRyZXNzO1xuICB9XG5cbiAgZ2V0IHJld2FyZFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNyZXdhcmRQb2ludHM7XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQWN0aXZlO1xuICB9XG5cbiAgY2hhbmdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLiN2YWxpZGF0ZShbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICB9XG5cbiAgY2hhbmdlQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy4jYWRkcmVzcyA9IGFkZHJlc3M7XG4gIH1cblxuICB1cGRhdGVSZXdhcmRQb2ludHMocG9pbnRzOiBudW1iZXIpIHtcbiAgICB0aGlzLiNyZXdhcmRQb2ludHMgKz0gcG9pbnRzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGlkOiAke3RoaXMuI2lkfVxcbm5hbWU6ICR7XG4gICAgICB0aGlzLiNuYW1lXG4gICAgfVxcbmFkZHJlc3M6ICR7dGhpcy4jYWRkcmVzcy50b1N0cmluZygpfVxcbmFjdGl2ZTogJHt0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKCl9YDtcbiAgfVxuXG4gIGNsb25lKCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNuYW1lLFxuICAgICAgdGhpcy4jYWRkcmVzcyxcbiAgICAgIHRoaXMuI2lzQWN0aXZlLFxuICAgICAgdGhpcy4jcmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBjdXN0b21lci5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gY3VzdG9tZXIubmFtZSAmJlxuICAgICAgdGhpcy4jYWRkcmVzcy5pc0VxdWFsKGN1c3RvbWVyLmFkZHJlc3MpXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0ZSh2YWx1ZXM6IFZhbGlkYXRpb25bXSk6IHZvaWQge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3NFbnRpdHkpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCAmJlxuICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyRW50aXR5IiwiaWQiLCJuYW1lIiwiYWRkcmVzcyIsInJld2FyZFBvaW50cyIsImlzQWN0aXZlIiwiY2hhbmdlTmFtZSIsInZhbGlkYXRlIiwidmFsdWUiLCJmaWVsZE5hbWUiLCJ2YWxpZGF0aW9ucyIsImlzUmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJjaGFuZ2VBZGRyZXNzIiwidXBkYXRlUmV3YXJkUG9pbnRzIiwicG9pbnRzIiwidG9TdHJpbmciLCJjbG9uZSIsImlzRXF1YWwiLCJjdXN0b21lciIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwiZm9yRWFjaCIsInByb3BzIiwiQWRkcmVzc0VudGl0eSIsIlZhbGlkYXRpb25FcnJv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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\nimport { AddressEntity } from './address_entity';\n\nexport class CustomerEntity {\n  #id: string;\n\n  #name: string;\n\n  #address: AddressEntity;\n\n  #isActive: boolean;\n\n  #rewardPoints: number;\n\n  constructor(\n    id: string,\n    name: string,\n    address: AddressEntity,\n    isActive = true,\n    rewardPoints = 0\n  ) {\n    this.#validate([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 4 },\n      },\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#address = address;\n    this.#isActive = isActive;\n    this.#rewardPoints = rewardPoints;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get address(): AddressEntity {\n    return this.#address;\n  }\n\n  get rewardPoints(): number {\n    return this.#rewardPoints;\n  }\n\n  get isActive(): boolean {\n    return this.#isActive;\n  }\n\n  changeName(name: string): void {\n    this.#validate([\n      {\n        value: name,\n        fieldName: 'name',\n        validations: { isRequired: true, minLength: 4 },\n      },\n    ]);\n    this.#name = name;\n  }\n\n  changeAddress(address: AddressEntity): void {\n    this.#validate([\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n    this.#address = address;\n  }\n\n  updateRewardPoints(points: number) {\n    this.#rewardPoints += points;\n  }\n\n  toString(): string {\n    return `id: ${this.#id}\\nname: ${\n      this.#name\n    }\\naddress: ${this.#address.toString()}\\nactive: ${this.isActive.toString()}`;\n  }\n\n  clone(): CustomerEntity {\n    return new CustomerEntity(\n      this.#id,\n      this.#name,\n      this.#address,\n      this.#isActive,\n      this.#rewardPoints\n    );\n  }\n\n  isEqual(customer: CustomerEntity): boolean {\n    return (\n      this.#id === customer.id &&\n      this.#name === customer.name &&\n      this.#address.isEqual(customer.address)\n    );\n  }\n\n  #validate(values: Validation[]): void {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string' || value instanceof AddressEntity) {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (\n        props?.validations?.minLength &&\n        value.length < props?.validations?.minLength\n      ) {\n        if (typeof value == 'string') {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/af/customer_entity_afaca2be38f2a940cb2b94a257022abd.map","wrapperLength":82},"result":{"scriptId":"3511","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16069,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16066,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":7}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":358,"endOffset":560,"count":42},{"startOffset":456,"endOffset":558,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":561,"endOffset":727,"count":64},{"startOffset":643,"endOffset":696,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":728,"endOffset":1042,"count":35},{"startOffset":817,"endOffset":870,"count":0},{"startOffset":912,"endOffset":1000,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1043,"endOffset":1284,"count":99},{"startOffset":1148,"endOffset":1245,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1285,"endOffset":1480,"count":64}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1481,"endOffset":1621,"count":35}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1622,"endOffset":1842,"count":35}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1843,"endOffset":2041,"count":7},{"startOffset":1938,"endOffset":2024,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2042,"endOffset":2169,"count":7}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2440,"endOffset":2505,"count":15}],"isBlockCoverage":true},{"functionName":"get name","ranges":[{"startOffset":2510,"endOffset":2579,"count":7}],"isBlockCoverage":true},{"functionName":"get address","ranges":[{"startOffset":2584,"endOffset":2659,"count":28}],"isBlockCoverage":true},{"functionName":"get rewardPoints","ranges":[{"startOffset":2664,"endOffset":2749,"count":7}],"isBlockCoverage":true},{"functionName":"get isActive","ranges":[{"startOffset":2754,"endOffset":2831,"count":7}],"isBlockCoverage":true},{"functionName":"changeName","ranges":[{"startOffset":2836,"endOffset":3207,"count":0}],"isBlockCoverage":false},{"functionName":"changeAddress","ranges":[{"startOffset":3212,"endOffset":3567,"count":0}],"isBlockCoverage":false},{"functionName":"updateRewardPoints","ranges":[{"startOffset":3572,"endOffset":3711,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3716,"endOffset":3936,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3941,"endOffset":4184,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":4189,"endOffset":4402,"count":0}],"isBlockCoverage":false},{"functionName":"CustomerEntity","ranges":[{"startOffset":4407,"endOffset":6035,"count":7}],"isBlockCoverage":true},{"functionName":"validate","ranges":[{"startOffset":6038,"endOffset":6788,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6085,"endOffset":6784,"count":21},{"startOffset":6210,"endOffset":6258,"count":7},{"startOffset":6290,"endOffset":6407,"count":0},{"startOffset":6474,"endOffset":6521,"count":7},{"startOffset":6523,"endOffset":6778,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":10}],"isBlockCoverage":true},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":5}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVBLGFBQVksRUFBQztLQUMzQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLE9BQU8sR0FBVztRQUNwQiw2QkFBTyxJQUFJLEVBQUVBLFFBQU8sRUFBQztLQUN0QjtJQUVEQyxLQUFLLEdBQWtCO1FBQ3JCLE9BQU8sSUFBSUwsYUFBYSx1QkFDdEIsSUFBSSxFQUFFQyxPQUFNLHlCQUNaLElBQUksRUFBRUMsYUFBWSx5QkFDbEIsSUFBSSxFQUFFQyxLQUFJLHlCQUNWLElBQUksRUFBRUMsUUFBTyxFQUNkLENBQUM7S0FDSDtJQUVERSxRQUFRLEdBQUc7UUFDVCxPQUFPLENBQUMsUUFBUSx3QkFBRSxJQUFJLEVBQUVMLE9BQU0sRUFBQyxXQUFXLHdCQUFFLElBQUksRUFBRUMsYUFBWSxFQUFDLFNBQVMsd0JBQ3RFLElBQUksRUFBRUMsS0FBSSxFQUNYLFlBQVksd0JBQUUsSUFBSSxFQUFFQyxRQUFPLEVBQUMsQ0FBQyxDQUFDO0tBQ2hDO0lBRURHLE9BQU8sQ0FBQ0MsT0FBc0IsRUFBRTtRQUM5QixPQUNFLHNCQUFBLElBQUksRUFBRVAsT0FBTSxNQUFLTyxPQUFPLENBQUNQLE1BQU0sSUFDL0Isc0JBQUEsSUFBSSxFQUFFQyxhQUFZLE1BQUtNLE9BQU8sQ0FBQ04sWUFBWSxJQUMzQyxzQkFBQSxJQUFJLEVBQUVDLEtBQUksTUFBS0ssT0FBTyxDQUFDTCxJQUFJLElBQzNCLHNCQUFBLElBQUksRUFBRUMsUUFBTyxNQUFLSSxPQUFPLENBQUNKLE9BQU8sQ0FDakM7S0FDSDtJQXJFREssWUFDRVIsTUFBYyxFQUNkQyxZQUFvQixFQUNwQkMsSUFBWSxFQUNaQyxPQUFlLENBQ2Y7UUFrRUYsOEJBQUEsV0FBVyxDQVVWLENBQUE7UUF6RkQsNkJBQUEsT0FBTzs7bUJBQVAsS0FBQSxDQUFnQjtVQUFBLENBQUE7UUFFaEIsNkJBQUEsYUFBYTs7bUJBQWIsS0FBQSxDQUFzQjtVQUFBLENBQUE7UUFFdEIsNkJBQUEsS0FBSzs7bUJBQUwsS0FBQSxDQUFjO1VBQUEsQ0FBQTtRQUVkLDZCQUFBLFFBQVE7O21CQUFSLEtBQUEsQ0FBaUI7VUFBQSxDQUFBO1FBUWYsdUJBQUEsSUFBSSxFQUFFTSxXQUFVLEVBQVZBLFVBQVUsT0FBaEIsSUFBSSxFQUFhO1lBQ2Y7Z0JBQUVDLFNBQVMsRUFBRSxRQUFRO2dCQUFFQyxLQUFLLEVBQUVYLE1BQU07Z0JBQUVZLFdBQVcsRUFBRTtvQkFBRUMsVUFBVSxFQUFFLElBQUk7aUJBQUU7YUFBRTtZQUN6RTtnQkFDRUgsU0FBUyxFQUFFLGNBQWM7Z0JBQ3pCQyxLQUFLLEVBQUVWLFlBQVk7Z0JBQ25CVyxXQUFXLEVBQUU7b0JBQUVDLFVBQVUsRUFBRSxJQUFJO2lCQUFFO2FBQ2xDO1lBQ0Q7Z0JBQ0VILFNBQVMsRUFBRSxNQUFNO2dCQUNqQkMsS0FBSyxFQUFFVCxJQUFJO2dCQUNYVSxXQUFXLEVBQUU7b0JBQUVDLFVBQVUsRUFBRSxJQUFJO2lCQUFFO2FBQ2xDO1lBQ0Q7Z0JBQ0VILFNBQVMsRUFBRSxTQUFTO2dCQUNwQkMsS0FBSyxFQUFFUixPQUFPO2dCQUNkUyxXQUFXLEVBQUU7b0JBQUVDLFVBQVUsRUFBRSxJQUFJO2lCQUFFO2FBQ2xDO1NBQ0YsQ0FBQyxDQUFDO29DQUVHYixPQUFNLEVBQUdBLE1BQU0sRUFBQztvQ0FDaEJDLGFBQVksRUFBR0EsWUFBWSxFQUFDO29DQUM1QkMsS0FBSSxFQUFHQSxJQUFJLEVBQUM7b0NBQ1pDLFFBQU8sRUFBR0EsT0FBTyxFQUFDO0tBQ3pCO0NBcURGO0FBWEMsU0FBQSxVQVVDLENBVldXLE1BQW9CLEVBQUU7SUFDaENBLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsRUFBRUwsU0FBUyxDQUFBLEVBQUVDLEtBQUssQ0FBQSxFQUFFLEdBQUdLLEtBQUssRUFBRSxHQUFLO1FBQ2pELElBQUlBLEtBQUssRUFBRUosV0FBVyxFQUFFQyxVQUFVLEVBQUU7WUFDbEMsSUFBSSxPQUFPRixLQUFLLEtBQUssUUFBUSxFQUFFO2dCQUM3QixJQUFJLENBQUNBLEtBQUssRUFBRTtvQkFDVixNQUFNLElBQUlNLE9BQWUsZ0JBQUEsQ0FBQyxDQUFDLEVBQUVQLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2lCQUN4RDthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7Q0FDSiJ9","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":14}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":35},{"startOffset":402,"endOffset":504,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":28},{"startOffset":589,"endOffset":642,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":28},{"startOffset":763,"endOffset":816,"count":0},{"startOffset":858,"endOffset":946,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":56},{"startOffset":1094,"endOffset":1191,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":28}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":28}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":28}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":7},{"startOffset":1884,"endOffset":1970,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":7}],"isBlockCoverage":true},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":7}],"isBlockCoverage":true},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":7}],"isBlockCoverage":true},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":7}],"isBlockCoverage":true},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":7}],"isBlockCoverage":true},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":0}],"isBlockCoverage":false},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":7}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5090,"endOffset":5380,"count":28},{"startOffset":5247,"endOffset":5350,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFB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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"3517","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":36}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":216},{"startOffset":406,"endOffset":508,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":344},{"startOffset":593,"endOffset":646,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":180},{"startOffset":767,"endOffset":820,"count":0},{"startOffset":862,"endOffset":950,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":524},{"startOffset":1098,"endOffset":1195,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":344}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":180}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":180}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":36},{"startOffset":1888,"endOffset":1974,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":36}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":66}],"isBlockCoverage":true},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":30}],"isBlockCoverage":true},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":48}],"isBlockCoverage":true},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":20}],"isBlockCoverage":true},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":30}],"isBlockCoverage":true},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":30}],"isBlockCoverage":true},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":8}],"isBlockCoverage":true},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":10}],"isBlockCoverage":true},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":36}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":36}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6148,"endOffset":7044,"count":180},{"startOffset":6230,"endOffset":6431,"count":108},{"startOffset":6304,"endOffset":6407,"count":0},{"startOffset":6494,"endOffset":7038,"count":108},{"startOffset":6537,"endOffset":6584,"count":36},{"startOffset":6586,"endOffset":6773,"count":0},{"startOffset":6815,"endOffset":6855,"count":72},{"startOffset":6857,"endOffset":7028,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductEntity\", {\n    enumerable: true,\n    get: ()=>ProductEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _price = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass ProductEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _price);\n    }\n    updatePrice(price) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _price, price);\n    }\n    updateName(name) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    clone() {\n        return new ProductEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _price));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${_classPrivateFieldGet(this, _price)}`;\n    }\n    isEqual(product) {\n        return _classPrivateFieldGet(this, _id) === product.id && _classPrivateFieldGet(this, _name) === product.name && _classPrivateFieldGet(this, _price) === product.price;\n    }\n    constructor(id, name, price){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _price, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _price, price);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength === 'number') {\n            if (typeof value === 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value === 'number' && value < props?.validations?.minLength) {\n                // eslint-disable-next-line max-len\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9wcm9kdWN0X2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdEVudGl0eSB7XG4gICNpZDogc3RyaW5nO1xuXG4gICNuYW1lOiBzdHJpbmc7XG5cbiAgI3ByaWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBwcmljZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ2lkJywgdmFsdWU6IGlkLCB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnbmFtZScsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDIgfSxcbiAgICAgIH0sXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNpZDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI25hbWU7XG4gIH1cblxuICBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpY2U7XG4gIH1cblxuICB1cGRhdGVQcmljZShwcmljZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIHVwZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gIH1cblxuICBjbG9uZSgpOiBQcm9kdWN0RW50aXR5IHtcbiAgICByZXR1cm4gbmV3IFByb2R1Y3RFbnRpdHkodGhpcy4jaWQsIHRoaXMuI25hbWUsIHRoaXMuI3ByaWNlKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH0gLSBuYW1lOiAke3RoaXMuI25hbWV9IC0gcHJpY2U6ICR7dGhpcy4jcHJpY2V9YDtcbiAgfVxuXG4gIGlzRXF1YWwocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNpZCA9PT0gcHJvZHVjdC5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICB0aGlzLiNwcmljZSA9PT0gcHJvZHVjdC5wcmljZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHZhbHVlIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7XG4gICAgICAgICAgICAgIHByb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aFxuICAgICAgICAgICAgfS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdEVudGl0eSIsImlkIiwibmFtZSIsInByaWNlIiwidXBkYXRlUHJpY2UiLCJ2YWxpZGF0aW9uIiwiZmllbGROYW1lIiwidmFsdWUiLCJ2YWxpZGF0aW9ucyIsIm1pbkxlbmd0aCIsInVwZGF0ZU5hbWUiLCJpc1JlcXVpcmVkIiwiY2xvbmUiLCJ0b1N0cmluZyIsImlzRXF1YWwiLCJwcm9kdWN0IiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUhNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUl6QyxHQUFHLGdDQUVILEtBQUssZ0NBRUwsTUFBTSxnQ0FpRU4sV0FBVztBQXRFTixNQUFNQSxhQUFhO0lBc0J4QixJQUFJQyxFQUFFLEdBQVc7UUFDZiw2QkFBTyxJQUFJLEVBQUVBLEdBQUUsRUFBQztLQUNqQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLEtBQUssR0FBVztRQUNsQiw2QkFBTyxJQUFJLEVBQUVBLE1BQUssRUFBQztLQUNwQjtJQUVEQyxXQUFXLENBQUNELEtBQWEsRUFBUTtRQUMvQix1QkFBQSxJQUFJLEVBQUVFLFdBQVUsRUFBVkEsVUFBVSxPQUFo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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class ProductEntity {\n  #id: string;\n\n  #name: string;\n\n  #price: number;\n\n  constructor(id: string, name: string, price: number) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n    this.#id = id;\n    this.#name = name;\n    this.#price = price;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#price;\n  }\n\n  updatePrice(price: number): void {\n    this.#validation([\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n\n    this.#price = price;\n  }\n\n  updateName(name: string): void {\n    this.#validation([\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n    ]);\n\n    this.#name = name;\n  }\n\n  clone(): ProductEntity {\n    return new ProductEntity(this.#id, this.#name, this.#price);\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${this.#price}`;\n  }\n\n  isEqual(product: ProductEntity): boolean {\n    return (\n      this.#id === product.id &&\n      this.#name === product.name &&\n      this.#price === product.price\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength === 'number') {\n        if (\n          typeof value === 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n\n        if (\n          typeof value === 'number' &&\n          value < props?.validations?.minLength\n        ) {\n          // eslint-disable-next-line max-len\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} must be equal or greater than ${\n              props.validations.minLength\n            }. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/7f/product_entity_7fb80201a3256de731bbdd9a2b2d7032.map","wrapperLength":82},"result":{"scriptId":"3518","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14298,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14295,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":7}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":28},{"startOffset":402,"endOffset":504,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":78},{"startOffset":589,"endOffset":642,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":21},{"startOffset":763,"endOffset":816,"count":0},{"startOffset":858,"endOffset":946,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":99},{"startOffset":1094,"endOffset":1191,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":78}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":21}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":21}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":7},{"startOffset":1884,"endOffset":1970,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":7}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2299,"endOffset":2364,"count":26}],"isBlockCoverage":true},{"functionName":"get name","ranges":[{"startOffset":2369,"endOffset":2438,"count":26}],"isBlockCoverage":true},{"functionName":"get price","ranges":[{"startOffset":2443,"endOffset":2514,"count":26}],"isBlockCoverage":true},{"functionName":"updatePrice","ranges":[{"startOffset":2519,"endOffset":2862,"count":0}],"isBlockCoverage":false},{"functionName":"updateName","ranges":[{"startOffset":2867,"endOffset":3242,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3247,"endOffset":3403,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3408,"endOffset":3578,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3583,"endOffset":3783,"count":0}],"isBlockCoverage":false},{"functionName":"ProductEntity","ranges":[{"startOffset":3788,"endOffset":5011,"count":7}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":5014,"endOffset":6061,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5063,"endOffset":6057,"count":21},{"startOffset":5145,"endOffset":5361,"count":14},{"startOffset":5220,"endOffset":5337,"count":0},{"startOffset":5425,"endOffset":6051,"count":14},{"startOffset":5469,"endOffset":5516,"count":7},{"startOffset":5518,"endOffset":5719,"count":0},{"startOffset":5762,"endOffset":5802,"count":7},{"startOffset":5804,"endOffset":6041,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderEntity\", {\n    enumerable: true,\n    get: ()=>OrderEntity\n});\nconst _orderItemEntity = require(\"./order_item_entity\");\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _customerId = /*#__PURE__*/ new WeakMap(), _items = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get customerId() {\n        return _classPrivateFieldGet(this, _customerId);\n    }\n    get items() {\n        return Array.from(_classPrivateFieldGet(this, _items).values());\n    }\n    get totalItems() {\n        return _classPrivateFieldGet(this, _items).size;\n    }\n    get total() {\n        return this.items.reduce((acc, item)=>acc + item.price, 0);\n    }\n    addItem(item) {\n        _classPrivateFieldGet(this, _items).set(item.id, item);\n    }\n    removeItem(id) {\n        _classPrivateFieldGet(this, _items).delete(id);\n    }\n    toString() {\n        let printItems = '';\n        _classPrivateFieldGet(this, _items).forEach((item)=>{\n            printItems += `${item}\\n`;\n        });\n        return `id: ${_classPrivateFieldGet(this, _id)}\\ncustomerId: ${_classPrivateFieldGet(this, _customerId)}\\nitems:\\n${printItems}`;\n    }\n    clone() {\n        return new OrderEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _customerId), this.items.map((item)=>new _orderItemEntity.OrderItemEntity(item.id, item.name, item.unitPrice, item.productId, item.quantity)));\n    }\n    isEqual(order) {\n        return _classPrivateFieldGet(this, _id) === order.id && _classPrivateFieldGet(this, _customerId) === order.customerId && this.totalItems === order.totalItems && this.items.every((orderItem, index)=>orderItem.isEqual(order.items[index]));\n    }\n    constructor(id, customerId, items){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _customerId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _items, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'customerId',\n                value: customerId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'items',\n                value: items,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _customerId, customerId);\n        _classPrivateFieldSet(this, _items, new Map(items.map((item)=>[\n                item.id,\n                item\n            ])));\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength) {\n            if (Array.isArray(value)) {\n                if (value.length < 1) {\n                    throw new _errors.ValidationError(`${fieldName}: add at the least 1 item.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJJdGVtRW50aXR5IH0gZnJvbSAnLi9vcmRlcl9pdGVtX2VudGl0eSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJFbnRpdHkge1xuICAjaWQ6IHN0cmluZztcblxuICAjY3VzdG9tZXJJZDogc3RyaW5nO1xuXG4gICNpdGVtczogTWFwPHN0cmluZywgT3JkZXJJdGVtRW50aXR5PjtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBjdXN0b21lcklkOiBzdHJpbmcsIGl0ZW1zOiBPcmRlckl0ZW1FbnRpdHlbXSkge1xuICAgIHRoaXMuI3ZhbGlkYXRpb24oW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ2N1c3RvbWVySWQnLFxuICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZCxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnaXRlbXMnLFxuICAgICAgICB2YWx1ZTogaXRlbXMsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IG1pbkxlbmd0aDogMSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgdGhpcy4jaXRlbXMgPSBuZXcgTWFwKGl0ZW1zLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jaWQ7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNjdXN0b21lcklkO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IE9yZGVySXRlbUVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNpdGVtcy52YWx1ZXMoKSk7XG4gIH1cblxuICBnZXQgdG90YWxJdGVtcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpdGVtcy5zaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGl0ZW0ucHJpY2UsIDApO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtOiBPcmRlckl0ZW1FbnRpdHkpIHtcbiAgICB0aGlzLiNpdGVtcy5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gIH1cblxuICByZW1vdmVJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLiNpdGVtcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpbnRJdGVtcyA9ICcnO1xuICAgIHRoaXMuI2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHByaW50SXRlbXMgKz0gYCR7aXRlbX1cXG5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH1cXG5jdXN0b21lcklkOiAke1xuICAgICAgdGhpcy4jY3VzdG9tZXJJZFxuICAgIH1cXG5pdGVtczpcXG4ke3ByaW50SXRlbXN9YDtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IE9yZGVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNjdXN0b21lcklkLFxuICAgICAgdGhpcy5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwob3JkZXI6IE9yZGVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlci5pZCAmJlxuICAgICAgdGhpcy4jY3VzdG9tZXJJZCA9PT0gb3JkZXIuY3VzdG9tZXJJZCAmJlxuICAgICAgdGhpcy50b3RhbEl0ZW1zID09PSBvcmRlci50b3RhbEl0ZW1zICYmXG4gICAgICB0aGlzLml0ZW1zLmV2ZXJ5KChvcmRlckl0ZW0sIGluZGV4KSA9PlxuICAgICAgICBvcmRlckl0ZW0uaXNFcXVhbChvcmRlci5pdGVtc1tpbmRleF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0aW9uKHZhbHVlczogVmFsaWRhdGlvbltdKSB7XG4gICAgdmFsdWVzLmZvckVhY2goKHsgZmllbGROYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy52YWxpZGF0aW9ucz8uaXNSZXF1aXJlZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGgpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfTogYWRkIGF0IHRoZSBsZWFzdCAxIGl0ZW0uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcmRlckVudGl0eSIsImlkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwidG90YWxJdGVtcyIsInNpemUiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsImFkZEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwiZGVsZXRlIiwidG9TdHJpbmciLCJwcmludEl0ZW1zIiwiZm9yRWFjaCIsImNsb25lIiwibWFwIiwiT3JkZXJJdGVtRW50aXR5IiwibmFtZSIsInVuaXRQcmljZSIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiaXNFcXVhbCIsIm9yZGVyIiwiZXZlcnkiLCJvcmRlckl0ZW0iLCJpbmRleCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJpc1JlcXVpcmVkIiwibWluTGVuZ3RoIiwiTWFwIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJpc0FycmF5IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsYUFBVzs7YUFBWEEsV0FBVzs7aUNBSlEscUJBQXFCO3dCQUVyQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHekMsR0FBRyxnQ0FFSCxXQUFXLGdDQUVYLE1BQU0sZ0NBeUZOLFdBQVc7QUE5Rk4sTUFBTUEsV0FBVztJQTJCdEIsSUFBSUMsRUFBRSxHQUFXO1FBQ2YsNkJBQU8sSUFBSSxFQUFFQSxHQUFFLEVBQUM7S0FDakI7SUFF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","originalCode":"import { OrderItemEntity } from './order_item_entity';\nimport { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class OrderEntity {\n  #id: string;\n\n  #customerId: string;\n\n  #items: Map<string, OrderItemEntity>;\n\n  constructor(id: string, customerId: string, items: OrderItemEntity[]) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'customerId',\n        value: customerId,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'items',\n        value: items,\n        validations: { minLength: 1 },\n      },\n    ]);\n\n    this.#id = id;\n    this.#customerId = customerId;\n    this.#items = new Map(items.map((item) => [item.id, item]));\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get customerId(): string {\n    return this.#customerId;\n  }\n\n  get items(): OrderItemEntity[] {\n    return Array.from(this.#items.values());\n  }\n\n  get totalItems(): number {\n    return this.#items.size;\n  }\n\n  get total(): number {\n    return this.items.reduce((acc, item) => acc + item.price, 0);\n  }\n\n  addItem(item: OrderItemEntity) {\n    this.#items.set(item.id, item);\n  }\n\n  removeItem(id: string) {\n    this.#items.delete(id);\n  }\n\n  toString(): string {\n    let printItems = '';\n    this.#items.forEach((item) => {\n      printItems += `${item}\\n`;\n    });\n\n    return `id: ${this.#id}\\ncustomerId: ${\n      this.#customerId\n    }\\nitems:\\n${printItems}`;\n  }\n\n  clone(): OrderEntity {\n    return new OrderEntity(\n      this.#id,\n      this.#customerId,\n      this.items.map(\n        (item) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.unitPrice,\n            item.productId,\n            item.quantity\n          )\n      )\n    );\n  }\n\n  isEqual(order: OrderEntity): boolean {\n    return (\n      this.#id === order.id &&\n      this.#customerId === order.customerId &&\n      this.totalItems === order.totalItems &&\n      this.items.every((orderItem, index) =>\n        orderItem.isEqual(order.items[index])\n      )\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (props?.validations?.minLength) {\n        if (Array.isArray(value)) {\n          if (value.length < 1) {\n            throw new ValidationError(`${fieldName}: add at the least 1 item.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/59/order_entity_5963181316e461b9e9fb4c895fa6ebaf.map","wrapperLength":82},"result":{"scriptId":"3519","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14424,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14421,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":242,"endOffset":257,"count":14}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":357,"endOffset":559,"count":56},{"startOffset":455,"endOffset":557,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":560,"endOffset":726,"count":85},{"startOffset":642,"endOffset":695,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":727,"endOffset":1041,"count":42},{"startOffset":816,"endOffset":869,"count":0},{"startOffset":911,"endOffset":999,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1042,"endOffset":1283,"count":127},{"startOffset":1147,"endOffset":1244,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1284,"endOffset":1479,"count":85}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1480,"endOffset":1620,"count":42}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1621,"endOffset":1841,"count":42}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1842,"endOffset":2040,"count":14},{"startOffset":1937,"endOffset":2023,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2041,"endOffset":2168,"count":14}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2356,"endOffset":2421,"count":21}],"isBlockCoverage":true},{"functionName":"get customerId","ranges":[{"startOffset":2426,"endOffset":2507,"count":10}],"isBlockCoverage":true},{"functionName":"get items","ranges":[{"startOffset":2512,"endOffset":2604,"count":29}],"isBlockCoverage":true},{"functionName":"get totalItems","ranges":[{"startOffset":2609,"endOffset":2690,"count":6}],"isBlockCoverage":true},{"functionName":"get total","ranges":[{"startOffset":2695,"endOffset":2782,"count":8}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2742,"endOffset":2771,"count":20}],"isBlockCoverage":true},{"functionName":"addItem","ranges":[{"startOffset":2787,"endOffset":2872,"count":1}],"isBlockCoverage":true},{"functionName":"removeItem","ranges":[{"startOffset":2877,"endOffset":2955,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2960,"endOffset":3258,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3054,"endOffset":3112,"count":8}],"isBlockCoverage":true},{"functionName":"clone","ranges":[{"startOffset":3263,"endOffset":3515,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3520,"endOffset":3788,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3723,"endOffset":3780,"count":10}],"isBlockCoverage":true},{"functionName":"OrderEntity","ranges":[{"startOffset":3793,"endOffset":5102,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5023,"endOffset":5092,"count":35}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":5105,"endOffset":5711,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5154,"endOffset":5707,"count":42},{"startOffset":5236,"endOffset":5437,"count":28},{"startOffset":5310,"endOffset":5413,"count":0},{"startOffset":5481,"endOffset":5701,"count":14},{"startOffset":5561,"endOffset":5677,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductRepository\", {\n    enumerable: true,\n    get: ()=>ProductRepository\n});\nconst _entities = require(\"@/domain/entities\");\nconst _db = require(\"../db\");\nconst _errors = require(\"@/domain/errors\");\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\nclass ProductRepository {\n    async create(product) {\n        try {\n            await _db.ProductModel.create({\n                id: product.id,\n                name: product.name,\n                price: product.price\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async find(id) {\n        try {\n            const result = await _db.ProductModel.findOne({\n                where: {\n                    id\n                },\n                rejectOnEmpty: new _errors.NotFoundError('Product not found.')\n            });\n            return ProductRepository.toProductEntity(result);\n        } catch (error) {\n            if (error instanceof _errors.NotFoundError) throw error;\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async findAll() {\n        try {\n            const result = await _db.ProductModel.findAll();\n            return result.map(ProductRepository.toProductEntity);\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async update(product) {\n        try {\n            await _db.ProductModel.update({\n                name: product.name,\n                price: product.price\n            }, {\n                where: {\n                    id: product.id\n                }\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    static toProductEntity(json) {\n        return new _entities.ProductEntity(json.id, json.name, json.price);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcnkvcHJvZHVjdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9kdWN0RW50aXR5LCBUT2JqZWN0IH0gZnJvbSAnQC9kb21haW4vZW50aXRpZXMnO1xuaW1wb3J0IHsgSVByb2R1Y3RSZXBvc2l0b3J5IH0gZnJvbSAnQC9kb21haW4vcmVwb3NpdG9yaWVzJztcblxuaW1wb3J0IHsgUHJvZHVjdE1vZGVsIH0gZnJvbSAnLi4vZGInO1xuaW1wb3J0IHsgTm90Rm91bmRFcnJvciwgVW5leHBlY3RlZEVycm9yIH0gZnJvbSAnQC9kb21haW4vZXJyb3JzJztcblxuY29uc3QgREVGQVVMVF9FUlJPUl9NRVNTQUdFID0gJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UsIHRyeSBhZ2FpbiBsYXRlci4nO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdFJlcG9zaXRvcnkgaW1wbGVtZW50cyBJUHJvZHVjdFJlcG9zaXRvcnkge1xuICBhc3luYyBjcmVhdGUocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBQcm9kdWN0TW9kZWwuY3JlYXRlKHtcbiAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgIG5hbWU6IHByb2R1Y3QubmFtZSxcbiAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgVW5leHBlY3RlZEVycm9yKGVycm9yPy5tZXNzYWdlID8/IERFRkFVTFRfRVJST1JfTUVTU0FHRSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmluZChpZDogc3RyaW5nKTogUHJvbWlzZTxQcm9kdWN0RW50aXR5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb2R1Y3RNb2RlbC5maW5kT25lKHtcbiAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgcmVqZWN0T25FbXB0eTogbmV3IE5vdEZvdW5kRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kLicpLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9kdWN0UmVwb3NpdG9yeS50b1Byb2R1Y3RFbnRpdHkocmVzdWx0KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBOb3RGb3VuZEVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmaW5kQWxsKCk6IFByb21pc2U8UHJvZHVjdEVudGl0eVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb2R1Y3RNb2RlbC5maW5kQWxsKCk7XG4gICAgICByZXR1cm4gcmVzdWx0Lm1hcChQcm9kdWN0UmVwb3NpdG9yeS50b1Byb2R1Y3RFbnRpdHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGUocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBQcm9kdWN0TW9kZWwudXBkYXRlKFxuICAgICAgICB7IG5hbWU6IHByb2R1Y3QubmFtZSwgcHJpY2U6IHByb2R1Y3QucHJpY2UgfSxcbiAgICAgICAgeyB3aGVyZTogeyBpZDogcHJvZHVjdC5pZCB9IH1cbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRFcnJvcihlcnJvcj8ubWVzc2FnZSA/PyBERUZBVUxUX0VSUk9SX01FU1NBR0UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB0b1Byb2R1Y3RFbnRpdHkoanNvbjogVE9iamVjdCkge1xuICAgIHJldHVybiBuZXcgUHJvZHVjdEVudGl0eShqc29uLmlkLCBqc29uLm5hbWUsIGpzb24ucHJpY2UpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdFJlcG9zaXRvcnkiLCJERUZBVUxUX0VSUk9SX01FU1NBR0UiLCJjcmVhdGUiLCJwcm9kdWN0IiwiUHJvZHVjdE1vZGVsIiwiaWQiLCJuYW1lIiwicHJpY2UiLCJlcnJvciIsIlVuZXhwZWN0ZWRFcnJvciIsIm1lc3NhZ2UiLCJmaW5kIiwicmVzdWx0IiwiZmluZE9uZSIsIndoZXJlIiwicmVqZWN0T25FbXB0eSIsIk5vdEZvdW5kRXJyb3IiLCJ0b1Byb2R1Y3RFbnRpdHkiLCJmaW5kQWxsIiwibWFwIiwidXBkYXRlIiwianNvbiIsIlByb2R1Y3RFbnRpdHkiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVFhQSxtQkFBaUI7O2FBQWpCQSxpQkFBaUI7OzBCQVJTLG1CQUFtQjtvQkFHN0IsT0FBTzt3QkFDVyxpQkFBaUI7QUFFaEUsTUFBTUMscUJBQXFCLEdBQUcsZ0RBQWdELEFBQUM7QUFFeEUsTUFBTUQsaUJBQWlCO0lBQzVCLE1BQU1FLE1BQU0sQ0FBQ0MsT0FBc0IsRUFBaUI7UUFDbEQsSUFBSTtZQUNGLE1BQU1DLEdBQVksYUFBQSxDQUFDRixNQUFNLENBQUM7Z0JBQ3hCRyxFQUFFLEVBQUVGLE9BQU8sQ0FBQ0UsRUFBRTtnQkFDZEMsSUFBSSxFQUFFSCxPQUFPLENBQUNHLElBQUk7Z0JBQ2xCQyxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ksS0FBSzthQUNyQixDQUFDLENBQUM7U0FDSixDQUFDLE9BQU9DLEtBQUssRUFBTztZQUNuQixNQUFNLElBQUlDLE9BQWUsZ0JBQUEsQ0FBQ0QsS0FBSyxFQUFFRSxPQUFPLElBQUlULHFCQUFxQixDQUFDLENBQUM7U0FDcEU7S0FDRjtJQUVELE1BQU1VLElBQUksQ0FBQ04sRUFBVSxFQUEwQjtRQUM3QyxJQUFJO1lBQ0YsTUFBTU8sTUFBTSxHQUFHLE1BQU1SLEdBQVksYUFBQSxDQUFDUyxPQUFPLENBQUM7Z0JBQ3hDQyxLQUFLLEVBQUU7b0JBQUVULEVBQUU7aUJBQUU7Z0JBQ2JVLGFBQWEsRUFBRSxJQUFJQyxPQUFhLGNBQUEsQ0FBQyxvQkFBb0IsQ0FBQzthQUN2RCxDQUFDLEFBQUM7WUFFSCxPQUFPaEIsaUJBQWlCLENBQUNpQixlQUFlLENBQUNMLE1BQU0sQ0FBQyxDQUFDO1NBQ2xELENBQUMsT0FBT0osS0FBSyxFQUFPO1lBQ25CLElBQUlBLEtBQUssWUFBWVEsT0FBYSxjQUFBLEVBQUUsTUFBTVIsS0FBSyxDQUFDO1lBQ2hELE1BQU0sSUFBSUMsT0FBZSxnQkFBQSxDQUFDRCxLQUFLLEVBQUVFLE9BQU8sSUFBSVQscUJBQXFCLENBQUMsQ0FBQztTQUNwRTtLQUNGO0lBRUQsTUFBTWlCLE9BQU8sR0FBNkI7UUFDeEMsSUFBSTtZQUNGLE1BQU1OLE1BQU0sR0FBRyxNQUFNUixHQUFZLGFBQUEsQ0FBQ2MsT0FBTyxFQUFFLEFBQUM7WUFDNUMsT0FBT04sTUFBTSxDQUFDTyxHQUFHLENBQUNuQixpQkFBaUIsQ0FBQ2lCLGVBQWUsQ0FBQyxDQUFDO1NBQ3RELENBQUMsT0FBT1QsS0FBSyxFQUFPO1lBQ25CLE1BQU0sSUFBSUMsT0FBZSxnQkFBQSxDQUFDRCxLQUFLLEVBQUVFLE9BQU8sSUFBSVQscUJBQXFCLENBQUMsQ0FBQztTQUNwRTtLQUNGO0lBRUQsTUFBTW1CLE1BQU0sQ0FBQ2pCLE9BQXNCLEVBQWlCO1FBQ2xELElBQUk7WUFDRixNQUFNQyxHQUFZLGFBQUEsQ0FBQ2dCLE1BQU0sQ0FDdkI7Z0JBQUVkLElBQUksRUFBRUgsT0FBTyxDQUFDRyxJQUFJO2dCQUFFQyxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ksS0FBSzthQUFFLEVBQzVDO2dCQUFFTyxLQUFLLEVBQUU7b0JBQUVULEVBQUUsRUFBRUYsT0FBTyxDQUFDRSxFQUFFO2lCQUFFO2FBQUUsQ0FDOUIsQ0FBQztTQUNILENBQUMsT0FBT0csS0FBSyxFQUFPO1lBQ25CLE1BQU0sSUFBSUMsT0FBZSxnQkFBQSxDQUFDRCxLQUFLLEVBQUVFLE9BQU8sSUFBSVQscUJBQXFCLENBQUMsQ0FBQztTQUNwRTtLQUNGO0lBRUQsT0FBT2dCLGVBQWUsQ0FBQ0ksSUFBYSxFQUFFO1FBQ3BDLE9BQU8sSUFBSUMsU0FBYSxjQUFBLENBQUNELElBQUksQ0FBQ2hCLEVBQUUsRUFBRWdCLElBQUksQ0FBQ2YsSUFBSSxFQUFFZSxJQUFJLENBQUNkLEtBQUssQ0FBQyxDQUFDO0tBQzFEO0NBQ0YifQ==","originalCode":"import { ProductEntity, TObject } from '@/domain/entities';\nimport { IProductRepository } from '@/domain/repositories';\n\nimport { ProductModel } from '../db';\nimport { NotFoundError, UnexpectedError } from '@/domain/errors';\n\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\n\nexport class ProductRepository implements IProductRepository {\n  async create(product: ProductEntity): Promise<void> {\n    try {\n      await ProductModel.create({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n      });\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async find(id: string): Promise<ProductEntity> {\n    try {\n      const result = await ProductModel.findOne({\n        where: { id },\n        rejectOnEmpty: new NotFoundError('Product not found.'),\n      });\n\n      return ProductRepository.toProductEntity(result);\n    } catch (error: any) {\n      if (error instanceof NotFoundError) throw error;\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async findAll(): Promise<ProductEntity[]> {\n    try {\n      const result = await ProductModel.findAll();\n      return result.map(ProductRepository.toProductEntity);\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async update(product: ProductEntity): Promise<void> {\n    try {\n      await ProductModel.update(\n        { name: product.name, price: product.price },\n        { where: { id: product.id } }\n      );\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  static toProductEntity(json: TObject) {\n    return new ProductEntity(json.id, json.name, json.price);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/3f/product_3f22bcf2150dbc12c4747926fbf362e9.map","wrapperLength":82},"result":{"scriptId":"3524","url":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/product.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7441,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":7438,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":248,"endOffset":269,"count":6}],"isBlockCoverage":true},{"functionName":"create","ranges":[{"startOffset":506,"endOffset":838,"count":7},{"startOffset":719,"endOffset":832,"count":0}],"isBlockCoverage":true},{"functionName":"find","ranges":[{"startOffset":843,"endOffset":1356,"count":0}],"isBlockCoverage":false},{"functionName":"findAll","ranges":[{"startOffset":1361,"endOffset":1649,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":1654,"endOffset":2049,"count":0}],"isBlockCoverage":false},{"functionName":"toProductEntity","ranges":[{"startOffset":2061,"endOffset":2166,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerRepository\", {\n    enumerable: true,\n    get: ()=>CustomerRepository\n});\nconst _entities = require(\"@/domain/entities\");\nconst _db = require(\"../db\");\nconst _errors = require(\"@/domain/errors\");\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\nclass CustomerRepository {\n    async create(customer) {\n        try {\n            await _db.CustomerModel.create({\n                id: customer.id,\n                name: customer.name,\n                isActive: customer.isActive,\n                rewardPoints: customer.rewardPoints,\n                street: customer.address.street,\n                streetNumber: customer.address.streetNumber,\n                city: customer.address.city,\n                zipCode: customer.address.zipCode\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async find(id) {\n        try {\n            const result = await _db.CustomerModel.findOne({\n                where: {\n                    id\n                },\n                rejectOnEmpty: new _errors.NotFoundError('Customer not found.')\n            });\n            return CustomerRepository.toCustomerEntity(result);\n        } catch (error) {\n            if (error instanceof _errors.NotFoundError) throw error;\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async findAll() {\n        try {\n            const result = await _db.CustomerModel.findAll();\n            return result.map(CustomerRepository.toCustomerEntity);\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async update(customer) {\n        try {\n            await _db.CustomerModel.update({\n                name: customer.name,\n                isActive: customer.isActive,\n                rewardPoints: customer.rewardPoints,\n                street: customer.address.street,\n                streetNumber: customer.address.streetNumber,\n                city: customer.address.city,\n                zipCode: customer.address.zipCode\n            }, {\n                where: {\n                    id: customer.id\n                }\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    static toCustomerEntity(json) {\n        return new _entities.CustomerEntity(json.id, json.name, new _entities.AddressEntity(json.street, json.streetNumber, json.city, json.zipCode), json.isActive, json.rewardPoints);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcnkvY3VzdG9tZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzc0VudGl0eSwgQ3VzdG9tZXJFbnRpdHksIFRPYmplY3QgfSBmcm9tICdAL2RvbWFpbi9lbnRpdGllcyc7XG5pbXBvcnQgeyBJQ3VzdG9tZXJSZXBvc2l0b3J5IH0gZnJvbSAnQC9kb21haW4vcmVwb3NpdG9yaWVzJztcblxuaW1wb3J0IHsgQ3VzdG9tZXJNb2RlbCB9IGZyb20gJy4uL2RiJztcbmltcG9ydCB7IE5vdEZvdW5kRXJyb3IsIFVuZXhwZWN0ZWRFcnJvciB9IGZyb20gJ0AvZG9tYWluL2Vycm9ycyc7XG5cbmNvbnN0IERFRkFVTFRfRVJST1JfTUVTU0FHRSA9ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlLCB0cnkgYWdhaW4gbGF0ZXIuJztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyUmVwb3NpdG9yeSBpbXBsZW1lbnRzIElDdXN0b21lclJlcG9zaXRvcnkge1xuICBhc3luYyBjcmVhdGUoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IEN1c3RvbWVyTW9kZWwuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICBuYW1lOiBjdXN0b21lci5uYW1lLFxuICAgICAgICBpc0FjdGl2ZTogY3VzdG9tZXIuaXNBY3RpdmUsXG4gICAgICAgIHJld2FyZFBvaW50czogY3VzdG9tZXIucmV3YXJkUG9pbnRzLFxuICAgICAgICBzdHJlZXQ6IGN1c3RvbWVyLmFkZHJlc3Muc3RyZWV0LFxuICAgICAgICBzdHJlZXROdW1iZXI6IGN1c3RvbWVyLmFkZHJlc3Muc3RyZWV0TnVtYmVyLFxuICAgICAgICBjaXR5OiBjdXN0b21lci5hZGRyZXNzLmNpdHksXG4gICAgICAgIHppcENvZGU6IGN1c3RvbWVyLmFkZHJlc3MuemlwQ29kZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmaW5kKGlkOiBzdHJpbmcpOiBQcm9taXNlPEN1c3RvbWVyRW50aXR5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEN1c3RvbWVyTW9kZWwuZmluZE9uZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgIHJlamVjdE9uRW1wdHk6IG5ldyBOb3RGb3VuZEVycm9yKCdDdXN0b21lciBub3QgZm91bmQuJyksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBDdXN0b21lclJlcG9zaXRvcnkudG9DdXN0b21lckVudGl0eShyZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE5vdEZvdW5kRXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRFcnJvcihlcnJvcj8ubWVzc2FnZSA/PyBERUZBVUxUX0VSUk9SX01FU1NBR0UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZpbmRBbGwoKTogUHJvbWlzZTxDdXN0b21lckVudGl0eVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEN1c3RvbWVyTW9kZWwuZmluZEFsbCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoQ3VzdG9tZXJSZXBvc2l0b3J5LnRvQ3VzdG9tZXJFbnRpdHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGUoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IEN1c3RvbWVyTW9kZWwudXBkYXRlKFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogY3VzdG9tZXIubmFtZSxcbiAgICAgICAgICBpc0FjdGl2ZTogY3VzdG9tZXIuaXNBY3RpdmUsXG4gICAgICAgICAgcmV3YXJkUG9pbnRzOiBjdXN0b21lci5yZXdhcmRQb2ludHMsXG4gICAgICAgICAgc3RyZWV0OiBjdXN0b21lci5hZGRyZXNzLnN0cmVldCxcbiAgICAgICAgICBzdHJlZXROdW1iZXI6IGN1c3RvbWVyLmFkZHJlc3Muc3RyZWV0TnVtYmVyLFxuICAgICAgICAgIGNpdHk6IGN1c3RvbWVyLmFkZHJlc3MuY2l0eSxcbiAgICAgICAgICB6aXBDb2RlOiBjdXN0b21lci5hZGRyZXNzLnppcENvZGUsXG4gICAgICAgIH0sXG4gICAgICAgIHsgd2hlcmU6IHsgaWQ6IGN1c3RvbWVyLmlkIH0gfVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgVW5leHBlY3RlZEVycm9yKGVycm9yPy5tZXNzYWdlID8/IERFRkFVTFRfRVJST1JfTUVTU0FHRSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRvQ3VzdG9tZXJFbnRpdHkoanNvbjogVE9iamVjdCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAganNvbi5pZCxcbiAgICAgIGpzb24ubmFtZSxcbiAgICAgIG5ldyBBZGRyZXNzRW50aXR5KFxuICAgICAgICBqc29uLnN0cmVldCxcbiAgICAgICAganNvbi5zdHJlZXROdW1iZXIsXG4gICAgICAgIGpzb24uY2l0eSxcbiAgICAgICAganNvbi56aXBDb2RlXG4gICAgICApLFxuICAgICAganNvbi5pc0FjdGl2ZSxcbiAgICAgIGpzb24ucmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyUmVwb3NpdG9yeSIsIkRFRkFVTFRfRVJST1JfTUVTU0FHRSIsImNyZWF0ZSIsImN1c3RvbWVyIiwiQ3VzdG9tZXJNb2RlbCIsImlkIiwibmFtZSIsImlzQWN0aXZlIiwicmV3YXJkUG9pbnRzIiwic3RyZWV0IiwiYWRkcmVzcyIsInN0cmVldE51bWJlciIsImNpdHkiLCJ6aXBDb2RlIiwiZXJyb3IiLCJVbmV4cGVjdGVkRXJyb3IiLCJtZXNzYWdlIiwiZmluZCIsInJlc3VsdCIsImZpbmRPbmUiLCJ3aGVyZSIsInJlamVjdE9uRW1wdHkiLCJOb3RGb3VuZEVycm9yIiwidG9DdXN0b21lckVudGl0eSIsImZpbmRBbGwiLCJtYXAiLCJ1cGRhdGUiLCJqc29uIiwiQ3VzdG9tZXJFbnRpdHkiLCJBZGRyZXNzRW50aXR5Il0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFRYUEsb0JBQWtCOzthQUFsQkEsa0JBQWtCOzswQkFSd0IsbUJBQW1CO29CQUc1QyxPQUFPO3dCQUNVLGlCQUFpQjtBQUVoRSxNQUFNQyxxQkFBcUIsR0FBRyxnREFBZ0QsQUFBQztBQUV4RSxNQUFNRCxrQkFBa0I7SUFDN0IsTUFBTUUsTUFBTSxDQUFDQyxRQUF3QixFQUFpQjtRQUNwRCxJQUFJO1lBQ0YsTUFBTUMsR0FBYSxjQUFBLENBQUNGLE1BQU0sQ0FBQztnQkFDekJHLEVBQUUsRUFBRUYsUUFBUSxDQUFDRSxFQUFFO2dCQUNmQyxJQUFJLEVBQUVILFFBQVEsQ0FBQ0csSUFBSTtnQkFDbkJDLFFBQVEsRUFBRUosUUFBUSxDQUFDSSxRQUFRO2dCQUMzQkMsWUFBWSxFQUFFTCxRQUFRLENBQUNLLFlBQVk7Z0JBQ25DQyxNQUFNLEVBQUVOLFFBQVEsQ0FBQ08sT0FBTyxDQUFDRCxNQUFNO2dCQUMvQkUsWUFBWSxFQUFFUixRQUFRLENBQUNPLE9BQU8sQ0FBQ0MsWUFBWTtnQkFDM0NDLElBQUksRUFBRVQsUUFBUSxDQUFDTyxPQUFP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","originalCode":"import { AddressEntity, CustomerEntity, TObject } from '@/domain/entities';\nimport { ICustomerRepository } from '@/domain/repositories';\n\nimport { CustomerModel } from '../db';\nimport { NotFoundError, UnexpectedError } from '@/domain/errors';\n\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\n\nexport class CustomerRepository implements ICustomerRepository {\n  async create(customer: CustomerEntity): Promise<void> {\n    try {\n      await CustomerModel.create({\n        id: customer.id,\n        name: customer.name,\n        isActive: customer.isActive,\n        rewardPoints: customer.rewardPoints,\n        street: customer.address.street,\n        streetNumber: customer.address.streetNumber,\n        city: customer.address.city,\n        zipCode: customer.address.zipCode,\n      });\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async find(id: string): Promise<CustomerEntity> {\n    try {\n      const result = await CustomerModel.findOne({\n        where: { id },\n        rejectOnEmpty: new NotFoundError('Customer not found.'),\n      });\n      return CustomerRepository.toCustomerEntity(result);\n    } catch (error: any) {\n      if (error instanceof NotFoundError) throw error;\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async findAll(): Promise<CustomerEntity[]> {\n    try {\n      const result = await CustomerModel.findAll();\n      return result.map(CustomerRepository.toCustomerEntity);\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async update(customer: CustomerEntity): Promise<void> {\n    try {\n      await CustomerModel.update(\n        {\n          name: customer.name,\n          isActive: customer.isActive,\n          rewardPoints: customer.rewardPoints,\n          street: customer.address.street,\n          streetNumber: customer.address.streetNumber,\n          city: customer.address.city,\n          zipCode: customer.address.zipCode,\n        },\n        { where: { id: customer.id } }\n      );\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  static toCustomerEntity(json: TObject): CustomerEntity {\n    return new CustomerEntity(\n      json.id,\n      json.name,\n      new AddressEntity(\n        json.street,\n        json.streetNumber,\n        json.city,\n        json.zipCode\n      ),\n      json.isActive,\n      json.rewardPoints\n    );\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/a6/customer_a6814c72da56a062f1af4f21e39097f8.map","wrapperLength":82},"result":{"scriptId":"3532","url":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/customer.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10009,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":10006,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":249,"endOffset":271,"count":6}],"isBlockCoverage":true},{"functionName":"create","ranges":[{"startOffset":509,"endOffset":1111,"count":7},{"startOffset":992,"endOffset":1105,"count":0}],"isBlockCoverage":true},{"functionName":"find","ranges":[{"startOffset":1116,"endOffset":1633,"count":0}],"isBlockCoverage":false},{"functionName":"findAll","ranges":[{"startOffset":1638,"endOffset":1929,"count":0}],"isBlockCoverage":false},{"functionName":"update","ranges":[{"startOffset":1934,"endOffset":2599,"count":0}],"isBlockCoverage":false},{"functionName":"toCustomerEntity","ranges":[{"startOffset":2611,"endOffset":2826,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderRepository\", {\n    enumerable: true,\n    get: ()=>OrderRepository\n});\nconst _entities = require(\"@/domain/entities\");\nconst _db = require(\"@/infrastructure/db\");\nconst _errors = require(\"@/domain/errors\");\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\nclass OrderRepository {\n    async create(order) {\n        try {\n            await _db.OrderModel.create({\n                id: order.id,\n                total: order.total,\n                customer_id: order.customerId,\n                items: order.items.map((item)=>({\n                        id: item.id,\n                        name: item.name,\n                        price: item.unitPrice,\n                        quantity: item.quantity,\n                        product_id: item.productId\n                    }))\n            }, {\n                include: [\n                    {\n                        model: _db.OrderItemModel\n                    }\n                ]\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async find(id) {\n        try {\n            const result = await _db.OrderModel.findOne({\n                where: {\n                    id\n                },\n                include: [\n                    {\n                        model: _db.OrderItemModel\n                    }\n                ],\n                rejectOnEmpty: new _errors.NotFoundError('Order not found.')\n            });\n            return OrderRepository.toEntity(result);\n        } catch (error) {\n            if (error instanceof _errors.NotFoundError) throw error;\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async findAll() {\n        try {\n            const result = await _db.OrderModel.findAll({\n                include: [\n                    {\n                        model: _db.OrderItemModel\n                    }\n                ]\n            });\n            return result.map(OrderRepository.toEntity);\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async update(order) {\n        try {\n            await this.find(order.id);\n            await _db.OrderModel.sequelize?.transaction(async (transaction)=>{\n                await _db.OrderItemModel.destroy({\n                    where: {\n                        order_id: order.id\n                    },\n                    transaction\n                });\n                await _db.OrderItemModel.bulkCreate(order.items.map((item)=>({\n                        id: item.id,\n                        name: item.name,\n                        price: item.unitPrice,\n                        quantity: item.quantity,\n                        product_id: item.productId,\n                        order_id: order.id\n                    })), {\n                    transaction\n                });\n                await _db.OrderModel.update({\n                    total: order.total\n                }, {\n                    where: {\n                        id: order.id\n                    }\n                });\n            });\n        } catch (error) {\n            if (error instanceof _errors.NotFoundError) throw error;\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    static toEntity(json) {\n        return new _entities.OrderEntity(json.id, json.customer_id, json.items.map((item)=>new _entities.OrderItemEntity(item.id, item.name, item.price, item.product_id, item.quantity)));\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcnkvb3JkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJFbnRpdHksIE9yZGVySXRlbUVudGl0eSwgVE9iamVjdCB9IGZyb20gJ0AvZG9tYWluL2VudGl0aWVzJztcbmltcG9ydCB7IElPcmRlclJlcG9zaXRvcnkgfSBmcm9tICdAL2RvbWFpbi9yZXBvc2l0b3JpZXMnO1xuaW1wb3J0IHsgT3JkZXJJdGVtTW9kZWwsIE9yZGVyTW9kZWwgfSBmcm9tICdAL2luZnJhc3RydWN0dXJlL2RiJztcbmltcG9ydCB7IE5vdEZvdW5kRXJyb3IsIFVuZXhwZWN0ZWRFcnJvciB9IGZyb20gJ0AvZG9tYWluL2Vycm9ycyc7XG5cbmNvbnN0IERFRkFVTFRfRVJST1JfTUVTU0FHRSA9ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlLCB0cnkgYWdhaW4gbGF0ZXIuJztcblxuZXhwb3J0IGNsYXNzIE9yZGVyUmVwb3NpdG9yeSBpbXBsZW1lbnRzIElPcmRlclJlcG9zaXRvcnkge1xuICBhc3luYyBjcmVhdGUob3JkZXI6IE9yZGVyRW50aXR5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IE9yZGVyTW9kZWwuY3JlYXRlKFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IG9yZGVyLmlkLFxuICAgICAgICAgIHRvdGFsOiBvcmRlci50b3RhbCxcbiAgICAgICAgICBjdXN0b21lcl9pZDogb3JkZXIuY3VzdG9tZXJJZCxcbiAgICAgICAgICBpdGVtczogb3JkZXIuaXRlbXMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICBwcmljZTogaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgICAgICAgIHByb2R1Y3RfaWQ6IGl0ZW0ucHJvZHVjdElkLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBpbmNsdWRlOiBbeyBtb2RlbDogT3JkZXJJdGVtTW9kZWwgfV0gfVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgVW5leHBlY3RlZEVycm9yKGVycm9yPy5tZXNzYWdlID8/IERFRkFVTFRfRVJST1JfTUVTU0FHRSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmluZChpZDogc3RyaW5nKTogUHJvbWlzZTxPcmRlckVudGl0eT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBPcmRlck1vZGVsLmZpbmRPbmUoe1xuICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICBpbmNsdWRlOiBbeyBtb2RlbDogT3JkZXJJdGVtTW9kZWwgfV0sXG4gICAgICAgIHJlamVjdE9uRW1wdHk6IG5ldyBOb3RGb3VuZEVycm9yKCdPcmRlciBub3QgZm91bmQuJyksXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9yZGVyUmVwb3NpdG9yeS50b0VudGl0eShyZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE5vdEZvdW5kRXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRFcnJvcihlcnJvcj8ubWVzc2FnZSA/PyBERUZBVUxUX0VSUk9SX01FU1NBR0UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZpbmRBbGwoKTogUHJvbWlzZTxPcmRlckVudGl0eVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE9yZGVyTW9kZWwuZmluZEFsbCh7XG4gICAgICAgIGluY2x1ZGU6IFt7IG1vZGVsOiBPcmRlckl0ZW1Nb2RlbCB9XSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0Lm1hcChPcmRlclJlcG9zaXRvcnkudG9FbnRpdHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGUob3JkZXI6IE9yZGVyRW50aXR5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuZmluZChvcmRlci5pZCk7XG5cbiAgICAgIGF3YWl0IE9yZGVyTW9kZWwuc2VxdWVsaXplPy50cmFuc2FjdGlvbihhc3luYyAodHJhbnNhY3Rpb24pID0+IHtcbiAgICAgICAgYXdhaXQgT3JkZXJJdGVtTW9kZWwuZGVzdHJveSh7XG4gICAgICAgICAgd2hlcmU6IHsgb3JkZXJfaWQ6IG9yZGVyLmlkIH0sXG4gICAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IE9yZGVySXRlbU1vZGVsLmJ1bGtDcmVhdGUoXG4gICAgICAgICAgb3JkZXIuaXRlbXMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICBwcmljZTogaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgICAgICAgIHByb2R1Y3RfaWQ6IGl0ZW0ucHJvZHVjdElkLFxuICAgICAgICAgICAgb3JkZXJfaWQ6IG9yZGVyLmlkLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICB7IHRyYW5zYWN0aW9uIH1cbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCBPcmRlck1vZGVsLnVwZGF0ZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbDogb3JkZXIudG90YWwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IHdoZXJlOiB7IGlkOiBvcmRlci5pZCB9IH1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE5vdEZvdW5kRXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRFcnJvcihlcnJvcj8ubWVzc2FnZSA/PyBERUZBVUxUX0VSUk9SX01FU1NBR0UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB0b0VudGl0eShqc29uOiBUT2JqZWN0KSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckVudGl0eShcbiAgICAgIGpzb24uaWQsXG4gICAgICBqc29uLmN1c3RvbWVyX2lkLFxuICAgICAganNvbi5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtOiBhbnkpID0+XG4gICAgICAgICAgbmV3IE9yZGVySXRlbUVudGl0eShcbiAgICAgICAgICAgIGl0ZW0uaWQsXG4gICAgICAgICAgICBpdGVtLm5hbWUsXG4gICAgICAgICAgICBpdGVtLnByaWNlLFxuICAgICAgICAgICAgaXRlbS5wcm9kdWN0X2lkLFxuICAgICAgICAgICAgaXRlbS5xdWFudGl0eVxuICAgICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJSZXBvc2l0b3J5IiwiREVGQVVMVF9FUlJPUl9NRVNTQUdFIiwiY3JlYXRlIiwib3JkZXIiLCJPcmRlck1vZGVsIiwiaWQiLCJ0b3RhbCIsImN1c3RvbWVyX2lkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwibWFwIiwiaXRlbSIsIm5hbWUiLCJwcmljZSIsInVuaXRQcmljZSIsInF1YW50aXR5IiwicHJvZHVjdF9pZCIsInByb2R1Y3RJZCIsImluY2x1ZGUiLCJtb2RlbCIsIk9yZGVySXRlbU1vZGVsIiwiZXJyb3IiLCJVbmV4cGVjdGVkRXJyb3IiLCJtZXNzYWdlIiwiZmluZCIsInJlc3VsdCIsImZpbmRPbmUiLCJ3aGVyZSIsInJlamVjdE9uRW1wdHkiLCJOb3RGb3VuZEVycm9yIiwidG9FbnRpdHkiLCJmaW5kQWxsIiwidXBkYXRlIiwic2VxdWVsaXplIiwidHJhbnNhY3Rpb24iLCJkZXN0cm95Iiwib3JkZXJfaWQiLCJidWxrQ3JlYXRlIiwianNvbiIsIk9yZGVyRW50aXR5IiwiT3JkZXJJdGVtRW50aXR5Il0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFPYUEsaUJBQWU7O2FBQWZBLGVBQWU7OzBCQVAwQixtQkFBbUI7b0JBRTlCLHFCQUFxQjt3QkFDakIsaUJBQWlCO0FBRWhFLE1BQU1DLHFCQUFxQixHQUFHLGdEQUFnRCxBQUFDO0FBRXhFLE1BQU1ELGVBQWU7SUFDMUIsTUFBTUUsTUFBTSxDQUFDQyxLQUFrQixFQUFpQjtRQUM5QyxJQUFJO1lBQ0YsTUFBTUMsR0FBVSxXQUFBLENBQUNGLE1BQU0sQ0FDckI7Z0JBQ0VHLEVBQUUsRUFBRUYsS0FBSyxDQUFDRSxFQUFFO2dCQUNaQyxLQUFLLEVBQUVILEtBQUssQ0FBQ0csS0FBSztnQkFDbEJDLFdBQVcsRUFBRUosS0FBSyxDQUFDSyxVQUFVO2dCQUM3QkMsS0FBSyxFQUFFTixLQUFLLENBQUNNLEtBQUssQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQUksR0FBSyxDQUFDO3dCQUNoQ04sRUFBRSxFQUFFTSxJQUFJLENBQUNOLEVBQUU7d0JBQ1hPLElBQUksRUFBRUQsSUFBSSxDQUFDQyxJQUFJO3dCQUNmQyxLQUFLLEVBQUVGLElBQUksQ0FBQ0csU0FBUzt3QkFDckJDLFFBQVEsRUFBRUosSUFBSSxDQUFDSSxRQUFRO3dCQUN2QkMsVUFBVSxFQUFFTCxJQUFJLENBQUNNLFNBQVM7cUJBQzNCLENBQUMsQ0FBQzthQUNKLEVBQ0Q7Z0JBQUVDLE9BQU8sRUFBRTtvQkFBQzt3QkFBRUMsS0FBSyxFQUFFQyxHQUFjLGVBQUE7cUJBQUU7aUJBQUM7YUFBRSxDQUN6QyxDQUFDO1NBQ0gsQ0FBQyxPQUFPQyxLQUFLLEVBQU87WUFDbkIsTUFBTSxJQUFJQyxPQUFlLGdC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","originalCode":"import { OrderEntity, OrderItemEntity, TObject } from '@/domain/entities';\nimport { IOrderRepository } from '@/domain/repositories';\nimport { OrderItemModel, OrderModel } from '@/infrastructure/db';\nimport { NotFoundError, UnexpectedError } from '@/domain/errors';\n\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\n\nexport class OrderRepository implements IOrderRepository {\n  async create(order: OrderEntity): Promise<void> {\n    try {\n      await OrderModel.create(\n        {\n          id: order.id,\n          total: order.total,\n          customer_id: order.customerId,\n          items: order.items.map((item) => ({\n            id: item.id,\n            name: item.name,\n            price: item.unitPrice,\n            quantity: item.quantity,\n            product_id: item.productId,\n          })),\n        },\n        { include: [{ model: OrderItemModel }] }\n      );\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async find(id: string): Promise<OrderEntity> {\n    try {\n      const result = await OrderModel.findOne({\n        where: { id },\n        include: [{ model: OrderItemModel }],\n        rejectOnEmpty: new NotFoundError('Order not found.'),\n      });\n\n      return OrderRepository.toEntity(result);\n    } catch (error: any) {\n      if (error instanceof NotFoundError) throw error;\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async findAll(): Promise<OrderEntity[]> {\n    try {\n      const result = await OrderModel.findAll({\n        include: [{ model: OrderItemModel }],\n      });\n\n      return result.map(OrderRepository.toEntity);\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async update(order: OrderEntity): Promise<void> {\n    try {\n      await this.find(order.id);\n\n      await OrderModel.sequelize?.transaction(async (transaction) => {\n        await OrderItemModel.destroy({\n          where: { order_id: order.id },\n          transaction,\n        });\n\n        await OrderItemModel.bulkCreate(\n          order.items.map((item) => ({\n            id: item.id,\n            name: item.name,\n            price: item.unitPrice,\n            quantity: item.quantity,\n            product_id: item.productId,\n            order_id: order.id,\n          })),\n          { transaction }\n        );\n\n        await OrderModel.update(\n          {\n            total: order.total,\n          },\n          { where: { id: order.id } }\n        );\n      });\n    } catch (error: any) {\n      if (error instanceof NotFoundError) throw error;\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  static toEntity(json: TObject) {\n    return new OrderEntity(\n      json.id,\n      json.customer_id,\n      json.items.map(\n        (item: any) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.price,\n            item.product_id,\n            item.quantity\n          )\n      )\n    );\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/c2/order_c210a68ebb29663e9b37d2dfc659d919.map","wrapperLength":82},"result":{"scriptId":"3533","url":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/order.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":12835,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":12832,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":7}],"isBlockCoverage":true},{"functionName":"create","ranges":[{"startOffset":514,"endOffset":1305,"count":7},{"startOffset":1186,"endOffset":1299,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":744,"endOffset":1002,"count":16}],"isBlockCoverage":true},{"functionName":"find","ranges":[{"startOffset":1310,"endOffset":1950,"count":5},{"startOffset":1698,"endOffset":1762,"count":3},{"startOffset":1762,"endOffset":1944,"count":2},{"startOffset":1846,"endOffset":1932,"count":0}],"isBlockCoverage":true},{"functionName":"findAll","ranges":[{"startOffset":1955,"endOffset":2386,"count":1},{"startOffset":2267,"endOffset":2380,"count":0}],"isBlockCoverage":true},{"functionName":"update","ranges":[{"startOffset":2391,"endOffset":3598,"count":2},{"startOffset":2465,"endOffset":3592,"count":1},{"startOffset":3494,"endOffset":3580,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2522,"endOffset":3397,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2811,"endOffset":3113,"count":4}],"isBlockCoverage":true},{"functionName":"toEntity","ranges":[{"startOffset":3610,"endOffset":3820,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3710,"endOffset":3811,"count":17}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":12,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467491331,"runtime":1041,"slow":false,"start":1658467490290},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.spec.ts","testResults":[{"ancestorTitles":["OrderItemEntity"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if \"id\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"id\" is empty"},{"ancestorTitles":["OrderItemEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if \"name\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"name\" is empty"},{"ancestorTitles":["OrderItemEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if \"name\" length is less than 2","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"name\" length is less than 2"},{"ancestorTitles":["OrderItemEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if \"price\" is less than 0","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"price\" is less than 0"},{"ancestorTitles":["OrderItemEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if \"quantity\" is less than 1","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"quantity\" is less than 1"},{"ancestorTitles":["OrderItemEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if \"productId\" is less than 1","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"productId\" is less than 1"},{"ancestorTitles":["OrderItemEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should return false if order item are different","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return false if order item are different"},{"ancestorTitles":["OrderItemEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should return true if order item are equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return true if order item are equals"},{"ancestorTitles":["OrderItemEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should throw an error if new OrderItem quantity is less than 1 characters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if new OrderItem quantity is less than 1 characters"},{"ancestorTitles":["OrderItemEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should update OrderItem quantity if value is valid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update OrderItem quantity if value is valid"},{"ancestorTitles":["OrderItemEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should create a valid OrderItem","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a valid OrderItem"},{"ancestorTitles":["OrderItemEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderItemEntity should create a OrderItem with default quantity, if no quantity has passed","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a OrderItem with default quantity, if no quantity has passed"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":7}],"isBlockCoverage":true},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":7}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFB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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"3517","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":20}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":126}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":34}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":76}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":110}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":34}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":105}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":76}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":23}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":21}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":3}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":2}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":4}],"isBlockCoverage":false},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":0}],"isBlockCoverage":false},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":5}],"isBlockCoverage":false},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":2}],"isBlockCoverage":false},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":2}],"isBlockCoverage":true},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":1}],"isBlockCoverage":true},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":1}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":2}],"isBlockCoverage":false},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":21}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":23}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6148,"endOffset":7044,"count":94}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":11,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467492582,"runtime":1077,"slow":false,"start":1658467491505},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.spec.ts","testResults":[{"ancestorTitles":["CustomerEntity"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should throw an error if id is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if id is empty"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should throw an error if name is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if name is empty"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should throw an error if name is less than 4 characters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if name is less than 4 characters"},{"ancestorTitles":["CustomerEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should change name","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should change name"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should throw an error if new name is invalid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if new name is invalid"},{"ancestorTitles":["CustomerEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should change address","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should change address"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should make an customer copy","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should make an customer copy"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should return \"false\" if customers are not equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return \"false\" if customers are not equals"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should return \"true\" if customers are equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return \"true\" if customers are equals"},{"ancestorTitles":["CustomerEntity"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should create a customer instance","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a customer instance"},{"ancestorTitles":["CustomerEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomerEntity should add reward","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should add reward"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerEntity\", {\n    enumerable: true,\n    get: ()=>CustomerEntity\n});\nconst _errors = require(\"../errors\");\nconst _addressEntity = require(\"./address_entity\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _address = /*#__PURE__*/ new WeakMap(), _isActive = /*#__PURE__*/ new WeakMap(), _rewardPoints = /*#__PURE__*/ new WeakMap(), _validate = /*#__PURE__*/ new WeakSet();\nclass CustomerEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get address() {\n        return _classPrivateFieldGet(this, _address);\n    }\n    get rewardPoints() {\n        return _classPrivateFieldGet(this, _rewardPoints);\n    }\n    get isActive() {\n        return _classPrivateFieldGet(this, _isActive);\n    }\n    changeName(name) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                value: name,\n                fieldName: 'name',\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    changeAddress(address) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _address, address);\n    }\n    updateRewardPoints(points) {\n        _classPrivateFieldSet(this, _rewardPoints, _classPrivateFieldGet(this, _rewardPoints) + points);\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)}\\nname: ${_classPrivateFieldGet(this, _name)}\\naddress: ${_classPrivateFieldGet(this, _address).toString()}\\nactive: ${this.isActive.toString()}`;\n    }\n    clone() {\n        return new CustomerEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _address), _classPrivateFieldGet(this, _isActive), _classPrivateFieldGet(this, _rewardPoints));\n    }\n    isEqual(customer) {\n        return _classPrivateFieldGet(this, _id) === customer.id && _classPrivateFieldGet(this, _name) === customer.name && _classPrivateFieldGet(this, _address).isEqual(customer.address);\n    }\n    constructor(id, name, address, isActive = true, rewardPoints = 0){\n        _classPrivateMethodInit(this, _validate);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _address, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _isActive, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _rewardPoints, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            },\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _address, address);\n        _classPrivateFieldSet(this, _isActive, isActive);\n        _classPrivateFieldSet(this, _rewardPoints, rewardPoints);\n    }\n}\nfunction validate(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string' || value instanceof _addressEntity.AddressEntity) {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength && value.length < props?.validations?.minLength) {\n            if (typeof value == 'string') {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9jdXN0b21lcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFZhbGlkYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEFkZHJlc3NFbnRpdHkgfSBmcm9tICcuL2FkZHJlc3NfZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjYWRkcmVzczogQWRkcmVzc0VudGl0eTtcblxuICAjaXNBY3RpdmU6IGJvb2xlYW47XG5cbiAgI3Jld2FyZFBvaW50czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFkZHJlc3M6IEFkZHJlc3NFbnRpdHksXG4gICAgaXNBY3RpdmUgPSB0cnVlLFxuICAgIHJld2FyZFBvaW50cyA9IDBcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG5cbiAgICB0aGlzLiNpZCA9IGlkO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuI2lzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgdGhpcy4jcmV3YXJkUG9pbnRzID0gcmV3YXJkUG9pbnRzO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBhZGRyZXNzKCk6IEFkZHJlc3NFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLiNhZGRyZXNzO1xuICB9XG5cbiAgZ2V0IHJld2FyZFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNyZXdhcmRQb2ludHM7XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQWN0aXZlO1xuICB9XG5cbiAgY2hhbmdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLiN2YWxpZGF0ZShbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICB9XG5cbiAgY2hhbmdlQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy4jYWRkcmVzcyA9IGFkZHJlc3M7XG4gIH1cblxuICB1cGRhdGVSZXdhcmRQb2ludHMocG9pbnRzOiBudW1iZXIpIHtcbiAgICB0aGlzLiNyZXdhcmRQb2ludHMgKz0gcG9pbnRzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGlkOiAke3RoaXMuI2lkfVxcbm5hbWU6ICR7XG4gICAgICB0aGlzLiNuYW1lXG4gICAgfVxcbmFkZHJlc3M6ICR7dGhpcy4jYWRkcmVzcy50b1N0cmluZygpfVxcbmFjdGl2ZTogJHt0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKCl9YDtcbiAgfVxuXG4gIGNsb25lKCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNuYW1lLFxuICAgICAgdGhpcy4jYWRkcmVzcyxcbiAgICAgIHRoaXMuI2lzQWN0aXZlLFxuICAgICAgdGhpcy4jcmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBjdXN0b21lci5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gY3VzdG9tZXIubmFtZSAmJlxuICAgICAgdGhpcy4jYWRkcmVzcy5pc0VxdWFsKGN1c3RvbWVyLmFkZHJlc3MpXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0ZSh2YWx1ZXM6IFZhbGlkYXRpb25bXSk6IHZvaWQge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3NFbnRpdHkpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCAmJlxuICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyRW50aXR5IiwiaWQiLCJuYW1lIiwiYWRkcmVzcyIsInJld2FyZFBvaW50cyIsImlzQWN0aXZlIiwiY2hhbmdlTmFtZSIsInZhbGlkYXRlIiwidmFsdWUiLCJmaWVsZE5hbWUiLCJ2YWxpZGF0aW9ucyIsImlzUmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJjaGFuZ2VBZGRyZXNzIiwidXBkYXRlUmV3YXJkUG9pbnRzIiwicG9pbnRzIiwidG9TdHJpbmciLCJjbG9uZSIsImlzRXF1YWwiLCJjdXN0b21lciIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwiZm9yRWFjaCIsInByb3BzIiwiQWRkcmVzc0VudGl0eSIsIlZhbGlkYXRpb25FcnJvciIsInRvTG93ZXJDYXNlIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsZ0JBQWM7O2FBQWRBLGNBQWM7O3dCQUpLLFdBQVc7K0JBRWIsa0JBQWtCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHOUMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFFBQVEsZ0NBRVIsU0FBUyxnQ0FFVCxhQUFhLGdDQW9HYixTQUFTO0FBN0dKLE1BQU1BLGNBQWM7SUF1Q3pCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsT0FBTyxHQUFrQjtRQUMzQiw2QkFBTyxJQUFJLEVBQUVBLFFBQU8sRUFBQztLQUN0QjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVBLGFBQVksRUFBQztLQUMzQjtJQUVELElBQUlDLFFBQVEsR0FBWTtRQUN0Qiw2QkFBTyxJQUFJLEVBQUVBLFNBQVEsRUFBQztLQUN2QjtJQUVEQyxVQUFVLENBQUNKLElBQVksRUFBUTtRQUM3Qix1QkFBQSxJQUFJLEVBQUVLLFNBQVEsRUFBUkEsUUFBUSxPQUFkLElBQUksRUFBVztZQUNiO2dCQUNFQyxLQUFLLEVBQUVOLElBQUk7Z0JBQ1hPLFNBQVMsRUFBRSxNQUFNO2dCQUNqQkMsV0FBVyxFQUFFO29CQUFFQyxVQUFVLEVBQUUsSUFBSTtvQkFBRUMsU0FBUyxFQUFFLENBQUM7aUJBQUU7YUFDaEQ7U0FDRixDQUFDLENBQUM7b0NBQ0dWLEtBQUksRUFBR0EsSUFBSSxFQUFDO0tBQ25CO0lBRURXLGFBQWEsQ0FBQ1YsT0FBc0IsRUFBUTtRQUMxQyx1QkFBQSxJQUFJLEVBQUVJLFNBQVEsRUFBUkEsUUFBUSxPQUFkLElBQUksRUFBVztZQUNiO2dCQUNFRSxTQUFTLEVBQUUsU0FBUztnQkFDcEJELEtBQUssRUFBRUwsT0FBTztnQkFDZE8sV0FBVyxFQUFFO29CQUFFQyxVQUFVLEVBQUUsSUFBSTtpQkFBRTthQUNsQztTQUNGLENBQUMsQ0FBQztvQ0FDR1IsUUFBTyxFQUFHQSxPQUFPLEVBQUM7S0FDekI7SUFFRFcsa0JBQWtCLENBQUNDLE1BQWMsRUFBRTtvQ0FDM0JYLGFBQVksd0JBQWxCLElBQUksRUFBRUEsYUFBWSxJQUFJVyxNQUFNLEVBQUM7S0FDOUI7SUFFREMsUUFBUSxHQUFXO1FBQ2pCLE9BQU8sQ0FBQyxJQUFJLHdCQUFFLElBQUksRUFBRWYsR0FBRSxFQUFDLFFBQVEsd0JBQzdCLElBQUksRUFBRUMsS0FBSSxFQUNYLFdBQVcsRUFBRSxzQkFBQSxJQUFJLEVBQUVDLFFBQU8sRUFBQ2EsUUFBUSxFQUFFLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQ1gsUUFBUSxDQUFDVyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDL0U7SUFFREMsS0FBSyxHQUFtQjtRQUN0QixPQUFPLElBQUlqQixjQUFjLHVCQUN2QixJQUFJLEVBQUVDLEdBQUUseUJBQ1IsSUFBSSxFQUFFQyxLQUFJLHlCQUNWLElBQUksRUFBRUMsUUFBTyx5QkFDYixJQUFJLEVBQUVFLFNBQVEseUJBQ2QsSUFBSSxFQUFFRCxhQUFZLEVBQ25CLENBQUM7S0FDSDtJQUVEYyxPQUFPLENBQUNDLFFBQXdCLEVBQVc7UUFDekMsT0FDRSxzQkFBQSxJQUFJLEVBQUVsQixHQUFFLE1BQUtrQixRQUFRLENBQUNsQixFQUFFLElBQ3hCLHNCQUFBLElBQUksRUFBRUMsS0FBSSxNQUFLaUIsUUFBUSxDQUFDakIsSUFBSSxJQUM1QixzQkFBQSxJQUFJLEVBQUVDLFFBQU8sRUFBQ2UsT0FBTyxDQUFDQyxRQUFRLENBQUNoQixPQUFPLENBQUMsQ0FDdkM7S0FDSDtJQWhHRGlCLFlBQ0VuQixFQUFVLEVBQ1ZDLElBQVksRUFDWkMsT0FBc0IsRUFDdEJFLFFBQVEsR0FBRyxJQUFJLEVBQ2ZELFlBQVksR0FBRyxDQUFDLENBQ2hCO1FBNEZGLDhCQUFBLFNBQVMsQ0F5QlIsQ0FBQTtRQXJJRCw2QkFBQSxHQUFHOzttQkFBSCxLQUFBLENBQVk7VUFBQSxDQUFBO1FBRVosNkJBQUEsS0FBSzs7bUJBQUwsS0FBQSxDQUFjO1VBQUEsQ0FBQTtRQUVkLDZCQUFBLFFBQVE7O21CQUFSLEtBQUEsQ0FBd0I7VUFBQSxDQUFBO1FBRXhCLDZCQUFBLFNBQVM7O21CQUFULEtBQUEsQ0FBbUI7VUFBQSxDQUFBO1FBRW5CLDZCQUFBLGFBQWE7O21CQUFiLEtBQUEsQ0FBc0I7VUFBQSxDQUFBO1FBU3BCLHVCQUFBLElBQUksRUFBRUcsU0FBUSxFQUFSQSxRQUFRLE9BQWQsSUFBSSxFQUFXO1lBQ2I7Z0JBQUVFLFNBQVMsRUFBRSxJQUFJO2dCQUFFRCxLQUFLLEVBQUVQLEVBQUU7Z0JBQUVTLFdBQVcsRUFBRTtvQkFBRUMsVUFBVSxFQUFFLElBQUk7aUJBQUU7YUFBRTtZQUNqRTtnQkFDRUYsU0FBUyxFQUFFLE1BQU07Z0JBQ2pCRCxLQUFLLEVBQUVOLElBQUk7Z0JBQ1hRLFdBQVcsRUFBRTtvQkFBRUMsVUFBVSxFQUFFLElBQUk7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQ2hEO1lBQ0Q7Z0JBQ0VILFNBQVMsRUFBRSxTQUFTO2dCQUNwQkQsS0FBSyxFQUFFTCxPQUFPO2dCQUNkTyxXQUFXLEVBQUU7b0JBQUVDLFVBQVUsRUFBRSxJQUFJO2lCQUFFO2FBQ2xDO1NBQ0YsQ0FBQyxDQUFDO29DQUVHVixHQUFFLEVBQUdBLEVBQUUsRUFBQztvQ0FDUkMsS0FBSSxFQUFHQSxJQUFJLEVBQUM7b0NBQ1pDLFFBQU8sRUFBR0EsT0FBTyxFQUFDO29DQUNsQkUsU0FBUSxFQUFHQSxRQUFRLEVBQUM7b0NBQ3BCRCxhQUFZLEVBQUdBLFlBQVksRUFBQztLQUNuQztDQWtHRjtBQTFCQyxTQUFBLFFBeUJDLENBekJTaUIsTUFBb0IsRUFBUTtJQUNwQ0EsTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQyxFQUFFYixTQUFTLENBQUEsRUFBRUQsS0FBSyxDQUFBLEVBQUUsR0FBR2UsS0FBSyxFQUFFLEdBQUs7UUFDakQsSUFBSUEsS0FBSyxFQUFFYixXQUFXLEVBQUVDLFVBQVUsRUFBRTtZQUNsQyxJQUFJLE9BQU9ILEtBQUssSUFBSSxRQUFRLElBQUlBLEtBQUssWUFBWWdCLGNBQWEsY0FBQSxFQUFFO2dCQUM5RCxJQUFJLENBQUNoQixLQUFLLEVBQUU7b0JBQ1YsTUFBTSxJQUFJaUIsT0FBZSxnQkFBQSxDQUN2QixDQUFDLEVBQUVoQixTQUFTLENBQUNpQixXQUFXLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FDMUMsQ0FBQztpQkFDSDthQUNGO1NBQ0Y7UUFFRCxJQUNFSCxLQUFLLEVBQUViLFdBQVcsRUFBRUUsU0FBUyxJQUM3QkosS0FBSyxDQUFDbUIsTUFBTSxHQUFHSixLQUFLLEVBQUViLFdBQVcsRUFBRUUsU0FBUyxFQUM1QztZQUNBLElBQUksT0FBT0osS0FBSyxJQUFJLFFBQVEsRUFBRTtnQkFDNUIsTUFBTSxJQUFJaUIsT0FBZSxnQkFBQSxDQUN2QixDQUFDLEVBQUVoQixTQUFTLENBQUNpQixXQUFXLEVBQUUsQ0FBQyx1Q0FBdUMsRUFDaEVILEtBQUssQ0FBQ2IsV0FBVyxDQUFDRSxTQUFTLENBQzVCLG9CQUFvQixFQUFFSixLQUFLLENBQUNtQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQ3ZDLENBQUM7YUFDSDtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0NBQ0oifQ==","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\nimport { AddressEntity } from './address_entity';\n\nexport class CustomerEntity {\n  #id: string;\n\n  #name: string;\n\n  #address: AddressEntity;\n\n  #isActive: boolean;\n\n  #rewardPoints: number;\n\n  constructor(\n    id: string,\n    name: string,\n    address: AddressEntity,\n    isActive = true,\n    rewardPoints = 0\n  ) {\n    this.#validate([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 4 },\n      },\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#address = address;\n    this.#isActive = isActive;\n    this.#rewardPoints = rewardPoints;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get address(): AddressEntity {\n    return this.#address;\n  }\n\n  get rewardPoints(): number {\n    return this.#rewardPoints;\n  }\n\n  get isActive(): boolean {\n    return this.#isActive;\n  }\n\n  changeName(name: string): void {\n    this.#validate([\n      {\n        value: name,\n        fieldName: 'name',\n        validations: { isRequired: true, minLength: 4 },\n      },\n    ]);\n    this.#name = name;\n  }\n\n  changeAddress(address: AddressEntity): void {\n    this.#validate([\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n    this.#address = address;\n  }\n\n  updateRewardPoints(points: number) {\n    this.#rewardPoints += points;\n  }\n\n  toString(): string {\n    return `id: ${this.#id}\\nname: ${\n      this.#name\n    }\\naddress: ${this.#address.toString()}\\nactive: ${this.isActive.toString()}`;\n  }\n\n  clone(): CustomerEntity {\n    return new CustomerEntity(\n      this.#id,\n      this.#name,\n      this.#address,\n      this.#isActive,\n      this.#rewardPoints\n    );\n  }\n\n  isEqual(customer: CustomerEntity): boolean {\n    return (\n      this.#id === customer.id &&\n      this.#name === customer.name &&\n      this.#address.isEqual(customer.address)\n    );\n  }\n\n  #validate(values: Validation[]): void {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string' || value instanceof AddressEntity) {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (\n        props?.validations?.minLength &&\n        value.length < props?.validations?.minLength\n      ) {\n        if (typeof value == 'string') {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/af/customer_entity_afaca2be38f2a940cb2b94a257022abd.map","wrapperLength":82},"result":{"scriptId":"3511","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16069,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16066,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":16}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":358,"endOffset":560,"count":108}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":561,"endOffset":727,"count":38}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":728,"endOffset":1042,"count":78}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1043,"endOffset":1284,"count":116}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1285,"endOffset":1480,"count":38}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1481,"endOffset":1621,"count":90}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1622,"endOffset":1842,"count":78}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1843,"endOffset":2041,"count":21}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2042,"endOffset":2169,"count":18}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2440,"endOffset":2505,"count":4}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2510,"endOffset":2579,"count":5}],"isBlockCoverage":false},{"functionName":"get address","ranges":[{"startOffset":2584,"endOffset":2659,"count":4}],"isBlockCoverage":false},{"functionName":"get rewardPoints","ranges":[{"startOffset":2664,"endOffset":2749,"count":2}],"isBlockCoverage":false},{"functionName":"get isActive","ranges":[{"startOffset":2754,"endOffset":2831,"count":2}],"isBlockCoverage":false},{"functionName":"changeName","ranges":[{"startOffset":2836,"endOffset":3207,"count":2}],"isBlockCoverage":true},{"functionName":"changeAddress","ranges":[{"startOffset":3212,"endOffset":3567,"count":1}],"isBlockCoverage":true},{"functionName":"updateRewardPoints","ranges":[{"startOffset":3572,"endOffset":3711,"count":1}],"isBlockCoverage":true},{"functionName":"toString","ranges":[{"startOffset":3716,"endOffset":3936,"count":1}],"isBlockCoverage":true},{"functionName":"clone","ranges":[{"startOffset":3941,"endOffset":4184,"count":2}],"isBlockCoverage":true},{"functionName":"isEqual","ranges":[{"startOffset":4189,"endOffset":4402,"count":3},{"startOffset":4273,"endOffset":4328,"count":2},{"startOffset":4329,"endOffset":4395,"count":2}],"isBlockCoverage":true},{"functionName":"CustomerEntity","ranges":[{"startOffset":4407,"endOffset":6035,"count":18}],"isBlockCoverage":false},{"functionName":"validate","ranges":[{"startOffset":6038,"endOffset":6788,"count":21}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6085,"endOffset":6784,"count":53}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":4}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":4}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVB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","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":29}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":65}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":32}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":52}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":84}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":32}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":52}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":52}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":13}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":13}],"isBlockCoverage":false},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":3}],"isBlockCoverage":false},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":3}],"isBlockCoverage":false},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":3}],"isBlockCoverage":false},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":3}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":2}],"isBlockCoverage":true},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":3}],"isBlockCoverage":true},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":13}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":13}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5090,"endOffset":5380,"count":52}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":12,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467493750,"runtime":1109,"slow":false,"start":1658467492641},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.spec.ts","testResults":[{"ancestorTitles":["ProductEntity"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if id is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if id is empty"},{"ancestorTitles":["ProductEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if name is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if name is empty"},{"ancestorTitles":["ProductEntity"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if name length is less than 2 characters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if name length is less than 2 characters"},{"ancestorTitles":["ProductEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if price is less than 0","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if price is less than 0"},{"ancestorTitles":["ProductEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should return false if products are different","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return false if products are different"},{"ancestorTitles":["ProductEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should return true if products are equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return true if products are equals"},{"ancestorTitles":["ProductEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if new product price is less than zero","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if new product price is less than zero"},{"ancestorTitles":["ProductEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should update price if value is valid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update price if value is valid"},{"ancestorTitles":["ProductEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if new product name is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if new product name is empty"},{"ancestorTitles":["ProductEntity"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should throw an error if new product name has less than to 2 characters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if new product name has less than to 2 characters"},{"ancestorTitles":["ProductEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should update product name if value is valid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update product name if value is valid"},{"ancestorTitles":["ProductEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProductEntity should create a valid product","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a valid product"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":7}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":7}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductEntity\", {\n    enumerable: true,\n    get: ()=>ProductEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _price = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass ProductEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _price);\n    }\n    updatePrice(price) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _price, price);\n    }\n    updateName(name) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    clone() {\n        return new ProductEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _price));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${_classPrivateFieldGet(this, _price)}`;\n    }\n    isEqual(product) {\n        return _classPrivateFieldGet(this, _id) === product.id && _classPrivateFieldGet(this, _name) === product.name && _classPrivateFieldGet(this, _price) === product.price;\n    }\n    constructor(id, name, price){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _price, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _price, price);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength === 'number') {\n            if (typeof value === 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value === 'number' && value < props?.validations?.minLength) {\n                // eslint-disable-next-line max-len\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9wcm9kdWN0X2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdEVudGl0eSB7XG4gICNpZDogc3RyaW5nO1xuXG4gICNuYW1lOiBzdHJpbmc7XG5cbiAgI3ByaWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBwcmljZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ2lkJywgdmFsdWU6IGlkLCB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnbmFtZScsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDIgfSxcbiAgICAgIH0sXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNpZDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI25hbWU7XG4gIH1cblxuICBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpY2U7XG4gIH1cblxuICB1cGRhdGVQcmljZShwcmljZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIHVwZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gIH1cblxuICBjbG9uZSgpOiBQcm9kdWN0RW50aXR5IHtcbiAgICByZXR1cm4gbmV3IFByb2R1Y3RFbnRpdHkodGhpcy4jaWQsIHRoaXMuI25hbWUsIHRoaXMuI3ByaWNlKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH0gLSBuYW1lOiAke3RoaXMuI25hbWV9IC0gcHJpY2U6ICR7dGhpcy4jcHJpY2V9YDtcbiAgfVxuXG4gIGlzRXF1YWwocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNpZCA9PT0gcHJvZHVjdC5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICB0aGlzLiNwcmljZSA9PT0gcHJvZHVjdC5wcmljZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHZhbHVlIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7XG4gICAgICAgICAgICAgIHByb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aFxuICAgICAgICAgICAgfS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdEVudGl0eSIsImlkIiwibmFtZSIsInByaWNlIiwidXBkYXRlUHJpY2UiLCJ2YWxpZGF0aW9uIiwiZmllbGROYW1lIiwidmFsdWUiLCJ2YWxpZGF0aW9ucyIsIm1pbkxlbmd0aCIsInVwZGF0ZU5hbWUiLCJpc1JlcXVpcmVkIiwiY2xvbmUiLCJ0b1N0cmluZyIsImlzRXF1YWwiLCJwcm9kdWN0IiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUhNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUl6QyxHQUFHLGdDQUVILEtBQUssZ0NBRUwsTUFBTSxnQ0FpRU4sV0FBVztBQXRFTixNQUFNQSxhQUFhO0lBc0J4QixJQUFJQyxFQUFFLEdBQVc7UUFDZiw2QkFBTyxJQUFJLEVBQUVBLEdBQUUsRUFBQztLQUNqQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLEtBQUssR0FBVztRQUNsQiw2QkFBTyxJQUFJLEVBQUVBLE1BQUssRUFBQztLQUNwQjtJQUVEQyxXQUFXLENBQUNELEtBQWEsRUFBUTtRQUMvQix1QkFBQSxJQUFJLEVBQUVFLFdBQVUsRUFBVkEsVUFBVSxPQUFo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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class ProductEntity {\n  #id: string;\n\n  #name: string;\n\n  #price: number;\n\n  constructor(id: string, name: string, price: number) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n    this.#id = id;\n    this.#name = name;\n    this.#price = price;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#price;\n  }\n\n  updatePrice(price: number): void {\n    this.#validation([\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n\n    this.#price = price;\n  }\n\n  updateName(name: string): void {\n    this.#validation([\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n    ]);\n\n    this.#name = name;\n  }\n\n  clone(): ProductEntity {\n    return new ProductEntity(this.#id, this.#name, this.#price);\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${this.#price}`;\n  }\n\n  isEqual(product: ProductEntity): boolean {\n    return (\n      this.#id === product.id &&\n      this.#name === product.name &&\n      this.#price === product.price\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength === 'number') {\n        if (\n          typeof value === 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n\n        if (\n          typeof value === 'number' &&\n          value < props?.validations?.minLength\n        ) {\n          // eslint-disable-next-line max-len\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} must be equal or greater than ${\n              props.validations.minLength\n            }. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/7f/product_entity_7fb80201a3256de731bbdd9a2b2d7032.map","wrapperLength":82},"result":{"scriptId":"5512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14298,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14295,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":17}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":72},{"startOffset":402,"endOffset":504,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":22},{"startOffset":589,"endOffset":642,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":44},{"startOffset":763,"endOffset":816,"count":0},{"startOffset":858,"endOffset":946,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":66},{"startOffset":1094,"endOffset":1191,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":22}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":54}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":44}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":23},{"startOffset":1884,"endOffset":1970,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":18}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2299,"endOffset":2364,"count":3}],"isBlockCoverage":true},{"functionName":"get name","ranges":[{"startOffset":2369,"endOffset":2438,"count":3}],"isBlockCoverage":true},{"functionName":"get price","ranges":[{"startOffset":2443,"endOffset":2514,"count":6}],"isBlockCoverage":true},{"functionName":"updatePrice","ranges":[{"startOffset":2519,"endOffset":2862,"count":2}],"isBlockCoverage":true},{"functionName":"updateName","ranges":[{"startOffset":2867,"endOffset":3242,"count":3}],"isBlockCoverage":true},{"functionName":"clone","ranges":[{"startOffset":3247,"endOffset":3403,"count":1}],"isBlockCoverage":true},{"functionName":"toString","ranges":[{"startOffset":3408,"endOffset":3578,"count":1}],"isBlockCoverage":true},{"functionName":"isEqual","ranges":[{"startOffset":3583,"endOffset":3783,"count":2},{"startOffset":3665,"endOffset":3719,"count":1},{"startOffset":3720,"endOffset":3776,"count":1}],"isBlockCoverage":true},{"functionName":"ProductEntity","ranges":[{"startOffset":3788,"endOffset":5011,"count":18}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":5014,"endOffset":6061,"count":23}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5063,"endOffset":6057,"count":55},{"startOffset":5145,"endOffset":5361,"count":38},{"startOffset":5220,"endOffset":5337,"count":3},{"startOffset":5361,"endOffset":5425,"count":52},{"startOffset":5425,"endOffset":6051,"count":35},{"startOffset":5469,"endOffset":5516,"count":18},{"startOffset":5518,"endOffset":5719,"count":2},{"startOffset":5719,"endOffset":5762,"count":33},{"startOffset":5762,"endOffset":5802,"count":17},{"startOffset":5804,"endOffset":6041,"count":2}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":5,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467495569,"runtime":1720,"slow":false,"start":1658467493849},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/customer.spec.ts","testResults":[{"ancestorTitles":["CustomerRepository"],"duration":179,"failureDetails":[],"failureMessages":[],"fullName":"CustomerRepository should create a customer","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a customer"},{"ancestorTitles":["CustomerRepository"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"CustomerRepository should update a product","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update a product"},{"ancestorTitles":["CustomerRepository"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"CustomerRepository should find a customer","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should find a customer"},{"ancestorTitles":["CustomerRepository"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"CustomerRepository should throw an error if find by a invalid customer","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if find by a invalid customer"},{"ancestorTitles":["CustomerRepository"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"CustomerRepository should find all customers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should find all customers"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerEntity\", {\n    enumerable: true,\n    get: ()=>CustomerEntity\n});\nconst _errors = require(\"../errors\");\nconst _addressEntity = require(\"./address_entity\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _address = /*#__PURE__*/ new WeakMap(), _isActive = /*#__PURE__*/ new WeakMap(), _rewardPoints = /*#__PURE__*/ new WeakMap(), _validate = /*#__PURE__*/ new WeakSet();\nclass CustomerEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get address() {\n        return _classPrivateFieldGet(this, _address);\n    }\n    get rewardPoints() {\n        return _classPrivateFieldGet(this, _rewardPoints);\n    }\n    get isActive() {\n        return _classPrivateFieldGet(this, _isActive);\n    }\n    changeName(name) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                value: name,\n                fieldName: 'name',\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    changeAddress(address) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _address, address);\n    }\n    updateRewardPoints(points) {\n        _classPrivateFieldSet(this, _rewardPoints, _classPrivateFieldGet(this, _rewardPoints) + points);\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)}\\nname: ${_classPrivateFieldGet(this, _name)}\\naddress: ${_classPrivateFieldGet(this, _address).toString()}\\nactive: ${this.isActive.toString()}`;\n    }\n    clone() {\n        return new CustomerEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _address), _classPrivateFieldGet(this, _isActive), _classPrivateFieldGet(this, _rewardPoints));\n    }\n    isEqual(customer) {\n        return _classPrivateFieldGet(this, _id) === customer.id && _classPrivateFieldGet(this, _name) === customer.name && _classPrivateFieldGet(this, _address).isEqual(customer.address);\n    }\n    constructor(id, name, address, isActive = true, rewardPoints = 0){\n        _classPrivateMethodInit(this, _validate);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _address, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _isActive, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _rewardPoints, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            },\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _address, address);\n        _classPrivateFieldSet(this, _isActive, isActive);\n        _classPrivateFieldSet(this, _rewardPoints, rewardPoints);\n    }\n}\nfunction validate(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string' || value instanceof _addressEntity.AddressEntity) {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength && value.length < props?.validations?.minLength) {\n            if (typeof value == 'string') {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9jdXN0b21lcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFZhbGlkYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEFkZHJlc3NFbnRpdHkgfSBmcm9tICcuL2FkZHJlc3NfZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjYWRkcmVzczogQWRkcmVzc0VudGl0eTtcblxuICAjaXNBY3RpdmU6IGJvb2xlYW47XG5cbiAgI3Jld2FyZFBvaW50czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFkZHJlc3M6IEFkZHJlc3NFbnRpdHksXG4gICAgaXNBY3RpdmUgPSB0cnVlLFxuICAgIHJld2FyZFBvaW50cyA9IDBcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG5cbiAgICB0aGlzLiNpZCA9IGlkO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuI2lzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgdGhpcy4jcmV3YXJkUG9pbnRzID0gcmV3YXJkUG9pbnRzO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBhZGRyZXNzKCk6IEFkZHJlc3NFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLiNhZGRyZXNzO1xuICB9XG5cbiAgZ2V0IHJld2FyZFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNyZXdhcmRQb2ludHM7XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQWN0aXZlO1xuICB9XG5cbiAgY2hhbmdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLiN2YWxpZGF0ZShbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICB9XG5cbiAgY2hhbmdlQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy4jYWRkcmVzcyA9IGFkZHJlc3M7XG4gIH1cblxuICB1cGRhdGVSZXdhcmRQb2ludHMocG9pbnRzOiBudW1iZXIpIHtcbiAgICB0aGlzLiNyZXdhcmRQb2ludHMgKz0gcG9pbnRzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGlkOiAke3RoaXMuI2lkfVxcbm5hbWU6ICR7XG4gICAgICB0aGlzLiNuYW1lXG4gICAgfVxcbmFkZHJlc3M6ICR7dGhpcy4jYWRkcmVzcy50b1N0cmluZygpfVxcbmFjdGl2ZTogJHt0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKCl9YDtcbiAgfVxuXG4gIGNsb25lKCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNuYW1lLFxuICAgICAgdGhpcy4jYWRkcmVzcyxcbiAgICAgIHRoaXMuI2lzQWN0aXZlLFxuICAgICAgdGhpcy4jcmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBjdXN0b21lci5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gY3VzdG9tZXIubmFtZSAmJlxuICAgICAgdGhpcy4jYWRkcmVzcy5pc0VxdWFsKGN1c3RvbWVyLmFkZHJlc3MpXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0ZSh2YWx1ZXM6IFZhbGlkYXRpb25bXSk6IHZvaWQge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3NFbnRpdHkpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCAmJlxuICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyRW50aXR5IiwiaWQiLCJuYW1lIiwiYWRkcmVzcyIsInJld2FyZFBvaW50cyIsImlzQWN0aXZlIiwiY2hhbmdlTmFtZSIsInZhbGlkYXRlIiwidmFsdWUiLCJmaWVsZE5hbWUiLCJ2YWxpZGF0aW9ucyIsImlzUmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJjaGFuZ2VBZGRyZXNzIiwidXBkYXRlUmV3YXJkUG9pbnRzIiwicG9pbnRzIiwidG9TdHJpbmciLCJjbG9uZSIsImlzRXF1YWwiLCJjdXN0b21lciIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwiZm9yRWFjaCIsInByb3BzIiwiQWRkcmVzc0VudGl0eSIsIlZhbGlkYXRpb25FcnJv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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\nimport { AddressEntity } from './address_entity';\n\nexport class CustomerEntity {\n  #id: string;\n\n  #name: string;\n\n  #address: AddressEntity;\n\n  #isActive: boolean;\n\n  #rewardPoints: number;\n\n  constructor(\n    id: string,\n    name: string,\n    address: AddressEntity,\n    isActive = true,\n    rewardPoints = 0\n  ) {\n    this.#validate([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 4 },\n      },\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#address = address;\n    this.#isActive = isActive;\n    this.#rewardPoints = rewardPoints;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get address(): AddressEntity {\n    return this.#address;\n  }\n\n  get rewardPoints(): number {\n    return this.#rewardPoints;\n  }\n\n  get isActive(): boolean {\n    return this.#isActive;\n  }\n\n  changeName(name: string): void {\n    this.#validate([\n      {\n        value: name,\n        fieldName: 'name',\n        validations: { isRequired: true, minLength: 4 },\n      },\n    ]);\n    this.#name = name;\n  }\n\n  changeAddress(address: AddressEntity): void {\n    this.#validate([\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n    this.#address = address;\n  }\n\n  updateRewardPoints(points: number) {\n    this.#rewardPoints += points;\n  }\n\n  toString(): string {\n    return `id: ${this.#id}\\nname: ${\n      this.#name\n    }\\naddress: ${this.#address.toString()}\\nactive: ${this.isActive.toString()}`;\n  }\n\n  clone(): CustomerEntity {\n    return new CustomerEntity(\n      this.#id,\n      this.#name,\n      this.#address,\n      this.#isActive,\n      this.#rewardPoints\n    );\n  }\n\n  isEqual(customer: CustomerEntity): boolean {\n    return (\n      this.#id === customer.id &&\n      this.#name === customer.name &&\n      this.#address.isEqual(customer.address)\n    );\n  }\n\n  #validate(values: Validation[]): void {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string' || value instanceof AddressEntity) {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (\n        props?.validations?.minLength &&\n        value.length < props?.validations?.minLength\n      ) {\n        if (typeof value == 'string') {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/af/customer_entity_afaca2be38f2a940cb2b94a257022abd.map","wrapperLength":82},"result":{"scriptId":"3511","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16069,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16066,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":17}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":358,"endOffset":560,"count":108}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":561,"endOffset":727,"count":222}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":728,"endOffset":1042,"count":91}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1043,"endOffset":1284,"count":313}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1285,"endOffset":1480,"count":222}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1481,"endOffset":1621,"count":90}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1622,"endOffset":1842,"count":91}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1843,"endOffset":2041,"count":19}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2042,"endOffset":2169,"count":18}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2440,"endOffset":2505,"count":15}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2510,"endOffset":2579,"count":12}],"isBlockCoverage":false},{"functionName":"get address","ranges":[{"startOffset":2584,"endOffset":2659,"count":38}],"isBlockCoverage":false},{"functionName":"get rewardPoints","ranges":[{"startOffset":2664,"endOffset":2749,"count":9}],"isBlockCoverage":false},{"functionName":"get isActive","ranges":[{"startOffset":2754,"endOffset":2831,"count":41}],"isBlockCoverage":false},{"functionName":"changeName","ranges":[{"startOffset":2836,"endOffset":3207,"count":1}],"isBlockCoverage":false},{"functionName":"changeAddress","ranges":[{"startOffset":3212,"endOffset":3567,"count":0}],"isBlockCoverage":false},{"functionName":"updateRewardPoints","ranges":[{"startOffset":3572,"endOffset":3711,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3716,"endOffset":3936,"count":32}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3941,"endOffset":4184,"count":1}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":4189,"endOffset":4402,"count":2}],"isBlockCoverage":false},{"functionName":"CustomerEntity","ranges":[{"startOffset":4407,"endOffset":6035,"count":18}],"isBlockCoverage":false},{"functionName":"validate","ranges":[{"startOffset":6038,"endOffset":6788,"count":19}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6085,"endOffset":6784,"count":55}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":4}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":2}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVB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","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":35}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":85}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":180}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":68}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":248}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":180}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":68}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":68}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":17}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":17}],"isBlockCoverage":false},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":11}],"isBlockCoverage":false},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":11}],"isBlockCoverage":false},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":11}],"isBlockCoverage":false},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":11}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":32}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":2}],"isBlockCoverage":false},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":17}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":17}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5090,"endOffset":5380,"count":68}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductEntity\", {\n    enumerable: true,\n    get: ()=>ProductEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _price = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass ProductEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _price);\n    }\n    updatePrice(price) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _price, price);\n    }\n    updateName(name) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    clone() {\n        return new ProductEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _price));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${_classPrivateFieldGet(this, _price)}`;\n    }\n    isEqual(product) {\n        return _classPrivateFieldGet(this, _id) === product.id && _classPrivateFieldGet(this, _name) === product.name && _classPrivateFieldGet(this, _price) === product.price;\n    }\n    constructor(id, name, price){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _price, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _price, price);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength === 'number') {\n            if (typeof value === 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value === 'number' && value < props?.validations?.minLength) {\n                // eslint-disable-next-line max-len\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9wcm9kdWN0X2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdEVudGl0eSB7XG4gICNpZDogc3RyaW5nO1xuXG4gICNuYW1lOiBzdHJpbmc7XG5cbiAgI3ByaWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBwcmljZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ2lkJywgdmFsdWU6IGlkLCB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnbmFtZScsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDIgfSxcbiAgICAgIH0sXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNpZDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI25hbWU7XG4gIH1cblxuICBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpY2U7XG4gIH1cblxuICB1cGRhdGVQcmljZShwcmljZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIHVwZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gIH1cblxuICBjbG9uZSgpOiBQcm9kdWN0RW50aXR5IHtcbiAgICByZXR1cm4gbmV3IFByb2R1Y3RFbnRpdHkodGhpcy4jaWQsIHRoaXMuI25hbWUsIHRoaXMuI3ByaWNlKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH0gLSBuYW1lOiAke3RoaXMuI25hbWV9IC0gcHJpY2U6ICR7dGhpcy4jcHJpY2V9YDtcbiAgfVxuXG4gIGlzRXF1YWwocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNpZCA9PT0gcHJvZHVjdC5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICB0aGlzLiNwcmljZSA9PT0gcHJvZHVjdC5wcmljZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHZhbHVlIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7XG4gICAgICAgICAgICAgIHByb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aFxuICAgICAgICAgICAgfS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdEVudGl0eSIsImlkIiwibmFtZSIsInByaWNlIiwidXBkYXRlUHJpY2UiLCJ2YWxpZGF0aW9uIiwiZmllbGROYW1lIiwidmFsdWUiLCJ2YWxpZGF0aW9ucyIsIm1pbkxlbmd0aCIsInVwZGF0ZU5hbWUiLCJpc1JlcXVpcmVkIiwiY2xvbmUiLCJ0b1N0cmluZyIsImlzRXF1YWwiLCJwcm9kdWN0IiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUhNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUl6QyxHQUFHLGdDQUVILEtBQUssZ0NBRUwsTUFBTSxnQ0FpRU4sV0FBVztBQXRFTixNQUFNQSxhQUFhO0lBc0J4QixJQUFJQyxFQUFFLEdBQVc7UUFDZiw2QkFBTyxJQUFJLEVBQUVBLEdBQUUsRUFBQztLQUNqQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLEtBQUssR0FBVztRQUNsQiw2QkFBTyxJQUFJLEVBQUVBLE1BQUssRUFBQztLQUNwQjtJQUVEQyxXQUFXLENBQUNELEtBQWEsRUFBUTtRQUMvQix1QkFBQSxJQUFJLEVBQUVFLFdBQVUsRUFBVkEsVUFBVSxPQUFo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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class ProductEntity {\n  #id: string;\n\n  #name: string;\n\n  #price: number;\n\n  constructor(id: string, name: string, price: number) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n    this.#id = id;\n    this.#name = name;\n    this.#price = price;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#price;\n  }\n\n  updatePrice(price: number): void {\n    this.#validation([\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n\n    this.#price = price;\n  }\n\n  updateName(name: string): void {\n    this.#validation([\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n    ]);\n\n    this.#name = name;\n  }\n\n  clone(): ProductEntity {\n    return new ProductEntity(this.#id, this.#name, this.#price);\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${this.#price}`;\n  }\n\n  isEqual(product: ProductEntity): boolean {\n    return (\n      this.#id === product.id &&\n      this.#name === product.name &&\n      this.#price === product.price\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength === 'number') {\n        if (\n          typeof value === 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n\n        if (\n          typeof value === 'number' &&\n          value < props?.validations?.minLength\n        ) {\n          // eslint-disable-next-line max-len\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} must be equal or greater than ${\n              props.validations.minLength\n            }. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/7f/product_entity_7fb80201a3256de731bbdd9a2b2d7032.map","wrapperLength":82},"result":{"scriptId":"5512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14298,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14295,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2299,"endOffset":2364,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2369,"endOffset":2438,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2443,"endOffset":2514,"count":0}],"isBlockCoverage":false},{"functionName":"updatePrice","ranges":[{"startOffset":2519,"endOffset":2862,"count":0}],"isBlockCoverage":false},{"functionName":"updateName","ranges":[{"startOffset":2867,"endOffset":3242,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3247,"endOffset":3403,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3408,"endOffset":3578,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3583,"endOffset":3783,"count":0}],"isBlockCoverage":false},{"functionName":"ProductEntity","ranges":[{"startOffset":3788,"endOffset":5011,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5014,"endOffset":6061,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFB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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"6512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":0}],"isBlockCoverage":false},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":0}],"isBlockCoverage":false},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":0}],"isBlockCoverage":false},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":0}],"isBlockCoverage":false},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":0}],"isBlockCoverage":false},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderEntity\", {\n    enumerable: true,\n    get: ()=>OrderEntity\n});\nconst _orderItemEntity = require(\"./order_item_entity\");\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _customerId = /*#__PURE__*/ new WeakMap(), _items = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get customerId() {\n        return _classPrivateFieldGet(this, _customerId);\n    }\n    get items() {\n        return Array.from(_classPrivateFieldGet(this, _items).values());\n    }\n    get totalItems() {\n        return _classPrivateFieldGet(this, _items).size;\n    }\n    get total() {\n        return this.items.reduce((acc, item)=>acc + item.price, 0);\n    }\n    addItem(item) {\n        _classPrivateFieldGet(this, _items).set(item.id, item);\n    }\n    removeItem(id) {\n        _classPrivateFieldGet(this, _items).delete(id);\n    }\n    toString() {\n        let printItems = '';\n        _classPrivateFieldGet(this, _items).forEach((item)=>{\n            printItems += `${item}\\n`;\n        });\n        return `id: ${_classPrivateFieldGet(this, _id)}\\ncustomerId: ${_classPrivateFieldGet(this, _customerId)}\\nitems:\\n${printItems}`;\n    }\n    clone() {\n        return new OrderEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _customerId), this.items.map((item)=>new _orderItemEntity.OrderItemEntity(item.id, item.name, item.unitPrice, item.productId, item.quantity)));\n    }\n    isEqual(order) {\n        return _classPrivateFieldGet(this, _id) === order.id && _classPrivateFieldGet(this, _customerId) === order.customerId && this.totalItems === order.totalItems && this.items.every((orderItem, index)=>orderItem.isEqual(order.items[index]));\n    }\n    constructor(id, customerId, items){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _customerId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _items, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'customerId',\n                value: customerId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'items',\n                value: items,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _customerId, customerId);\n        _classPrivateFieldSet(this, _items, new Map(items.map((item)=>[\n                item.id,\n                item\n            ])));\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength) {\n            if (Array.isArray(value)) {\n                if (value.length < 1) {\n                    throw new _errors.ValidationError(`${fieldName}: add at the least 1 item.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJJdGVtRW50aXR5IH0gZnJvbSAnLi9vcmRlcl9pdGVtX2VudGl0eSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJFbnRpdHkge1xuICAjaWQ6IHN0cmluZztcblxuICAjY3VzdG9tZXJJZDogc3RyaW5nO1xuXG4gICNpdGVtczogTWFwPHN0cmluZywgT3JkZXJJdGVtRW50aXR5PjtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBjdXN0b21lcklkOiBzdHJpbmcsIGl0ZW1zOiBPcmRlckl0ZW1FbnRpdHlbXSkge1xuICAgIHRoaXMuI3ZhbGlkYXRpb24oW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ2N1c3RvbWVySWQnLFxuICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZCxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnaXRlbXMnLFxuICAgICAgICB2YWx1ZTogaXRlbXMsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IG1pbkxlbmd0aDogMSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgdGhpcy4jaXRlbXMgPSBuZXcgTWFwKGl0ZW1zLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jaWQ7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNjdXN0b21lcklkO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IE9yZGVySXRlbUVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNpdGVtcy52YWx1ZXMoKSk7XG4gIH1cblxuICBnZXQgdG90YWxJdGVtcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpdGVtcy5zaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGl0ZW0ucHJpY2UsIDApO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtOiBPcmRlckl0ZW1FbnRpdHkpIHtcbiAgICB0aGlzLiNpdGVtcy5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gIH1cblxuICByZW1vdmVJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLiNpdGVtcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpbnRJdGVtcyA9ICcnO1xuICAgIHRoaXMuI2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHByaW50SXRlbXMgKz0gYCR7aXRlbX1cXG5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH1cXG5jdXN0b21lcklkOiAke1xuICAgICAgdGhpcy4jY3VzdG9tZXJJZFxuICAgIH1cXG5pdGVtczpcXG4ke3ByaW50SXRlbXN9YDtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IE9yZGVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNjdXN0b21lcklkLFxuICAgICAgdGhpcy5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwob3JkZXI6IE9yZGVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlci5pZCAmJlxuICAgICAgdGhpcy4jY3VzdG9tZXJJZCA9PT0gb3JkZXIuY3VzdG9tZXJJZCAmJlxuICAgICAgdGhpcy50b3RhbEl0ZW1zID09PSBvcmRlci50b3RhbEl0ZW1zICYmXG4gICAgICB0aGlzLml0ZW1zLmV2ZXJ5KChvcmRlckl0ZW0sIGluZGV4KSA9PlxuICAgICAgICBvcmRlckl0ZW0uaXNFcXVhbChvcmRlci5pdGVtc1tpbmRleF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0aW9uKHZhbHVlczogVmFsaWRhdGlvbltdKSB7XG4gICAgdmFsdWVzLmZvckVhY2goKHsgZmllbGROYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy52YWxpZGF0aW9ucz8uaXNSZXF1aXJlZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGgpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfTogYWRkIGF0IHRoZSBsZWFzdCAxIGl0ZW0uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcmRlckVudGl0eSIsImlkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwidG90YWxJdGVtcyIsInNpemUiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsImFkZEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwiZGVsZXRlIiwidG9TdHJpbmciLCJwcmludEl0ZW1zIiwiZm9yRWFjaCIsImNsb25lIiwibWFwIiwiT3JkZXJJdGVtRW50aXR5IiwibmFtZSIsInVuaXRQcmljZSIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiaXNFcXVhbCIsIm9yZGVyIiwiZXZlcnkiLCJvcmRlckl0ZW0iLCJpbmRleCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJpc1JlcXVpcmVkIiwibWluTGVuZ3RoIiwiTWFwIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJpc0FycmF5IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsYUFBVzs7YUFBWEEsV0FBVzs7aUNBSlEscUJBQXFCO3dCQUVyQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHekMsR0FBRyxnQ0FFSCxXQUFXLGdDQUVYLE1BQU0sZ0NBeUZOLFdBQVc7QUE5Rk4sTUFBTUEsV0FBVztJQTJCdEIsSUFBSUMsRUFBRSxHQUFXO1FBQ2YsNkJBQU8sSUFBSSxFQUFFQSxHQUFFLEVBQUM7S0FDakI7SUFF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","originalCode":"import { OrderItemEntity } from './order_item_entity';\nimport { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class OrderEntity {\n  #id: string;\n\n  #customerId: string;\n\n  #items: Map<string, OrderItemEntity>;\n\n  constructor(id: string, customerId: string, items: OrderItemEntity[]) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'customerId',\n        value: customerId,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'items',\n        value: items,\n        validations: { minLength: 1 },\n      },\n    ]);\n\n    this.#id = id;\n    this.#customerId = customerId;\n    this.#items = new Map(items.map((item) => [item.id, item]));\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get customerId(): string {\n    return this.#customerId;\n  }\n\n  get items(): OrderItemEntity[] {\n    return Array.from(this.#items.values());\n  }\n\n  get totalItems(): number {\n    return this.#items.size;\n  }\n\n  get total(): number {\n    return this.items.reduce((acc, item) => acc + item.price, 0);\n  }\n\n  addItem(item: OrderItemEntity) {\n    this.#items.set(item.id, item);\n  }\n\n  removeItem(id: string) {\n    this.#items.delete(id);\n  }\n\n  toString(): string {\n    let printItems = '';\n    this.#items.forEach((item) => {\n      printItems += `${item}\\n`;\n    });\n\n    return `id: ${this.#id}\\ncustomerId: ${\n      this.#customerId\n    }\\nitems:\\n${printItems}`;\n  }\n\n  clone(): OrderEntity {\n    return new OrderEntity(\n      this.#id,\n      this.#customerId,\n      this.items.map(\n        (item) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.unitPrice,\n            item.productId,\n            item.quantity\n          )\n      )\n    );\n  }\n\n  isEqual(order: OrderEntity): boolean {\n    return (\n      this.#id === order.id &&\n      this.#customerId === order.customerId &&\n      this.totalItems === order.totalItems &&\n      this.items.every((orderItem, index) =>\n        orderItem.isEqual(order.items[index])\n      )\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (props?.validations?.minLength) {\n        if (Array.isArray(value)) {\n          if (value.length < 1) {\n            throw new ValidationError(`${fieldName}: add at the least 1 item.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/59/order_entity_5963181316e461b9e9fb4c895fa6ebaf.map","wrapperLength":82},"result":{"scriptId":"6513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14424,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14421,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":242,"endOffset":257,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":357,"endOffset":559,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":560,"endOffset":726,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":727,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1042,"endOffset":1283,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1284,"endOffset":1479,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1480,"endOffset":1620,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1621,"endOffset":1841,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1842,"endOffset":2040,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2041,"endOffset":2168,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2356,"endOffset":2421,"count":0}],"isBlockCoverage":false},{"functionName":"get customerId","ranges":[{"startOffset":2426,"endOffset":2507,"count":0}],"isBlockCoverage":false},{"functionName":"get items","ranges":[{"startOffset":2512,"endOffset":2604,"count":0}],"isBlockCoverage":false},{"functionName":"get totalItems","ranges":[{"startOffset":2609,"endOffset":2690,"count":0}],"isBlockCoverage":false},{"functionName":"get total","ranges":[{"startOffset":2695,"endOffset":2782,"count":0}],"isBlockCoverage":false},{"functionName":"addItem","ranges":[{"startOffset":2787,"endOffset":2872,"count":0}],"isBlockCoverage":false},{"functionName":"removeItem","ranges":[{"startOffset":2877,"endOffset":2955,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2960,"endOffset":3258,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3263,"endOffset":3515,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3520,"endOffset":3788,"count":0}],"isBlockCoverage":false},{"functionName":"OrderEntity","ranges":[{"startOffset":3793,"endOffset":5102,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5105,"endOffset":5711,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerRepository\", {\n    enumerable: true,\n    get: ()=>CustomerRepository\n});\nconst _entities = require(\"@/domain/entities\");\nconst _db = require(\"../db\");\nconst _errors = require(\"@/domain/errors\");\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\nclass CustomerRepository {\n    async create(customer) {\n        try {\n            await _db.CustomerModel.create({\n                id: customer.id,\n                name: customer.name,\n                isActive: customer.isActive,\n                rewardPoints: customer.rewardPoints,\n                street: customer.address.street,\n                streetNumber: customer.address.streetNumber,\n                city: customer.address.city,\n                zipCode: customer.address.zipCode\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async find(id) {\n        try {\n            const result = await _db.CustomerModel.findOne({\n                where: {\n                    id\n                },\n                rejectOnEmpty: new _errors.NotFoundError('Customer not found.')\n            });\n            return CustomerRepository.toCustomerEntity(result);\n        } catch (error) {\n            if (error instanceof _errors.NotFoundError) throw error;\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async findAll() {\n        try {\n            const result = await _db.CustomerModel.findAll();\n            return result.map(CustomerRepository.toCustomerEntity);\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async update(customer) {\n        try {\n            await _db.CustomerModel.update({\n                name: customer.name,\n                isActive: customer.isActive,\n                rewardPoints: customer.rewardPoints,\n                street: customer.address.street,\n                streetNumber: customer.address.streetNumber,\n                city: customer.address.city,\n                zipCode: customer.address.zipCode\n            }, {\n                where: {\n                    id: customer.id\n                }\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    static toCustomerEntity(json) {\n        return new _entities.CustomerEntity(json.id, json.name, new _entities.AddressEntity(json.street, json.streetNumber, json.city, json.zipCode), json.isActive, json.rewardPoints);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcnkvY3VzdG9tZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzc0VudGl0eSwgQ3VzdG9tZXJFbnRpdHksIFRPYmplY3QgfSBmcm9tICdAL2RvbWFpbi9lbnRpdGllcyc7XG5pbXBvcnQgeyBJQ3VzdG9tZXJSZXBvc2l0b3J5IH0gZnJvbSAnQC9kb21haW4vcmVwb3NpdG9yaWVzJztcblxuaW1wb3J0IHsgQ3VzdG9tZXJNb2RlbCB9IGZyb20gJy4uL2RiJztcbmltcG9ydCB7IE5vdEZvdW5kRXJyb3IsIFVuZXhwZWN0ZWRFcnJvciB9IGZyb20gJ0AvZG9tYWluL2Vycm9ycyc7XG5cbmNvbnN0IERFRkFVTFRfRVJST1JfTUVTU0FHRSA9ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlLCB0cnkgYWdhaW4gbGF0ZXIuJztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyUmVwb3NpdG9yeSBpbXBsZW1lbnRzIElDdXN0b21lclJlcG9zaXRvcnkge1xuICBhc3luYyBjcmVhdGUoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IEN1c3RvbWVyTW9kZWwuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICBuYW1lOiBjdXN0b21lci5uYW1lLFxuICAgICAgICBpc0FjdGl2ZTogY3VzdG9tZXIuaXNBY3RpdmUsXG4gICAgICAgIHJld2FyZFBvaW50czogY3VzdG9tZXIucmV3YXJkUG9pbnRzLFxuICAgICAgICBzdHJlZXQ6IGN1c3RvbWVyLmFkZHJlc3Muc3RyZWV0LFxuICAgICAgICBzdHJlZXROdW1iZXI6IGN1c3RvbWVyLmFkZHJlc3Muc3RyZWV0TnVtYmVyLFxuICAgICAgICBjaXR5OiBjdXN0b21lci5hZGRyZXNzLmNpdHksXG4gICAgICAgIHppcENvZGU6IGN1c3RvbWVyLmFkZHJlc3MuemlwQ29kZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmaW5kKGlkOiBzdHJpbmcpOiBQcm9taXNlPEN1c3RvbWVyRW50aXR5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEN1c3RvbWVyTW9kZWwuZmluZE9uZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgIHJlamVjdE9uRW1wdHk6IG5ldyBOb3RGb3VuZEVycm9yKCdDdXN0b21lciBub3QgZm91bmQuJyksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBDdXN0b21lclJlcG9zaXRvcnkudG9DdXN0b21lckVudGl0eShyZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE5vdEZvdW5kRXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRFcnJvcihlcnJvcj8ubWVzc2FnZSA/PyBERUZBVUxUX0VSUk9SX01FU1NBR0UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZpbmRBbGwoKTogUHJvbWlzZTxDdXN0b21lckVudGl0eVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEN1c3RvbWVyTW9kZWwuZmluZEFsbCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoQ3VzdG9tZXJSZXBvc2l0b3J5LnRvQ3VzdG9tZXJFbnRpdHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGUoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IEN1c3RvbWVyTW9kZWwudXBkYXRlKFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogY3VzdG9tZXIubmFtZSxcbiAgICAgICAgICBpc0FjdGl2ZTogY3VzdG9tZXIuaXNBY3RpdmUsXG4gICAgICAgICAgcmV3YXJkUG9pbnRzOiBjdXN0b21lci5yZXdhcmRQb2ludHMsXG4gICAgICAgICAgc3RyZWV0OiBjdXN0b21lci5hZGRyZXNzLnN0cmVldCxcbiAgICAgICAgICBzdHJlZXROdW1iZXI6IGN1c3RvbWVyLmFkZHJlc3Muc3RyZWV0TnVtYmVyLFxuICAgICAgICAgIGNpdHk6IGN1c3RvbWVyLmFkZHJlc3MuY2l0eSxcbiAgICAgICAgICB6aXBDb2RlOiBjdXN0b21lci5hZGRyZXNzLnppcENvZGUsXG4gICAgICAgIH0sXG4gICAgICAgIHsgd2hlcmU6IHsgaWQ6IGN1c3RvbWVyLmlkIH0gfVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgVW5leHBlY3RlZEVycm9yKGVycm9yPy5tZXNzYWdlID8/IERFRkFVTFRfRVJST1JfTUVTU0FHRSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRvQ3VzdG9tZXJFbnRpdHkoanNvbjogVE9iamVjdCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAganNvbi5pZCxcbiAgICAgIGpzb24ubmFtZSxcbiAgICAgIG5ldyBBZGRyZXNzRW50aXR5KFxuICAgICAgICBqc29uLnN0cmVldCxcbiAgICAgICAganNvbi5zdHJlZXROdW1iZXIsXG4gICAgICAgIGpzb24uY2l0eSxcbiAgICAgICAganNvbi56aXBDb2RlXG4gICAgICApLFxuICAgICAganNvbi5pc0FjdGl2ZSxcbiAgICAgIGpzb24ucmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyUmVwb3NpdG9yeSIsIkRFRkFVTFRfRVJST1JfTUVTU0FHRSIsImNyZWF0ZSIsImN1c3RvbWVyIiwiQ3VzdG9tZXJNb2RlbCIsImlkIiwibmFtZSIsImlzQWN0aXZlIiwicmV3YXJkUG9pbnRzIiwic3RyZWV0IiwiYWRkcmVzcyIsInN0cmVldE51bWJlciIsImNpdHkiLCJ6aXBDb2RlIiwiZXJyb3IiLCJVbmV4cGVjdGVkRXJyb3IiLCJtZXNzYWdlIiwiZmluZCIsInJlc3VsdCIsImZpbmRPbmUiLCJ3aGVyZSIsInJlamVjdE9uRW1wdHkiLCJOb3RGb3VuZEVycm9yIiwidG9DdXN0b21lckVudGl0eSIsImZpbmRBbGwiLCJtYXAiLCJ1cGRhdGUiLCJqc29uIiwiQ3VzdG9tZXJFbnRpdHkiLCJBZGRyZXNzRW50aXR5Il0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFRYUEsb0JBQWtCOzthQUFsQkEsa0JBQWtCOzswQkFSd0IsbUJBQW1CO29CQUc1QyxPQUFPO3dCQUNVLGlCQUFpQjtBQUVoRSxNQUFNQyxxQkFBcUIsR0FBRyxnREFBZ0QsQUFBQztBQUV4RSxNQUFNRCxrQkFBa0I7SUFDN0IsTUFBTUUsTUFBTSxDQUFDQyxRQUF3QixFQUFpQjtRQUNwRCxJQUFJO1lBQ0YsTUFBTUMsR0FBYSxjQUFBLENBQUNGLE1BQU0sQ0FBQztnQkFDekJHLEVBQUUsRUFBRUYsUUFBUSxDQUFDRSxFQUFFO2dCQUNmQyxJQUFJLEVBQUVILFFBQVEsQ0FBQ0csSUFBSTtnQkFDbkJDLFFBQVEsRUFBRUosUUFBUSxDQUFDSSxRQUFRO2dCQUMzQkMsWUFBWSxFQUFFTCxRQUFRLENBQUNLLFlBQVk7Z0JBQ25DQyxNQUFNLEVBQUVOLFFBQVEsQ0FBQ08sT0FBTyxDQUFDRCxNQUFNO2dCQUMvQkUsWUFBWSxFQUFFUixRQUFRLENBQUNPLE9BQU8sQ0FBQ0MsWUFBWTtnQkFDM0NDLElBQUksRUFBRVQsUUFBUSxDQUFDTyxPQUFP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","originalCode":"import { AddressEntity, CustomerEntity, TObject } from '@/domain/entities';\nimport { ICustomerRepository } from '@/domain/repositories';\n\nimport { CustomerModel } from '../db';\nimport { NotFoundError, UnexpectedError } from '@/domain/errors';\n\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\n\nexport class CustomerRepository implements ICustomerRepository {\n  async create(customer: CustomerEntity): Promise<void> {\n    try {\n      await CustomerModel.create({\n        id: customer.id,\n        name: customer.name,\n        isActive: customer.isActive,\n        rewardPoints: customer.rewardPoints,\n        street: customer.address.street,\n        streetNumber: customer.address.streetNumber,\n        city: customer.address.city,\n        zipCode: customer.address.zipCode,\n      });\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async find(id: string): Promise<CustomerEntity> {\n    try {\n      const result = await CustomerModel.findOne({\n        where: { id },\n        rejectOnEmpty: new NotFoundError('Customer not found.'),\n      });\n      return CustomerRepository.toCustomerEntity(result);\n    } catch (error: any) {\n      if (error instanceof NotFoundError) throw error;\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async findAll(): Promise<CustomerEntity[]> {\n    try {\n      const result = await CustomerModel.findAll();\n      return result.map(CustomerRepository.toCustomerEntity);\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async update(customer: CustomerEntity): Promise<void> {\n    try {\n      await CustomerModel.update(\n        {\n          name: customer.name,\n          isActive: customer.isActive,\n          rewardPoints: customer.rewardPoints,\n          street: customer.address.street,\n          streetNumber: customer.address.streetNumber,\n          city: customer.address.city,\n          zipCode: customer.address.zipCode,\n        },\n        { where: { id: customer.id } }\n      );\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  static toCustomerEntity(json: TObject): CustomerEntity {\n    return new CustomerEntity(\n      json.id,\n      json.name,\n      new AddressEntity(\n        json.street,\n        json.streetNumber,\n        json.city,\n        json.zipCode\n      ),\n      json.isActive,\n      json.rewardPoints\n    );\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/a6/customer_a6814c72da56a062f1af4f21e39097f8.map","wrapperLength":82},"result":{"scriptId":"6517","url":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/customer.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10009,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":10006,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":249,"endOffset":271,"count":6}],"isBlockCoverage":true},{"functionName":"create","ranges":[{"startOffset":509,"endOffset":1111,"count":8},{"startOffset":992,"endOffset":1105,"count":0}],"isBlockCoverage":true},{"functionName":"find","ranges":[{"startOffset":1116,"endOffset":1633,"count":2},{"startOffset":1370,"endOffset":1627,"count":1},{"startOffset":1529,"endOffset":1615,"count":0}],"isBlockCoverage":true},{"functionName":"findAll","ranges":[{"startOffset":1638,"endOffset":1929,"count":1},{"startOffset":1810,"endOffset":1923,"count":0}],"isBlockCoverage":true},{"functionName":"update","ranges":[{"startOffset":1934,"endOffset":2599,"count":1},{"startOffset":2480,"endOffset":2593,"count":0}],"isBlockCoverage":true},{"functionName":"toCustomerEntity","ranges":[{"startOffset":2611,"endOffset":2826,"count":7}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":5,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467497268,"runtime":1589,"slow":false,"start":1658467495679},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/product.spec.ts","testResults":[{"ancestorTitles":["ProductRepository"],"duration":182,"failureDetails":[],"failureMessages":[],"fullName":"ProductRepository should create a product","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a product"},{"ancestorTitles":["ProductRepository"],"duration":50,"failureDetails":[],"failureMessages":[],"fullName":"ProductRepository should update a product","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update a product"},{"ancestorTitles":["ProductRepository"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"ProductRepository should throw an error if find by an invalid id product","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if find by an invalid id product"},{"ancestorTitles":["ProductRepository"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"ProductRepository should find a product","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should find a product"},{"ancestorTitles":["ProductRepository"],"duration":95,"failureDetails":[],"failureMessages":[],"fullName":"ProductRepository should find all products","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should find all products"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerEntity\", {\n    enumerable: true,\n    get: ()=>CustomerEntity\n});\nconst _errors = require(\"../errors\");\nconst _addressEntity = require(\"./address_entity\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _address = /*#__PURE__*/ new WeakMap(), _isActive = /*#__PURE__*/ new WeakMap(), _rewardPoints = /*#__PURE__*/ new WeakMap(), _validate = /*#__PURE__*/ new WeakSet();\nclass CustomerEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get address() {\n        return _classPrivateFieldGet(this, _address);\n    }\n    get rewardPoints() {\n        return _classPrivateFieldGet(this, _rewardPoints);\n    }\n    get isActive() {\n        return _classPrivateFieldGet(this, _isActive);\n    }\n    changeName(name) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                value: name,\n                fieldName: 'name',\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    changeAddress(address) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _address, address);\n    }\n    updateRewardPoints(points) {\n        _classPrivateFieldSet(this, _rewardPoints, _classPrivateFieldGet(this, _rewardPoints) + points);\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)}\\nname: ${_classPrivateFieldGet(this, _name)}\\naddress: ${_classPrivateFieldGet(this, _address).toString()}\\nactive: ${this.isActive.toString()}`;\n    }\n    clone() {\n        return new CustomerEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _address), _classPrivateFieldGet(this, _isActive), _classPrivateFieldGet(this, _rewardPoints));\n    }\n    isEqual(customer) {\n        return _classPrivateFieldGet(this, _id) === customer.id && _classPrivateFieldGet(this, _name) === customer.name && _classPrivateFieldGet(this, _address).isEqual(customer.address);\n    }\n    constructor(id, name, address, isActive = true, rewardPoints = 0){\n        _classPrivateMethodInit(this, _validate);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _address, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _isActive, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _rewardPoints, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            },\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _address, address);\n        _classPrivateFieldSet(this, _isActive, isActive);\n        _classPrivateFieldSet(this, _rewardPoints, rewardPoints);\n    }\n}\nfunction validate(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string' || value instanceof _addressEntity.AddressEntity) {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength && value.length < props?.validations?.minLength) {\n            if (typeof value == 'string') {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9jdXN0b21lcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFZhbGlkYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEFkZHJlc3NFbnRpdHkgfSBmcm9tICcuL2FkZHJlc3NfZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjYWRkcmVzczogQWRkcmVzc0VudGl0eTtcblxuICAjaXNBY3RpdmU6IGJvb2xlYW47XG5cbiAgI3Jld2FyZFBvaW50czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFkZHJlc3M6IEFkZHJlc3NFbnRpdHksXG4gICAgaXNBY3RpdmUgPSB0cnVlLFxuICAgIHJld2FyZFBvaW50cyA9IDBcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG5cbiAgICB0aGlzLiNpZCA9IGlkO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuI2lzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgdGhpcy4jcmV3YXJkUG9pbnRzID0gcmV3YXJkUG9pbnRzO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBhZGRyZXNzKCk6IEFkZHJlc3NFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLiNhZGRyZXNzO1xuICB9XG5cbiAgZ2V0IHJld2FyZFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNyZXdhcmRQb2ludHM7XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQWN0aXZlO1xuICB9XG5cbiAgY2hhbmdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLiN2YWxpZGF0ZShbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICB9XG5cbiAgY2hhbmdlQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy4jYWRkcmVzcyA9IGFkZHJlc3M7XG4gIH1cblxuICB1cGRhdGVSZXdhcmRQb2ludHMocG9pbnRzOiBudW1iZXIpIHtcbiAgICB0aGlzLiNyZXdhcmRQb2ludHMgKz0gcG9pbnRzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGlkOiAke3RoaXMuI2lkfVxcbm5hbWU6ICR7XG4gICAgICB0aGlzLiNuYW1lXG4gICAgfVxcbmFkZHJlc3M6ICR7dGhpcy4jYWRkcmVzcy50b1N0cmluZygpfVxcbmFjdGl2ZTogJHt0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKCl9YDtcbiAgfVxuXG4gIGNsb25lKCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNuYW1lLFxuICAgICAgdGhpcy4jYWRkcmVzcyxcbiAgICAgIHRoaXMuI2lzQWN0aXZlLFxuICAgICAgdGhpcy4jcmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBjdXN0b21lci5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gY3VzdG9tZXIubmFtZSAmJlxuICAgICAgdGhpcy4jYWRkcmVzcy5pc0VxdWFsKGN1c3RvbWVyLmFkZHJlc3MpXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0ZSh2YWx1ZXM6IFZhbGlkYXRpb25bXSk6IHZvaWQge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3NFbnRpdHkpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCAmJlxuICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyRW50aXR5IiwiaWQiLCJuYW1lIiwiYWRkcmVzcyIsInJld2FyZFBvaW50cyIsImlzQWN0aXZlIiwiY2hhbmdlTmFtZSIsInZhbGlkYXRlIiwidmFsdWUiLCJmaWVsZE5hbWUiLCJ2YWxpZGF0aW9ucyIsImlzUmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJjaGFuZ2VBZGRyZXNzIiwidXBkYXRlUmV3YXJkUG9pbnRzIiwicG9pbnRzIiwidG9TdHJpbmciLCJjbG9uZSIsImlzRXF1YWwiLCJjdXN0b21lciIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwiZm9yRWFjaCIsInByb3BzIiwiQWRkcmVzc0VudGl0eSIsIlZhbGlkYXRpb25FcnJv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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\nimport { AddressEntity } from './address_entity';\n\nexport class CustomerEntity {\n  #id: string;\n\n  #name: string;\n\n  #address: AddressEntity;\n\n  #isActive: boolean;\n\n  #rewardPoints: number;\n\n  constructor(\n    id: string,\n    name: string,\n    address: AddressEntity,\n    isActive = true,\n    rewardPoints = 0\n  ) {\n    this.#validate([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 4 },\n      },\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#address = address;\n    this.#isActive = isActive;\n    this.#rewardPoints = rewardPoints;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get address(): AddressEntity {\n    return this.#address;\n  }\n\n  get rewardPoints(): number {\n    return this.#rewardPoints;\n  }\n\n  get isActive(): boolean {\n    return this.#isActive;\n  }\n\n  changeName(name: string): void {\n    this.#validate([\n      {\n        value: name,\n        fieldName: 'name',\n        validations: { isRequired: true, minLength: 4 },\n      },\n    ]);\n    this.#name = name;\n  }\n\n  changeAddress(address: AddressEntity): void {\n    this.#validate([\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n    this.#address = address;\n  }\n\n  updateRewardPoints(points: number) {\n    this.#rewardPoints += points;\n  }\n\n  toString(): string {\n    return `id: ${this.#id}\\nname: ${\n      this.#name\n    }\\naddress: ${this.#address.toString()}\\nactive: ${this.isActive.toString()}`;\n  }\n\n  clone(): CustomerEntity {\n    return new CustomerEntity(\n      this.#id,\n      this.#name,\n      this.#address,\n      this.#isActive,\n      this.#rewardPoints\n    );\n  }\n\n  isEqual(customer: CustomerEntity): boolean {\n    return (\n      this.#id === customer.id &&\n      this.#name === customer.name &&\n      this.#address.isEqual(customer.address)\n    );\n  }\n\n  #validate(values: Validation[]): void {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string' || value instanceof AddressEntity) {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (\n        props?.validations?.minLength &&\n        value.length < props?.validations?.minLength\n      ) {\n        if (typeof value == 'string') {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/af/customer_entity_afaca2be38f2a940cb2b94a257022abd.map","wrapperLength":82},"result":{"scriptId":"3511","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16069,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16066,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":358,"endOffset":560,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":561,"endOffset":727,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":728,"endOffset":1042,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1043,"endOffset":1284,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1285,"endOffset":1480,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1481,"endOffset":1621,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1622,"endOffset":1842,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1843,"endOffset":2041,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2042,"endOffset":2169,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2440,"endOffset":2505,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2510,"endOffset":2579,"count":0}],"isBlockCoverage":false},{"functionName":"get address","ranges":[{"startOffset":2584,"endOffset":2659,"count":0}],"isBlockCoverage":false},{"functionName":"get rewardPoints","ranges":[{"startOffset":2664,"endOffset":2749,"count":0}],"isBlockCoverage":false},{"functionName":"get isActive","ranges":[{"startOffset":2754,"endOffset":2831,"count":0}],"isBlockCoverage":false},{"functionName":"changeName","ranges":[{"startOffset":2836,"endOffset":3207,"count":0}],"isBlockCoverage":false},{"functionName":"changeAddress","ranges":[{"startOffset":3212,"endOffset":3567,"count":0}],"isBlockCoverage":false},{"functionName":"updateRewardPoints","ranges":[{"startOffset":3572,"endOffset":3711,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3716,"endOffset":3936,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3941,"endOffset":4184,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":4189,"endOffset":4402,"count":0}],"isBlockCoverage":false},{"functionName":"CustomerEntity","ranges":[{"startOffset":4407,"endOffset":6035,"count":0}],"isBlockCoverage":false},{"functionName":"validate","ranges":[{"startOffset":6038,"endOffset":6788,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":4}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":2}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVB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","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":0}],"isBlockCoverage":false},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":0}],"isBlockCoverage":false},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":0}],"isBlockCoverage":false},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":0}],"isBlockCoverage":false},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":0}],"isBlockCoverage":false},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductEntity\", {\n    enumerable: true,\n    get: ()=>ProductEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _price = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass ProductEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _price);\n    }\n    updatePrice(price) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _price, price);\n    }\n    updateName(name) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    clone() {\n        return new ProductEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _price));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${_classPrivateFieldGet(this, _price)}`;\n    }\n    isEqual(product) {\n        return _classPrivateFieldGet(this, _id) === product.id && _classPrivateFieldGet(this, _name) === product.name && _classPrivateFieldGet(this, _price) === product.price;\n    }\n    constructor(id, name, price){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _price, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _price, price);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength === 'number') {\n            if (typeof value === 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value === 'number' && value < props?.validations?.minLength) {\n                // eslint-disable-next-line max-len\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9wcm9kdWN0X2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdEVudGl0eSB7XG4gICNpZDogc3RyaW5nO1xuXG4gICNuYW1lOiBzdHJpbmc7XG5cbiAgI3ByaWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBwcmljZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ2lkJywgdmFsdWU6IGlkLCB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnbmFtZScsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDIgfSxcbiAgICAgIH0sXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNpZDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI25hbWU7XG4gIH1cblxuICBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpY2U7XG4gIH1cblxuICB1cGRhdGVQcmljZShwcmljZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIHVwZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gIH1cblxuICBjbG9uZSgpOiBQcm9kdWN0RW50aXR5IHtcbiAgICByZXR1cm4gbmV3IFByb2R1Y3RFbnRpdHkodGhpcy4jaWQsIHRoaXMuI25hbWUsIHRoaXMuI3ByaWNlKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH0gLSBuYW1lOiAke3RoaXMuI25hbWV9IC0gcHJpY2U6ICR7dGhpcy4jcHJpY2V9YDtcbiAgfVxuXG4gIGlzRXF1YWwocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNpZCA9PT0gcHJvZHVjdC5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICB0aGlzLiNwcmljZSA9PT0gcHJvZHVjdC5wcmljZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHZhbHVlIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7XG4gICAgICAgICAgICAgIHByb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aFxuICAgICAgICAgICAgfS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdEVudGl0eSIsImlkIiwibmFtZSIsInByaWNlIiwidXBkYXRlUHJpY2UiLCJ2YWxpZGF0aW9uIiwiZmllbGROYW1lIiwidmFsdWUiLCJ2YWxpZGF0aW9ucyIsIm1pbkxlbmd0aCIsInVwZGF0ZU5hbWUiLCJpc1JlcXVpcmVkIiwiY2xvbmUiLCJ0b1N0cmluZyIsImlzRXF1YWwiLCJwcm9kdWN0IiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUhNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUl6QyxHQUFHLGdDQUVILEtBQUssZ0NBRUwsTUFBTSxnQ0FpRU4sV0FBVztBQXRFTixNQUFNQSxhQUFhO0lBc0J4QixJQUFJQyxFQUFFLEdBQVc7UUFDZiw2QkFBTyxJQUFJLEVBQUVBLEdBQUUsRUFBQztLQUNqQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLEtBQUssR0FBVztRQUNsQiw2QkFBTyxJQUFJLEVBQUVBLE1BQUssRUFBQztLQUNwQjtJQUVEQyxXQUFXLENBQUNELEtBQWEsRUFBUTtRQUMvQix1QkFBQSxJQUFJLEVBQUVFLFdBQVUsRUFBVkEsVUFBVSxPQUFo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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class ProductEntity {\n  #id: string;\n\n  #name: string;\n\n  #price: number;\n\n  constructor(id: string, name: string, price: number) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n    this.#id = id;\n    this.#name = name;\n    this.#price = price;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#price;\n  }\n\n  updatePrice(price: number): void {\n    this.#validation([\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n\n    this.#price = price;\n  }\n\n  updateName(name: string): void {\n    this.#validation([\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n    ]);\n\n    this.#name = name;\n  }\n\n  clone(): ProductEntity {\n    return new ProductEntity(this.#id, this.#name, this.#price);\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${this.#price}`;\n  }\n\n  isEqual(product: ProductEntity): boolean {\n    return (\n      this.#id === product.id &&\n      this.#name === product.name &&\n      this.#price === product.price\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength === 'number') {\n        if (\n          typeof value === 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n\n        if (\n          typeof value === 'number' &&\n          value < props?.validations?.minLength\n        ) {\n          // eslint-disable-next-line max-len\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} must be equal or greater than ${\n              props.validations.minLength\n            }. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/7f/product_entity_7fb80201a3256de731bbdd9a2b2d7032.map","wrapperLength":82},"result":{"scriptId":"5512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14298,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14295,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":16}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":68}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":153}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":53}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":206}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":153}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":51}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":53}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":19}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":17}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2299,"endOffset":2364,"count":15}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2369,"endOffset":2438,"count":12}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2443,"endOffset":2514,"count":12}],"isBlockCoverage":false},{"functionName":"updatePrice","ranges":[{"startOffset":2519,"endOffset":2862,"count":1}],"isBlockCoverage":false},{"functionName":"updateName","ranges":[{"startOffset":2867,"endOffset":3242,"count":1}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3247,"endOffset":3403,"count":1}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3408,"endOffset":3578,"count":36}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3583,"endOffset":3783,"count":1}],"isBlockCoverage":false},{"functionName":"ProductEntity","ranges":[{"startOffset":3788,"endOffset":5011,"count":17}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5014,"endOffset":6061,"count":19}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5063,"endOffset":6057,"count":53}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFB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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"6512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":0}],"isBlockCoverage":false},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":0}],"isBlockCoverage":false},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":0}],"isBlockCoverage":false},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":0}],"isBlockCoverage":false},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":0}],"isBlockCoverage":false},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderEntity\", {\n    enumerable: true,\n    get: ()=>OrderEntity\n});\nconst _orderItemEntity = require(\"./order_item_entity\");\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _customerId = /*#__PURE__*/ new WeakMap(), _items = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get customerId() {\n        return _classPrivateFieldGet(this, _customerId);\n    }\n    get items() {\n        return Array.from(_classPrivateFieldGet(this, _items).values());\n    }\n    get totalItems() {\n        return _classPrivateFieldGet(this, _items).size;\n    }\n    get total() {\n        return this.items.reduce((acc, item)=>acc + item.price, 0);\n    }\n    addItem(item) {\n        _classPrivateFieldGet(this, _items).set(item.id, item);\n    }\n    removeItem(id) {\n        _classPrivateFieldGet(this, _items).delete(id);\n    }\n    toString() {\n        let printItems = '';\n        _classPrivateFieldGet(this, _items).forEach((item)=>{\n            printItems += `${item}\\n`;\n        });\n        return `id: ${_classPrivateFieldGet(this, _id)}\\ncustomerId: ${_classPrivateFieldGet(this, _customerId)}\\nitems:\\n${printItems}`;\n    }\n    clone() {\n        return new OrderEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _customerId), this.items.map((item)=>new _orderItemEntity.OrderItemEntity(item.id, item.name, item.unitPrice, item.productId, item.quantity)));\n    }\n    isEqual(order) {\n        return _classPrivateFieldGet(this, _id) === order.id && _classPrivateFieldGet(this, _customerId) === order.customerId && this.totalItems === order.totalItems && this.items.every((orderItem, index)=>orderItem.isEqual(order.items[index]));\n    }\n    constructor(id, customerId, items){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _customerId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _items, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'customerId',\n                value: customerId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'items',\n                value: items,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _customerId, customerId);\n        _classPrivateFieldSet(this, _items, new Map(items.map((item)=>[\n                item.id,\n                item\n            ])));\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength) {\n            if (Array.isArray(value)) {\n                if (value.length < 1) {\n                    throw new _errors.ValidationError(`${fieldName}: add at the least 1 item.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJJdGVtRW50aXR5IH0gZnJvbSAnLi9vcmRlcl9pdGVtX2VudGl0eSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJFbnRpdHkge1xuICAjaWQ6IHN0cmluZztcblxuICAjY3VzdG9tZXJJZDogc3RyaW5nO1xuXG4gICNpdGVtczogTWFwPHN0cmluZywgT3JkZXJJdGVtRW50aXR5PjtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBjdXN0b21lcklkOiBzdHJpbmcsIGl0ZW1zOiBPcmRlckl0ZW1FbnRpdHlbXSkge1xuICAgIHRoaXMuI3ZhbGlkYXRpb24oW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ2N1c3RvbWVySWQnLFxuICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZCxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnaXRlbXMnLFxuICAgICAgICB2YWx1ZTogaXRlbXMsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IG1pbkxlbmd0aDogMSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgdGhpcy4jaXRlbXMgPSBuZXcgTWFwKGl0ZW1zLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jaWQ7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNjdXN0b21lcklkO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IE9yZGVySXRlbUVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNpdGVtcy52YWx1ZXMoKSk7XG4gIH1cblxuICBnZXQgdG90YWxJdGVtcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpdGVtcy5zaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGl0ZW0ucHJpY2UsIDApO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtOiBPcmRlckl0ZW1FbnRpdHkpIHtcbiAgICB0aGlzLiNpdGVtcy5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gIH1cblxuICByZW1vdmVJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLiNpdGVtcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpbnRJdGVtcyA9ICcnO1xuICAgIHRoaXMuI2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHByaW50SXRlbXMgKz0gYCR7aXRlbX1cXG5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH1cXG5jdXN0b21lcklkOiAke1xuICAgICAgdGhpcy4jY3VzdG9tZXJJZFxuICAgIH1cXG5pdGVtczpcXG4ke3ByaW50SXRlbXN9YDtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IE9yZGVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNjdXN0b21lcklkLFxuICAgICAgdGhpcy5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwob3JkZXI6IE9yZGVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlci5pZCAmJlxuICAgICAgdGhpcy4jY3VzdG9tZXJJZCA9PT0gb3JkZXIuY3VzdG9tZXJJZCAmJlxuICAgICAgdGhpcy50b3RhbEl0ZW1zID09PSBvcmRlci50b3RhbEl0ZW1zICYmXG4gICAgICB0aGlzLml0ZW1zLmV2ZXJ5KChvcmRlckl0ZW0sIGluZGV4KSA9PlxuICAgICAgICBvcmRlckl0ZW0uaXNFcXVhbChvcmRlci5pdGVtc1tpbmRleF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0aW9uKHZhbHVlczogVmFsaWRhdGlvbltdKSB7XG4gICAgdmFsdWVzLmZvckVhY2goKHsgZmllbGROYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy52YWxpZGF0aW9ucz8uaXNSZXF1aXJlZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGgpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfTogYWRkIGF0IHRoZSBsZWFzdCAxIGl0ZW0uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcmRlckVudGl0eSIsImlkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwidG90YWxJdGVtcyIsInNpemUiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsImFkZEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwiZGVsZXRlIiwidG9TdHJpbmciLCJwcmludEl0ZW1zIiwiZm9yRWFjaCIsImNsb25lIiwibWFwIiwiT3JkZXJJdGVtRW50aXR5IiwibmFtZSIsInVuaXRQcmljZSIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiaXNFcXVhbCIsIm9yZGVyIiwiZXZlcnkiLCJvcmRlckl0ZW0iLCJpbmRleCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJpc1JlcXVpcmVkIiwibWluTGVuZ3RoIiwiTWFwIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJpc0FycmF5IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsYUFBVzs7YUFBWEEsV0FBVzs7aUNBSlEscUJBQXFCO3dCQUVyQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHekMsR0FBRyxnQ0FFSCxXQUFXLGdDQUVYLE1BQU0sZ0NBeUZOLFdBQVc7QUE5Rk4sTUFBTUEsV0FBVztJQTJCdEIsSUFBSUMsRUFBRSxHQUFXO1FBQ2YsNkJBQU8sSUFBSSxFQUFFQSxHQUFFLEVBQUM7S0FDakI7SUFF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","originalCode":"import { OrderItemEntity } from './order_item_entity';\nimport { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class OrderEntity {\n  #id: string;\n\n  #customerId: string;\n\n  #items: Map<string, OrderItemEntity>;\n\n  constructor(id: string, customerId: string, items: OrderItemEntity[]) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'customerId',\n        value: customerId,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'items',\n        value: items,\n        validations: { minLength: 1 },\n      },\n    ]);\n\n    this.#id = id;\n    this.#customerId = customerId;\n    this.#items = new Map(items.map((item) => [item.id, item]));\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get customerId(): string {\n    return this.#customerId;\n  }\n\n  get items(): OrderItemEntity[] {\n    return Array.from(this.#items.values());\n  }\n\n  get totalItems(): number {\n    return this.#items.size;\n  }\n\n  get total(): number {\n    return this.items.reduce((acc, item) => acc + item.price, 0);\n  }\n\n  addItem(item: OrderItemEntity) {\n    this.#items.set(item.id, item);\n  }\n\n  removeItem(id: string) {\n    this.#items.delete(id);\n  }\n\n  toString(): string {\n    let printItems = '';\n    this.#items.forEach((item) => {\n      printItems += `${item}\\n`;\n    });\n\n    return `id: ${this.#id}\\ncustomerId: ${\n      this.#customerId\n    }\\nitems:\\n${printItems}`;\n  }\n\n  clone(): OrderEntity {\n    return new OrderEntity(\n      this.#id,\n      this.#customerId,\n      this.items.map(\n        (item) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.unitPrice,\n            item.productId,\n            item.quantity\n          )\n      )\n    );\n  }\n\n  isEqual(order: OrderEntity): boolean {\n    return (\n      this.#id === order.id &&\n      this.#customerId === order.customerId &&\n      this.totalItems === order.totalItems &&\n      this.items.every((orderItem, index) =>\n        orderItem.isEqual(order.items[index])\n      )\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (props?.validations?.minLength) {\n        if (Array.isArray(value)) {\n          if (value.length < 1) {\n            throw new ValidationError(`${fieldName}: add at the least 1 item.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/59/order_entity_5963181316e461b9e9fb4c895fa6ebaf.map","wrapperLength":82},"result":{"scriptId":"6513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14424,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14421,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":242,"endOffset":257,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":357,"endOffset":559,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":560,"endOffset":726,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":727,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1042,"endOffset":1283,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1284,"endOffset":1479,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1480,"endOffset":1620,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1621,"endOffset":1841,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1842,"endOffset":2040,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2041,"endOffset":2168,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2356,"endOffset":2421,"count":0}],"isBlockCoverage":false},{"functionName":"get customerId","ranges":[{"startOffset":2426,"endOffset":2507,"count":0}],"isBlockCoverage":false},{"functionName":"get items","ranges":[{"startOffset":2512,"endOffset":2604,"count":0}],"isBlockCoverage":false},{"functionName":"get totalItems","ranges":[{"startOffset":2609,"endOffset":2690,"count":0}],"isBlockCoverage":false},{"functionName":"get total","ranges":[{"startOffset":2695,"endOffset":2782,"count":0}],"isBlockCoverage":false},{"functionName":"addItem","ranges":[{"startOffset":2787,"endOffset":2872,"count":0}],"isBlockCoverage":false},{"functionName":"removeItem","ranges":[{"startOffset":2877,"endOffset":2955,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2960,"endOffset":3258,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3263,"endOffset":3515,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3520,"endOffset":3788,"count":0}],"isBlockCoverage":false},{"functionName":"OrderEntity","ranges":[{"startOffset":3793,"endOffset":5102,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5105,"endOffset":5711,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductRepository\", {\n    enumerable: true,\n    get: ()=>ProductRepository\n});\nconst _entities = require(\"@/domain/entities\");\nconst _db = require(\"../db\");\nconst _errors = require(\"@/domain/errors\");\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\nclass ProductRepository {\n    async create(product) {\n        try {\n            await _db.ProductModel.create({\n                id: product.id,\n                name: product.name,\n                price: product.price\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async find(id) {\n        try {\n            const result = await _db.ProductModel.findOne({\n                where: {\n                    id\n                },\n                rejectOnEmpty: new _errors.NotFoundError('Product not found.')\n            });\n            return ProductRepository.toProductEntity(result);\n        } catch (error) {\n            if (error instanceof _errors.NotFoundError) throw error;\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async findAll() {\n        try {\n            const result = await _db.ProductModel.findAll();\n            return result.map(ProductRepository.toProductEntity);\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    async update(product) {\n        try {\n            await _db.ProductModel.update({\n                name: product.name,\n                price: product.price\n            }, {\n                where: {\n                    id: product.id\n                }\n            });\n        } catch (error) {\n            throw new _errors.UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n        }\n    }\n    static toProductEntity(json) {\n        return new _entities.ProductEntity(json.id, json.name, json.price);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcnkvcHJvZHVjdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9kdWN0RW50aXR5LCBUT2JqZWN0IH0gZnJvbSAnQC9kb21haW4vZW50aXRpZXMnO1xuaW1wb3J0IHsgSVByb2R1Y3RSZXBvc2l0b3J5IH0gZnJvbSAnQC9kb21haW4vcmVwb3NpdG9yaWVzJztcblxuaW1wb3J0IHsgUHJvZHVjdE1vZGVsIH0gZnJvbSAnLi4vZGInO1xuaW1wb3J0IHsgTm90Rm91bmRFcnJvciwgVW5leHBlY3RlZEVycm9yIH0gZnJvbSAnQC9kb21haW4vZXJyb3JzJztcblxuY29uc3QgREVGQVVMVF9FUlJPUl9NRVNTQUdFID0gJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UsIHRyeSBhZ2FpbiBsYXRlci4nO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdFJlcG9zaXRvcnkgaW1wbGVtZW50cyBJUHJvZHVjdFJlcG9zaXRvcnkge1xuICBhc3luYyBjcmVhdGUocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBQcm9kdWN0TW9kZWwuY3JlYXRlKHtcbiAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgIG5hbWU6IHByb2R1Y3QubmFtZSxcbiAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgVW5leHBlY3RlZEVycm9yKGVycm9yPy5tZXNzYWdlID8/IERFRkFVTFRfRVJST1JfTUVTU0FHRSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmluZChpZDogc3RyaW5nKTogUHJvbWlzZTxQcm9kdWN0RW50aXR5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb2R1Y3RNb2RlbC5maW5kT25lKHtcbiAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgcmVqZWN0T25FbXB0eTogbmV3IE5vdEZvdW5kRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kLicpLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9kdWN0UmVwb3NpdG9yeS50b1Byb2R1Y3RFbnRpdHkocmVzdWx0KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBOb3RGb3VuZEVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmaW5kQWxsKCk6IFByb21pc2U8UHJvZHVjdEVudGl0eVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb2R1Y3RNb2RlbC5maW5kQWxsKCk7XG4gICAgICByZXR1cm4gcmVzdWx0Lm1hcChQcm9kdWN0UmVwb3NpdG9yeS50b1Byb2R1Y3RFbnRpdHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgPz8gREVGQVVMVF9FUlJPUl9NRVNTQUdFKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGUocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBQcm9kdWN0TW9kZWwudXBkYXRlKFxuICAgICAgICB7IG5hbWU6IHByb2R1Y3QubmFtZSwgcHJpY2U6IHByb2R1Y3QucHJpY2UgfSxcbiAgICAgICAgeyB3aGVyZTogeyBpZDogcHJvZHVjdC5pZCB9IH1cbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRFcnJvcihlcnJvcj8ubWVzc2FnZSA/PyBERUZBVUxUX0VSUk9SX01FU1NBR0UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB0b1Byb2R1Y3RFbnRpdHkoanNvbjogVE9iamVjdCkge1xuICAgIHJldHVybiBuZXcgUHJvZHVjdEVudGl0eShqc29uLmlkLCBqc29uLm5hbWUsIGpzb24ucHJpY2UpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdFJlcG9zaXRvcnkiLCJERUZBVUxUX0VSUk9SX01FU1NBR0UiLCJjcmVhdGUiLCJwcm9kdWN0IiwiUHJvZHVjdE1vZGVsIiwiaWQiLCJuYW1lIiwicHJpY2UiLCJlcnJvciIsIlVuZXhwZWN0ZWRFcnJvciIsIm1lc3NhZ2UiLCJmaW5kIiwicmVzdWx0IiwiZmluZE9uZSIsIndoZXJlIiwicmVqZWN0T25FbXB0eSIsIk5vdEZvdW5kRXJyb3IiLCJ0b1Byb2R1Y3RFbnRpdHkiLCJmaW5kQWxsIiwibWFwIiwidXBkYXRlIiwianNvbiIsIlByb2R1Y3RFbnRpdHkiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVFhQSxtQkFBaUI7O2FBQWpCQSxpQkFBaUI7OzBCQVJTLG1CQUFtQjtvQkFHN0IsT0FBTzt3QkFDVyxpQkFBaUI7QUFFaEUsTUFBTUMscUJBQXFCLEdBQUcsZ0RBQWdELEFBQUM7QUFFeEUsTUFBTUQsaUJBQWlCO0lBQzVCLE1BQU1FLE1BQU0sQ0FBQ0MsT0FBc0IsRUFBaUI7UUFDbEQsSUFBSTtZQUNGLE1BQU1DLEdBQVksYUFBQSxDQUFDRixNQUFNLENBQUM7Z0JBQ3hCRyxFQUFFLEVBQUVGLE9BQU8sQ0FBQ0UsRUFBRTtnQkFDZEMsSUFBSSxFQUFFSCxPQUFPLENBQUNHLElBQUk7Z0JBQ2xCQyxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ksS0FBSzthQUNyQixDQUFDLENBQUM7U0FDSixDQUFDLE9BQU9DLEtBQUssRUFBTztZQUNuQixNQUFNLElBQUlDLE9BQWUsZ0JBQUEsQ0FBQ0QsS0FBSyxFQUFFRSxPQUFPLElBQUlULHFCQUFxQixDQUFDLENBQUM7U0FDcEU7S0FDRjtJQUVELE1BQU1VLElBQUksQ0FBQ04sRUFBVSxFQUEwQjtRQUM3QyxJQUFJO1lBQ0YsTUFBTU8sTUFBTSxHQUFHLE1BQU1SLEdBQVksYUFBQSxDQUFDUyxPQUFPLENBQUM7Z0JBQ3hDQyxLQUFLLEVBQUU7b0JBQUVULEVBQUU7aUJBQUU7Z0JBQ2JVLGFBQWEsRUFBRSxJQUFJQyxPQUFhLGNBQUEsQ0FBQyxvQkFBb0IsQ0FBQzthQUN2RCxDQUFDLEFBQUM7WUFFSCxPQUFPaEIsaUJBQWlCLENBQUNpQixlQUFlLENBQUNMLE1BQU0sQ0FBQyxDQUFDO1NBQ2xELENBQUMsT0FBT0osS0FBSyxFQUFPO1lBQ25CLElBQUlBLEtBQUssWUFBWVEsT0FBYSxjQUFBLEVBQUUsTUFBTVIsS0FBSyxDQUFDO1lBQ2hELE1BQU0sSUFBSUMsT0FBZSxnQkFBQSxDQUFDRCxLQUFLLEVBQUVFLE9BQU8sSUFBSVQscUJBQXFCLENBQUMsQ0FBQztTQUNwRTtLQUNGO0lBRUQsTUFBTWlCLE9BQU8sR0FBNkI7UUFDeEMsSUFBSTtZQUNGLE1BQU1OLE1BQU0sR0FBRyxNQUFNUixHQUFZLGFBQUEsQ0FBQ2MsT0FBTyxFQUFFLEFBQUM7WUFDNUMsT0FBT04sTUFBTSxDQUFDTyxHQUFHLENBQUNuQixpQkFBaUIsQ0FBQ2lCLGVBQWUsQ0FBQyxDQUFDO1NBQ3RELENBQUMsT0FBT1QsS0FBSyxFQUFPO1lBQ25CLE1BQU0sSUFBSUMsT0FBZSxnQkFBQSxDQUFDRCxLQUFLLEVBQUVFLE9BQU8sSUFBSVQscUJBQXFCLENBQUMsQ0FBQztTQUNwRTtLQUNGO0lBRUQsTUFBTW1CLE1BQU0sQ0FBQ2pCLE9BQXNCLEVBQWlCO1FBQ2xELElBQUk7WUFDRixNQUFNQyxHQUFZLGFBQUEsQ0FBQ2dCLE1BQU0sQ0FDdkI7Z0JBQUVkLElBQUksRUFBRUgsT0FBTyxDQUFDRyxJQUFJO2dCQUFFQyxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ksS0FBSzthQUFFLEVBQzVDO2dCQUFFTyxLQUFLLEVBQUU7b0JBQUVULEVBQUUsRUFBRUYsT0FBTyxDQUFDRSxFQUFFO2lCQUFFO2FBQUUsQ0FDOUIsQ0FBQztTQUNILENBQUMsT0FBT0csS0FBSyxFQUFPO1lBQ25CLE1BQU0sSUFBSUMsT0FBZSxnQkFBQSxDQUFDRCxLQUFLLEVBQUVFLE9BQU8sSUFBSVQscUJBQXFCLENBQUMsQ0FBQztTQUNwRTtLQUNGO0lBRUQsT0FBT2dCLGVBQWUsQ0FBQ0ksSUFBYSxFQUFFO1FBQ3BDLE9BQU8sSUFBSUMsU0FBYSxjQUFBLENBQUNELElBQUksQ0FBQ2hCLEVBQUUsRUFBRWdCLElBQUksQ0FBQ2YsSUFBSSxFQUFFZSxJQUFJLENBQUNkLEtBQUssQ0FBQyxDQUFDO0tBQzFEO0NBQ0YifQ==","originalCode":"import { ProductEntity, TObject } from '@/domain/entities';\nimport { IProductRepository } from '@/domain/repositories';\n\nimport { ProductModel } from '../db';\nimport { NotFoundError, UnexpectedError } from '@/domain/errors';\n\nconst DEFAULT_ERROR_MESSAGE = 'Something went wrong, please, try again later.';\n\nexport class ProductRepository implements IProductRepository {\n  async create(product: ProductEntity): Promise<void> {\n    try {\n      await ProductModel.create({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n      });\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async find(id: string): Promise<ProductEntity> {\n    try {\n      const result = await ProductModel.findOne({\n        where: { id },\n        rejectOnEmpty: new NotFoundError('Product not found.'),\n      });\n\n      return ProductRepository.toProductEntity(result);\n    } catch (error: any) {\n      if (error instanceof NotFoundError) throw error;\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async findAll(): Promise<ProductEntity[]> {\n    try {\n      const result = await ProductModel.findAll();\n      return result.map(ProductRepository.toProductEntity);\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  async update(product: ProductEntity): Promise<void> {\n    try {\n      await ProductModel.update(\n        { name: product.name, price: product.price },\n        { where: { id: product.id } }\n      );\n    } catch (error: any) {\n      throw new UnexpectedError(error?.message ?? DEFAULT_ERROR_MESSAGE);\n    }\n  }\n\n  static toProductEntity(json: TObject) {\n    return new ProductEntity(json.id, json.name, json.price);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/3f/product_3f22bcf2150dbc12c4747926fbf362e9.map","wrapperLength":82},"result":{"scriptId":"7252","url":"/Users/jandir/Mastery/fullcycle/entities/src/infrastructure/repository/product.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":7441,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":7438,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":248,"endOffset":269,"count":5}],"isBlockCoverage":true},{"functionName":"create","ranges":[{"startOffset":506,"endOffset":838,"count":8},{"startOffset":719,"endOffset":832,"count":0}],"isBlockCoverage":true},{"functionName":"find","ranges":[{"startOffset":843,"endOffset":1356,"count":2},{"startOffset":1095,"endOffset":1350,"count":1},{"startOffset":1252,"endOffset":1338,"count":0}],"isBlockCoverage":true},{"functionName":"findAll","ranges":[{"startOffset":1361,"endOffset":1649,"count":1},{"startOffset":1530,"endOffset":1643,"count":0}],"isBlockCoverage":true},{"functionName":"update","ranges":[{"startOffset":1654,"endOffset":2049,"count":1},{"startOffset":1930,"endOffset":2043,"count":0}],"isBlockCoverage":true},{"functionName":"toProductEntity","ranges":[{"startOffset":2061,"endOffset":2166,"count":6}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":8,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467498536,"runtime":1206,"slow":false,"start":1658467497330},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.spec.ts","testResults":[{"ancestorTitles":["OrderEntity"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should throw an error if \"id\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"id\" is empty"},{"ancestorTitles":["OrderEntity"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should throw an error if \"costumerId\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"costumerId\" is empty"},{"ancestorTitles":["OrderEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should throw an error if \"items\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"items\" is empty"},{"ancestorTitles":["OrderEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should return order total","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return order total"},{"ancestorTitles":["OrderEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should return items quantity","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return items quantity"},{"ancestorTitles":["OrderEntity"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should return \"false\" if orders are not equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return \"false\" if orders are not equals"},{"ancestorTitles":["OrderEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should return \"true\" if orders are equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return \"true\" if orders are equals"},{"ancestorTitles":["OrderEntity"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"OrderEntity should create an order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create an order"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":3}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":3}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFB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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"6512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":33}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":198},{"startOffset":406,"endOffset":508,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":129},{"startOffset":593,"endOffset":646,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":165},{"startOffset":767,"endOffset":820,"count":0},{"startOffset":862,"endOffset":950,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":294},{"startOffset":1098,"endOffset":1195,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":129}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":165}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":165}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":33},{"startOffset":1888,"endOffset":1974,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":33}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":36}],"isBlockCoverage":true},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":6}],"isBlockCoverage":true},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":18}],"isBlockCoverage":true},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":3}],"isBlockCoverage":true},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":6}],"isBlockCoverage":true},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":6}],"isBlockCoverage":true},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":6}],"isBlockCoverage":true},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":3}],"isBlockCoverage":true},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":33}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":33}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6148,"endOffset":7044,"count":165},{"startOffset":6230,"endOffset":6431,"count":99},{"startOffset":6304,"endOffset":6407,"count":0},{"startOffset":6494,"endOffset":7038,"count":99},{"startOffset":6537,"endOffset":6584,"count":33},{"startOffset":6586,"endOffset":6773,"count":0},{"startOffset":6815,"endOffset":6855,"count":66},{"startOffset":6857,"endOffset":7028,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderEntity\", {\n    enumerable: true,\n    get: ()=>OrderEntity\n});\nconst _orderItemEntity = require(\"./order_item_entity\");\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _customerId = /*#__PURE__*/ new WeakMap(), _items = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get customerId() {\n        return _classPrivateFieldGet(this, _customerId);\n    }\n    get items() {\n        return Array.from(_classPrivateFieldGet(this, _items).values());\n    }\n    get totalItems() {\n        return _classPrivateFieldGet(this, _items).size;\n    }\n    get total() {\n        return this.items.reduce((acc, item)=>acc + item.price, 0);\n    }\n    addItem(item) {\n        _classPrivateFieldGet(this, _items).set(item.id, item);\n    }\n    removeItem(id) {\n        _classPrivateFieldGet(this, _items).delete(id);\n    }\n    toString() {\n        let printItems = '';\n        _classPrivateFieldGet(this, _items).forEach((item)=>{\n            printItems += `${item}\\n`;\n        });\n        return `id: ${_classPrivateFieldGet(this, _id)}\\ncustomerId: ${_classPrivateFieldGet(this, _customerId)}\\nitems:\\n${printItems}`;\n    }\n    clone() {\n        return new OrderEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _customerId), this.items.map((item)=>new _orderItemEntity.OrderItemEntity(item.id, item.name, item.unitPrice, item.productId, item.quantity)));\n    }\n    isEqual(order) {\n        return _classPrivateFieldGet(this, _id) === order.id && _classPrivateFieldGet(this, _customerId) === order.customerId && this.totalItems === order.totalItems && this.items.every((orderItem, index)=>orderItem.isEqual(order.items[index]));\n    }\n    constructor(id, customerId, items){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _customerId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _items, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'customerId',\n                value: customerId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'items',\n                value: items,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _customerId, customerId);\n        _classPrivateFieldSet(this, _items, new Map(items.map((item)=>[\n                item.id,\n                item\n            ])));\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength) {\n            if (Array.isArray(value)) {\n                if (value.length < 1) {\n                    throw new _errors.ValidationError(`${fieldName}: add at the least 1 item.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJJdGVtRW50aXR5IH0gZnJvbSAnLi9vcmRlcl9pdGVtX2VudGl0eSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJFbnRpdHkge1xuICAjaWQ6IHN0cmluZztcblxuICAjY3VzdG9tZXJJZDogc3RyaW5nO1xuXG4gICNpdGVtczogTWFwPHN0cmluZywgT3JkZXJJdGVtRW50aXR5PjtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBjdXN0b21lcklkOiBzdHJpbmcsIGl0ZW1zOiBPcmRlckl0ZW1FbnRpdHlbXSkge1xuICAgIHRoaXMuI3ZhbGlkYXRpb24oW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ2N1c3RvbWVySWQnLFxuICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZCxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnaXRlbXMnLFxuICAgICAgICB2YWx1ZTogaXRlbXMsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IG1pbkxlbmd0aDogMSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgdGhpcy4jaXRlbXMgPSBuZXcgTWFwKGl0ZW1zLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jaWQ7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNjdXN0b21lcklkO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IE9yZGVySXRlbUVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNpdGVtcy52YWx1ZXMoKSk7XG4gIH1cblxuICBnZXQgdG90YWxJdGVtcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpdGVtcy5zaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGl0ZW0ucHJpY2UsIDApO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtOiBPcmRlckl0ZW1FbnRpdHkpIHtcbiAgICB0aGlzLiNpdGVtcy5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gIH1cblxuICByZW1vdmVJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLiNpdGVtcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpbnRJdGVtcyA9ICcnO1xuICAgIHRoaXMuI2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHByaW50SXRlbXMgKz0gYCR7aXRlbX1cXG5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH1cXG5jdXN0b21lcklkOiAke1xuICAgICAgdGhpcy4jY3VzdG9tZXJJZFxuICAgIH1cXG5pdGVtczpcXG4ke3ByaW50SXRlbXN9YDtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IE9yZGVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNjdXN0b21lcklkLFxuICAgICAgdGhpcy5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwob3JkZXI6IE9yZGVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlci5pZCAmJlxuICAgICAgdGhpcy4jY3VzdG9tZXJJZCA9PT0gb3JkZXIuY3VzdG9tZXJJZCAmJlxuICAgICAgdGhpcy50b3RhbEl0ZW1zID09PSBvcmRlci50b3RhbEl0ZW1zICYmXG4gICAgICB0aGlzLml0ZW1zLmV2ZXJ5KChvcmRlckl0ZW0sIGluZGV4KSA9PlxuICAgICAgICBvcmRlckl0ZW0uaXNFcXVhbChvcmRlci5pdGVtc1tpbmRleF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0aW9uKHZhbHVlczogVmFsaWRhdGlvbltdKSB7XG4gICAgdmFsdWVzLmZvckVhY2goKHsgZmllbGROYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy52YWxpZGF0aW9ucz8uaXNSZXF1aXJlZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGgpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfTogYWRkIGF0IHRoZSBsZWFzdCAxIGl0ZW0uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcmRlckVudGl0eSIsImlkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwidG90YWxJdGVtcyIsInNpemUiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsImFkZEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwiZGVsZXRlIiwidG9TdHJpbmciLCJwcmludEl0ZW1zIiwiZm9yRWFjaCIsImNsb25lIiwibWFwIiwiT3JkZXJJdGVtRW50aXR5IiwibmFtZSIsInVuaXRQcmljZSIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiaXNFcXVhbCIsIm9yZGVyIiwiZXZlcnkiLCJvcmRlckl0ZW0iLCJpbmRleCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJpc1JlcXVpcmVkIiwibWluTGVuZ3RoIiwiTWFwIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJpc0FycmF5IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsYUFBVzs7YUFBWEEsV0FBVzs7aUNBSlEscUJBQXFCO3dCQUVyQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHekMsR0FBRyxnQ0FFSCxXQUFXLGdDQUVYLE1BQU0sZ0NBeUZOLFdBQVc7QUE5Rk4sTUFBTUEsV0FBVztJQTJCdEIsSUFBSUMsRUFBRSxHQUFXO1FBQ2YsNkJBQU8sSUFBSSxFQUFFQSxHQUFFLEVBQUM7S0FDakI7SUFF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","originalCode":"import { OrderItemEntity } from './order_item_entity';\nimport { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class OrderEntity {\n  #id: string;\n\n  #customerId: string;\n\n  #items: Map<string, OrderItemEntity>;\n\n  constructor(id: string, customerId: string, items: OrderItemEntity[]) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'customerId',\n        value: customerId,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'items',\n        value: items,\n        validations: { minLength: 1 },\n      },\n    ]);\n\n    this.#id = id;\n    this.#customerId = customerId;\n    this.#items = new Map(items.map((item) => [item.id, item]));\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get customerId(): string {\n    return this.#customerId;\n  }\n\n  get items(): OrderItemEntity[] {\n    return Array.from(this.#items.values());\n  }\n\n  get totalItems(): number {\n    return this.#items.size;\n  }\n\n  get total(): number {\n    return this.items.reduce((acc, item) => acc + item.price, 0);\n  }\n\n  addItem(item: OrderItemEntity) {\n    this.#items.set(item.id, item);\n  }\n\n  removeItem(id: string) {\n    this.#items.delete(id);\n  }\n\n  toString(): string {\n    let printItems = '';\n    this.#items.forEach((item) => {\n      printItems += `${item}\\n`;\n    });\n\n    return `id: ${this.#id}\\ncustomerId: ${\n      this.#customerId\n    }\\nitems:\\n${printItems}`;\n  }\n\n  clone(): OrderEntity {\n    return new OrderEntity(\n      this.#id,\n      this.#customerId,\n      this.items.map(\n        (item) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.unitPrice,\n            item.productId,\n            item.quantity\n          )\n      )\n    );\n  }\n\n  isEqual(order: OrderEntity): boolean {\n    return (\n      this.#id === order.id &&\n      this.#customerId === order.customerId &&\n      this.totalItems === order.totalItems &&\n      this.items.every((orderItem, index) =>\n        orderItem.isEqual(order.items[index])\n      )\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (props?.validations?.minLength) {\n        if (Array.isArray(value)) {\n          if (value.length < 1) {\n            throw new ValidationError(`${fieldName}: add at the least 1 item.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/59/order_entity_5963181316e461b9e9fb4c895fa6ebaf.map","wrapperLength":82},"result":{"scriptId":"6513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14424,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14421,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":242,"endOffset":257,"count":12}],"isBlockCoverage":true},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":357,"endOffset":559,"count":52},{"startOffset":455,"endOffset":557,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":560,"endOffset":726,"count":25},{"startOffset":642,"endOffset":695,"count":0}],"isBlockCoverage":true},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":727,"endOffset":1041,"count":30},{"startOffset":816,"endOffset":869,"count":0},{"startOffset":911,"endOffset":999,"count":0}],"isBlockCoverage":true},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1042,"endOffset":1283,"count":55},{"startOffset":1147,"endOffset":1244,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1284,"endOffset":1479,"count":25}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1480,"endOffset":1620,"count":39}],"isBlockCoverage":true},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1621,"endOffset":1841,"count":30}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1842,"endOffset":2040,"count":13},{"startOffset":1937,"endOffset":2023,"count":0}],"isBlockCoverage":true},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2041,"endOffset":2168,"count":13}],"isBlockCoverage":true},{"functionName":"get id","ranges":[{"startOffset":2356,"endOffset":2421,"count":3}],"isBlockCoverage":true},{"functionName":"get customerId","ranges":[{"startOffset":2426,"endOffset":2507,"count":2}],"isBlockCoverage":true},{"functionName":"get items","ranges":[{"startOffset":2512,"endOffset":2604,"count":9}],"isBlockCoverage":true},{"functionName":"get totalItems","ranges":[{"startOffset":2609,"endOffset":2690,"count":3}],"isBlockCoverage":true},{"functionName":"get total","ranges":[{"startOffset":2695,"endOffset":2782,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2742,"endOffset":2771,"count":3}],"isBlockCoverage":true},{"functionName":"addItem","ranges":[{"startOffset":2787,"endOffset":2872,"count":0}],"isBlockCoverage":false},{"functionName":"removeItem","ranges":[{"startOffset":2877,"endOffset":2955,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2960,"endOffset":3258,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3054,"endOffset":3112,"count":3}],"isBlockCoverage":true},{"functionName":"clone","ranges":[{"startOffset":3263,"endOffset":3515,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3395,"endOffset":3506,"count":3}],"isBlockCoverage":true},{"functionName":"isEqual","ranges":[{"startOffset":3520,"endOffset":3788,"count":2},{"startOffset":3598,"endOffset":3662,"count":1},{"startOffset":3663,"endOffset":3702,"count":1},{"startOffset":3703,"endOffset":3781,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3723,"endOffset":3780,"count":3}],"isBlockCoverage":true},{"functionName":"OrderEntity","ranges":[{"startOffset":3793,"endOffset":5102,"count":13}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5023,"endOffset":5092,"count":30}],"isBlockCoverage":true},{"functionName":"validation","ranges":[{"startOffset":5105,"endOffset":5711,"count":13}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5154,"endOffset":5707,"count":36},{"startOffset":5236,"endOffset":5437,"count":25},{"startOffset":5310,"endOffset":5413,"count":2},{"startOffset":5437,"endOffset":5481,"count":34},{"startOffset":5481,"endOffset":5701,"count":11},{"startOffset":5561,"endOffset":5677,"count":1}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467499849,"runtime":1209,"slow":false,"start":1658467498640},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.spec.ts","testResults":[{"ancestorTitles":["AddressEntity"],"duration":42,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should throw an error if \"id\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"id\" is empty"},{"ancestorTitles":["AddressEntity"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should throw an error if \"streetNumber\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"streetNumber\" is empty"},{"ancestorTitles":["AddressEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should throw an error if \"city\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"city\" is empty"},{"ancestorTitles":["AddressEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should throw an error if \"zipCode\" is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should throw an error if \"zipCode\" is empty"},{"ancestorTitles":["AddressEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should return false if Addresses are different","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return false if Addresses are different"},{"ancestorTitles":["AddressEntity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should return true if Addresses are equals","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return true if Addresses are equals"},{"ancestorTitles":["AddressEntity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AddressEntity should create a valid Address instance","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a valid Address instance"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":4}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":4}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVB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","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":12}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":65}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":22}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":36}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":58}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":22}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":52}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":36}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":13}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":13}],"isBlockCoverage":false},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":3}],"isBlockCoverage":false},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":2}],"isBlockCoverage":false},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":2}],"isBlockCoverage":false},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":2}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":1}],"isBlockCoverage":true},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":1}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":2}],"isBlockCoverage":false},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":13}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":13}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5090,"endOffset":5380,"count":46}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":2,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467501229,"runtime":1280,"slow":false,"start":1658467499949},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/services/order.spec.ts","testResults":[{"ancestorTitles":["OrderService"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderService should place an order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should place an order"},{"ancestorTitles":["OrderService"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OrderService should return a total of all orders","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should return a total of all orders"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerEntity\", {\n    enumerable: true,\n    get: ()=>CustomerEntity\n});\nconst _errors = require(\"../errors\");\nconst _addressEntity = require(\"./address_entity\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _address = /*#__PURE__*/ new WeakMap(), _isActive = /*#__PURE__*/ new WeakMap(), _rewardPoints = /*#__PURE__*/ new WeakMap(), _validate = /*#__PURE__*/ new WeakSet();\nclass CustomerEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get address() {\n        return _classPrivateFieldGet(this, _address);\n    }\n    get rewardPoints() {\n        return _classPrivateFieldGet(this, _rewardPoints);\n    }\n    get isActive() {\n        return _classPrivateFieldGet(this, _isActive);\n    }\n    changeName(name) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                value: name,\n                fieldName: 'name',\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    changeAddress(address) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _address, address);\n    }\n    updateRewardPoints(points) {\n        _classPrivateFieldSet(this, _rewardPoints, _classPrivateFieldGet(this, _rewardPoints) + points);\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)}\\nname: ${_classPrivateFieldGet(this, _name)}\\naddress: ${_classPrivateFieldGet(this, _address).toString()}\\nactive: ${this.isActive.toString()}`;\n    }\n    clone() {\n        return new CustomerEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _address), _classPrivateFieldGet(this, _isActive), _classPrivateFieldGet(this, _rewardPoints));\n    }\n    isEqual(customer) {\n        return _classPrivateFieldGet(this, _id) === customer.id && _classPrivateFieldGet(this, _name) === customer.name && _classPrivateFieldGet(this, _address).isEqual(customer.address);\n    }\n    constructor(id, name, address, isActive = true, rewardPoints = 0){\n        _classPrivateMethodInit(this, _validate);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _address, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _isActive, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _rewardPoints, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            },\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _address, address);\n        _classPrivateFieldSet(this, _isActive, isActive);\n        _classPrivateFieldSet(this, _rewardPoints, rewardPoints);\n    }\n}\nfunction validate(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string' || value instanceof _addressEntity.AddressEntity) {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength && value.length < props?.validations?.minLength) {\n            if (typeof value == 'string') {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9jdXN0b21lcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFZhbGlkYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEFkZHJlc3NFbnRpdHkgfSBmcm9tICcuL2FkZHJlc3NfZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjYWRkcmVzczogQWRkcmVzc0VudGl0eTtcblxuICAjaXNBY3RpdmU6IGJvb2xlYW47XG5cbiAgI3Jld2FyZFBvaW50czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFkZHJlc3M6IEFkZHJlc3NFbnRpdHksXG4gICAgaXNBY3RpdmUgPSB0cnVlLFxuICAgIHJld2FyZFBvaW50cyA9IDBcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG5cbiAgICB0aGlzLiNpZCA9IGlkO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuI2lzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgdGhpcy4jcmV3YXJkUG9pbnRzID0gcmV3YXJkUG9pbnRzO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBhZGRyZXNzKCk6IEFkZHJlc3NFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLiNhZGRyZXNzO1xuICB9XG5cbiAgZ2V0IHJld2FyZFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNyZXdhcmRQb2ludHM7XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQWN0aXZlO1xuICB9XG5cbiAgY2hhbmdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLiN2YWxpZGF0ZShbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICB9XG5cbiAgY2hhbmdlQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy4jYWRkcmVzcyA9IGFkZHJlc3M7XG4gIH1cblxuICB1cGRhdGVSZXdhcmRQb2ludHMocG9pbnRzOiBudW1iZXIpIHtcbiAgICB0aGlzLiNyZXdhcmRQb2ludHMgKz0gcG9pbnRzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGlkOiAke3RoaXMuI2lkfVxcbm5hbWU6ICR7XG4gICAgICB0aGlzLiNuYW1lXG4gICAgfVxcbmFkZHJlc3M6ICR7dGhpcy4jYWRkcmVzcy50b1N0cmluZygpfVxcbmFjdGl2ZTogJHt0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKCl9YDtcbiAgfVxuXG4gIGNsb25lKCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNuYW1lLFxuICAgICAgdGhpcy4jYWRkcmVzcyxcbiAgICAgIHRoaXMuI2lzQWN0aXZlLFxuICAgICAgdGhpcy4jcmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBjdXN0b21lci5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gY3VzdG9tZXIubmFtZSAmJlxuICAgICAgdGhpcy4jYWRkcmVzcy5pc0VxdWFsKGN1c3RvbWVyLmFkZHJlc3MpXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0ZSh2YWx1ZXM6IFZhbGlkYXRpb25bXSk6IHZvaWQge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3NFbnRpdHkpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCAmJlxuICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyRW50aXR5IiwiaWQiLCJuYW1lIiwiYWRkcmVzcyIsInJld2FyZFBvaW50cyIsImlzQWN0aXZlIiwiY2hhbmdlTmFtZSIsInZhbGlkYXRlIiwidmFsdWUiLCJmaWVsZE5hbWUiLCJ2YWxpZGF0aW9ucyIsImlzUmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJjaGFuZ2VBZGRyZXNzIiwidXBkYXRlUmV3YXJkUG9pbnRzIiwicG9pbnRzIiwidG9TdHJpbmciLCJjbG9uZSIsImlzRXF1YWwiLCJjdXN0b21lciIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwiZm9yRWFjaCIsInByb3BzIiwiQWRkcmVzc0VudGl0eSIsIlZhbGlkYXRpb25FcnJv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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\nimport { AddressEntity } from './address_entity';\n\nexport class CustomerEntity {\n  #id: string;\n\n  #name: string;\n\n  #address: AddressEntity;\n\n  #isActive: boolean;\n\n  #rewardPoints: number;\n\n  constructor(\n    id: string,\n    name: string,\n    address: AddressEntity,\n    isActive = true,\n    rewardPoints = 0\n  ) {\n    this.#validate([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 4 },\n      },\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#address = address;\n    this.#isActive = isActive;\n    this.#rewardPoints = rewardPoints;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get address(): AddressEntity {\n    return this.#address;\n  }\n\n  get rewardPoints(): number {\n    return this.#rewardPoints;\n  }\n\n  get isActive(): boolean {\n    return this.#isActive;\n  }\n\n  changeName(name: string): void {\n    this.#validate([\n      {\n        value: name,\n        fieldName: 'name',\n        validations: { isRequired: true, minLength: 4 },\n      },\n    ]);\n    this.#name = name;\n  }\n\n  changeAddress(address: AddressEntity): void {\n    this.#validate([\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n    this.#address = address;\n  }\n\n  updateRewardPoints(points: number) {\n    this.#rewardPoints += points;\n  }\n\n  toString(): string {\n    return `id: ${this.#id}\\nname: ${\n      this.#name\n    }\\naddress: ${this.#address.toString()}\\nactive: ${this.isActive.toString()}`;\n  }\n\n  clone(): CustomerEntity {\n    return new CustomerEntity(\n      this.#id,\n      this.#name,\n      this.#address,\n      this.#isActive,\n      this.#rewardPoints\n    );\n  }\n\n  isEqual(customer: CustomerEntity): boolean {\n    return (\n      this.#id === customer.id &&\n      this.#name === customer.name &&\n      this.#address.isEqual(customer.address)\n    );\n  }\n\n  #validate(values: Validation[]): void {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string' || value instanceof AddressEntity) {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (\n        props?.validations?.minLength &&\n        value.length < props?.validations?.minLength\n      ) {\n        if (typeof value == 'string') {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/af/customer_entity_afaca2be38f2a940cb2b94a257022abd.map","wrapperLength":82},"result":{"scriptId":"3511","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16069,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16066,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":1}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":358,"endOffset":560,"count":6}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":561,"endOffset":727,"count":4}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":728,"endOffset":1042,"count":6}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1043,"endOffset":1284,"count":10}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1285,"endOffset":1480,"count":4}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1481,"endOffset":1621,"count":5}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1622,"endOffset":1842,"count":6}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1843,"endOffset":2041,"count":1}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2042,"endOffset":2169,"count":1}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2440,"endOffset":2505,"count":1}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2510,"endOffset":2579,"count":0}],"isBlockCoverage":false},{"functionName":"get address","ranges":[{"startOffset":2584,"endOffset":2659,"count":0}],"isBlockCoverage":false},{"functionName":"get rewardPoints","ranges":[{"startOffset":2664,"endOffset":2749,"count":2}],"isBlockCoverage":false},{"functionName":"get isActive","ranges":[{"startOffset":2754,"endOffset":2831,"count":0}],"isBlockCoverage":false},{"functionName":"changeName","ranges":[{"startOffset":2836,"endOffset":3207,"count":0}],"isBlockCoverage":false},{"functionName":"changeAddress","ranges":[{"startOffset":3212,"endOffset":3567,"count":0}],"isBlockCoverage":false},{"functionName":"updateRewardPoints","ranges":[{"startOffset":3572,"endOffset":3711,"count":1}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3716,"endOffset":3936,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3941,"endOffset":4184,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":4189,"endOffset":4402,"count":0}],"isBlockCoverage":false},{"functionName":"CustomerEntity","ranges":[{"startOffset":4407,"endOffset":6035,"count":1}],"isBlockCoverage":false},{"functionName":"validate","ranges":[{"startOffset":6038,"endOffset":6788,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6085,"endOffset":6784,"count":3}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVB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","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":2}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":5}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":4}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":4}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":4}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":4}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":1}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":1}],"isBlockCoverage":false},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":0}],"isBlockCoverage":false},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":0}],"isBlockCoverage":false},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":0}],"isBlockCoverage":false},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":0}],"isBlockCoverage":false},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":1}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":1}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5090,"endOffset":5380,"count":4}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductEntity\", {\n    enumerable: true,\n    get: ()=>ProductEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _price = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass ProductEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _price);\n    }\n    updatePrice(price) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _price, price);\n    }\n    updateName(name) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    clone() {\n        return new ProductEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _price));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${_classPrivateFieldGet(this, _price)}`;\n    }\n    isEqual(product) {\n        return _classPrivateFieldGet(this, _id) === product.id && _classPrivateFieldGet(this, _name) === product.name && _classPrivateFieldGet(this, _price) === product.price;\n    }\n    constructor(id, name, price){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _price, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _price, price);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength === 'number') {\n            if (typeof value === 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value === 'number' && value < props?.validations?.minLength) {\n                // eslint-disable-next-line max-len\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9wcm9kdWN0X2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdEVudGl0eSB7XG4gICNpZDogc3RyaW5nO1xuXG4gICNuYW1lOiBzdHJpbmc7XG5cbiAgI3ByaWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBwcmljZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ2lkJywgdmFsdWU6IGlkLCB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnbmFtZScsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDIgfSxcbiAgICAgIH0sXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNpZDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI25hbWU7XG4gIH1cblxuICBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpY2U7XG4gIH1cblxuICB1cGRhdGVQcmljZShwcmljZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIHVwZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gIH1cblxuICBjbG9uZSgpOiBQcm9kdWN0RW50aXR5IHtcbiAgICByZXR1cm4gbmV3IFByb2R1Y3RFbnRpdHkodGhpcy4jaWQsIHRoaXMuI25hbWUsIHRoaXMuI3ByaWNlKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH0gLSBuYW1lOiAke3RoaXMuI25hbWV9IC0gcHJpY2U6ICR7dGhpcy4jcHJpY2V9YDtcbiAgfVxuXG4gIGlzRXF1YWwocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNpZCA9PT0gcHJvZHVjdC5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICB0aGlzLiNwcmljZSA9PT0gcHJvZHVjdC5wcmljZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHZhbHVlIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7XG4gICAgICAgICAgICAgIHByb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aFxuICAgICAgICAgICAgfS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdEVudGl0eSIsImlkIiwibmFtZSIsInByaWNlIiwidXBkYXRlUHJpY2UiLCJ2YWxpZGF0aW9uIiwiZmllbGROYW1lIiwidmFsdWUiLCJ2YWxpZGF0aW9ucyIsIm1pbkxlbmd0aCIsInVwZGF0ZU5hbWUiLCJpc1JlcXVpcmVkIiwiY2xvbmUiLCJ0b1N0cmluZyIsImlzRXF1YWwiLCJwcm9kdWN0IiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUhNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUl6QyxHQUFHLGdDQUVILEtBQUssZ0NBRUwsTUFBTSxnQ0FpRU4sV0FBVztBQXRFTixNQUFNQSxhQUFhO0lBc0J4QixJQUFJQyxFQUFFLEdBQVc7UUFDZiw2QkFBTyxJQUFJLEVBQUVBLEdBQUUsRUFBQztLQUNqQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLEtBQUssR0FBVztRQUNsQiw2QkFBTyxJQUFJLEVBQUVBLE1BQUssRUFBQztLQUNwQjtJQUVEQyxXQUFXLENBQUNELEtBQWEsRUFBUTtRQUMvQix1QkFBQSxJQUFJLEVBQUVFLFdBQVUsRUFBVkEsVUFBVSxPQUFo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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class ProductEntity {\n  #id: string;\n\n  #name: string;\n\n  #price: number;\n\n  constructor(id: string, name: string, price: number) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n    this.#id = id;\n    this.#name = name;\n    this.#price = price;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#price;\n  }\n\n  updatePrice(price: number): void {\n    this.#validation([\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n\n    this.#price = price;\n  }\n\n  updateName(name: string): void {\n    this.#validation([\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n    ]);\n\n    this.#name = name;\n  }\n\n  clone(): ProductEntity {\n    return new ProductEntity(this.#id, this.#name, this.#price);\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${this.#price}`;\n  }\n\n  isEqual(product: ProductEntity): boolean {\n    return (\n      this.#id === product.id &&\n      this.#name === product.name &&\n      this.#price === product.price\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength === 'number') {\n        if (\n          typeof value === 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n\n        if (\n          typeof value === 'number' &&\n          value < props?.validations?.minLength\n        ) {\n          // eslint-disable-next-line max-len\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} must be equal or greater than ${\n              props.validations.minLength\n            }. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/7f/product_entity_7fb80201a3256de731bbdd9a2b2d7032.map","wrapperLength":82},"result":{"scriptId":"5512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14298,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14295,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2299,"endOffset":2364,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2369,"endOffset":2438,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2443,"endOffset":2514,"count":0}],"isBlockCoverage":false},{"functionName":"updatePrice","ranges":[{"startOffset":2519,"endOffset":2862,"count":0}],"isBlockCoverage":false},{"functionName":"updateName","ranges":[{"startOffset":2867,"endOffset":3242,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3247,"endOffset":3403,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3408,"endOffset":3578,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3583,"endOffset":3783,"count":0}],"isBlockCoverage":false},{"functionName":"ProductEntity","ranges":[{"startOffset":3788,"endOffset":5011,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5014,"endOffset":6061,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFBQztLQUMzQjtJQUVEUSxLQUFLLEdBQW9CO1FBQ3ZCLE9BQU8sSUFBSWIsZUFBZSx1QkFDeEIsSUFBSSxFQUFFQyxHQUFFLHlCQUNSLElBQUksRUFBRUMsS0FBSSx5QkFDVixJQUFJLEVBQUVFLFVBQVMseUJBQ2YsSUFBSSxFQUFFRSxVQUFTLHlCQUNmLElBQUksRUFBRUQsU0FBUSxFQUNmLENBQUM7S0FDSDtJQUVEUyxRQUFRLEdBQVc7UUFDakIsT0FBTyxDQUFDLElBQUksd0JBQUUsSUFBSSxFQUFFYixHQUFFLEVBQUMsU0FBUyx3QkFBRSxJQUFJLEVBQUVDLEtBQUksRUFBQyxVQUFVLEVBQ3JELElBQUksQ0FBQ0MsS0FBSyxDQUNYLGFBQWEsd0JBQUUsSUFBSSxFQUFFRSxTQUFRLEVBQUMsY0FBYyx3QkFBRSxJQUFJLEVBQUVDLFVBQVMsRUFBQyxDQUFDLENBQUM7S0FDbEU7SUFFRFMsT0FBTyxDQUFDQyxTQUEwQixFQUFXO1FBQzNDLE9BQ0Usc0JBQUEsSUFBSSxFQUFFZixHQUFFLE1BQUtlLFNBQVMsQ0FBQ2YsRUFBRSxJQUN6QixzQkFBQSxJQUFJLEVBQUVDLEtBQUksTUFBS2MsU0FBUyxDQUFDZCxJQUFJLElBQzdCLElBQUksQ0FBQ0MsS0FBSyxLQUFLYSxTQUFTLENBQUNiLEtBQUssSUFDOUIsc0JBQUEsSUFBSSxFQUFFRSxTQUFRLE1BQUtXLFNBQVMsQ0FBQ1gsUUFBUSxJQUNyQyxzQkFBQSxJQUFJLEVBQUVDLFVBQVMsTUFBS1UsU0FBUyxDQUFDVixTQUFTLENBQ3ZDO0tBQ0g7SUExRkRXLFlBQ0VoQixFQUFVLEVBQ1ZDLElBQVksRUFDWkUsU0FBaUIsRUFDakJFLFNBQWlCLEVBQ2pCRCxRQUFRLEdBQUcsQ0FBQyxDQUNaO1FBc0ZGLDhCQUFBLFdBQVcsQ0EyQlYsQ0FBQTtRQWpJRCw2QkFBQSxHQUFHOzttQkFBSCxLQUFBLENBQVk7VUFBQSxDQUFBO1FBRVosNkJBQUEsS0FBSzs7bUJBQUwsS0FBQSxDQUFjO1VBQUEsQ0FBQTtRQUVkLDZCQUFBLFVBQVU7O21CQUFWLEtBQUEsQ0FBbUI7VUFBQSxDQUFBO1FBRW5CLDZCQUFBLFNBQVM7O21CQUFULEtBQUEsQ0FBa0I7VUFBQSxDQUFBO1FBRWxCLDZCQUFBLFVBQVU7O21CQUFWLEtBQUEsQ0FBbUI7VUFBQSxDQUFBO1FBU2pCLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsSUFBSTtnQkFBRUMsS0FBSyxFQUFFVCxFQUFFO2dCQUFFVSxXQUFXLEVBQUU7b0JBQUVPLFVBQVUsRUFBRSxJQUFJO2lCQUFFO2FBQUU7WUFDakU7Z0JBQ0VULFNBQVMsRUFBRSxNQUFNO2dCQUNqQkMsS0FBSyxFQUFFUixJQUFJO2dCQUNYUyxXQUFXLEVBQUU7b0JBQUVPLFVBQVUsRUFBRSxJQUFJO29CQUFFTixTQUFTLEVBQUUsQ0FBQztpQkFBRTthQUNoRDtZQUNEO2dCQUNFSCxTQUFTLEVBQUUsV0FBVztnQkFDdEJDLEtBQUssRUFBRU4sU0FBUztnQkFDaEJPLFdBQVcsRUFBRTtvQkFBRUMsU0FBUyxFQUFFLENBQUM7aUJBQUU7YUFDOUI7WUFDRDtnQkFDRUgsU0FBUyxFQUFFLFdBQVc7Z0JBQ3RCQyxLQUFLLEVBQUVKLFNBQVM7Z0JBQ2hCSyxXQUFXLEVBQUU7b0JBQUVPLFVBQVUsRUFBRSxJQUFJO2lCQUFFO2FBQ2xDO1lBQ0Q7Z0JBQUVULFNBQVMsRUFBRSxVQUFVO2dCQUFFQyxLQUFLLEVBQUVMLFFBQVE7Z0JBQUVNLFdBQVcsRUFBRTtvQkFBRUMsU0FBUyxFQUFFLENBQUM7aUJBQUU7YUFBRTtTQUMxRSxDQUFDLENBQUM7b0NBRUdYLEdBQUUsRUFBR0EsRUFBRSxFQUFDO29DQUNSQyxLQUFJLEVBQUdBLElBQUksRUFBQztvQ0FDWkUsVUFBUyxFQUFHQSxTQUFTLEVBQUM7b0NBQ3RCQyxTQUFRLEVBQUdBLFFBQVEsRUFBQztvQ0FDcEJDLFVBQVMsRUFBR0EsU0FBUyxFQUFDO0tBQzdCO0NBd0ZGO0FBNUJDLFNBQUEsVUEyQkMsQ0EzQldhLE1BQW9CLEVBQUU7SUFDaENBLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsRUFBRVgsU0FBUyxDQUFBLEVBQUVDLEtBQUssQ0FBQSxFQUFFLEdBQUdXLEtBQUssRUFBRSxHQUFLO1FBQ2pELElBQUlBLEtBQUssRUFBRVYsV0FBVyxFQUFFTyxVQUFVLEVBQUU7WUFDbEMsSUFBSSxPQUFPUixLQUFLLElBQUksUUFBUSxFQUFFO2dCQUM1QixJQUFJLENBQUNBLEtBQUssRUFBRTtvQkFDVixNQUFNLElBQUlZLE9BQWUsZ0JBQUEsQ0FBQyxDQUFDLEVBQUViLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2lCQUN4RDthQUNGO1NBQ0Y7UUFFRCxJQUFJLE9BQU9ZLEtBQUssRUFBRVYsV0FBVyxFQUFFQyxTQUFTLElBQUksUUFBUSxFQUFFO1lBQ3BELElBQ0UsT0FBT0YsS0FBSyxJQUFJLFFBQVEsSUFDeEJBLEtBQUssQ0FBQ2EsTUFBTSxHQUFHRixLQUFLLEVBQUVWLFdBQVcsRUFBRUMsU0FBUyxFQUM1QztnQkFDQSxNQUFNLElBQUlVLE9BQWUsZ0JBQUEsQ0FDdkIsQ0FBQyxFQUFFYixTQUFTLENBQUMsdUNBQXVDLEVBQUVZLEtBQUssQ0FBQ1YsV0FBVyxDQUFDQyxTQUFTLENBQUMsb0JBQW9CLEVBQUVGLEtBQUssQ0FBQ2EsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUN4SCxDQUFDO2FBQ0g7WUFFRCxJQUFJLE9BQU9iLEtBQUssSUFBSSxRQUFRLElBQUlBLEtBQUssR0FBR1csS0FBSyxFQUFFVixXQUFXLEVBQUVDLFNBQVMsRUFBRTtnQkFDckUsTUFBTSxJQUFJVSxPQUFlLGdCQUFBLENBQ3ZCLENBQUMsRUFBRWIsU0FBUyxDQUFDLCtCQUErQixFQUFFWSxLQUFLLENBQUNWLFdBQVcsQ0FBQ0MsU0FBUyxDQUFDLG1CQUFtQixFQUFFRixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQ3hHLENBQUM7YUFDSDtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0NBQ0oifQ==","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"6512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":15}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":90}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":87}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":75}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":162}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":87}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":75}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":75}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":15}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":15}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":15}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":36}],"isBlockCoverage":false},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":0}],"isBlockCoverage":false},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":0}],"isBlockCoverage":false},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":0}],"isBlockCoverage":false},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":0}],"isBlockCoverage":false},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":15}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":15}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6148,"endOffset":7044,"count":75}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderEntity\", {\n    enumerable: true,\n    get: ()=>OrderEntity\n});\nconst _orderItemEntity = require(\"./order_item_entity\");\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _customerId = /*#__PURE__*/ new WeakMap(), _items = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get customerId() {\n        return _classPrivateFieldGet(this, _customerId);\n    }\n    get items() {\n        return Array.from(_classPrivateFieldGet(this, _items).values());\n    }\n    get totalItems() {\n        return _classPrivateFieldGet(this, _items).size;\n    }\n    get total() {\n        return this.items.reduce((acc, item)=>acc + item.price, 0);\n    }\n    addItem(item) {\n        _classPrivateFieldGet(this, _items).set(item.id, item);\n    }\n    removeItem(id) {\n        _classPrivateFieldGet(this, _items).delete(id);\n    }\n    toString() {\n        let printItems = '';\n        _classPrivateFieldGet(this, _items).forEach((item)=>{\n            printItems += `${item}\\n`;\n        });\n        return `id: ${_classPrivateFieldGet(this, _id)}\\ncustomerId: ${_classPrivateFieldGet(this, _customerId)}\\nitems:\\n${printItems}`;\n    }\n    clone() {\n        return new OrderEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _customerId), this.items.map((item)=>new _orderItemEntity.OrderItemEntity(item.id, item.name, item.unitPrice, item.productId, item.quantity)));\n    }\n    isEqual(order) {\n        return _classPrivateFieldGet(this, _id) === order.id && _classPrivateFieldGet(this, _customerId) === order.customerId && this.totalItems === order.totalItems && this.items.every((orderItem, index)=>orderItem.isEqual(order.items[index]));\n    }\n    constructor(id, customerId, items){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _customerId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _items, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'customerId',\n                value: customerId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'items',\n                value: items,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _customerId, customerId);\n        _classPrivateFieldSet(this, _items, new Map(items.map((item)=>[\n                item.id,\n                item\n            ])));\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength) {\n            if (Array.isArray(value)) {\n                if (value.length < 1) {\n                    throw new _errors.ValidationError(`${fieldName}: add at the least 1 item.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJJdGVtRW50aXR5IH0gZnJvbSAnLi9vcmRlcl9pdGVtX2VudGl0eSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJFbnRpdHkge1xuICAjaWQ6IHN0cmluZztcblxuICAjY3VzdG9tZXJJZDogc3RyaW5nO1xuXG4gICNpdGVtczogTWFwPHN0cmluZywgT3JkZXJJdGVtRW50aXR5PjtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBjdXN0b21lcklkOiBzdHJpbmcsIGl0ZW1zOiBPcmRlckl0ZW1FbnRpdHlbXSkge1xuICAgIHRoaXMuI3ZhbGlkYXRpb24oW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ2N1c3RvbWVySWQnLFxuICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZCxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnaXRlbXMnLFxuICAgICAgICB2YWx1ZTogaXRlbXMsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IG1pbkxlbmd0aDogMSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgdGhpcy4jaXRlbXMgPSBuZXcgTWFwKGl0ZW1zLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jaWQ7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNjdXN0b21lcklkO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IE9yZGVySXRlbUVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNpdGVtcy52YWx1ZXMoKSk7XG4gIH1cblxuICBnZXQgdG90YWxJdGVtcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpdGVtcy5zaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGl0ZW0ucHJpY2UsIDApO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtOiBPcmRlckl0ZW1FbnRpdHkpIHtcbiAgICB0aGlzLiNpdGVtcy5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gIH1cblxuICByZW1vdmVJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLiNpdGVtcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpbnRJdGVtcyA9ICcnO1xuICAgIHRoaXMuI2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHByaW50SXRlbXMgKz0gYCR7aXRlbX1cXG5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH1cXG5jdXN0b21lcklkOiAke1xuICAgICAgdGhpcy4jY3VzdG9tZXJJZFxuICAgIH1cXG5pdGVtczpcXG4ke3ByaW50SXRlbXN9YDtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IE9yZGVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNjdXN0b21lcklkLFxuICAgICAgdGhpcy5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwob3JkZXI6IE9yZGVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlci5pZCAmJlxuICAgICAgdGhpcy4jY3VzdG9tZXJJZCA9PT0gb3JkZXIuY3VzdG9tZXJJZCAmJlxuICAgICAgdGhpcy50b3RhbEl0ZW1zID09PSBvcmRlci50b3RhbEl0ZW1zICYmXG4gICAgICB0aGlzLml0ZW1zLmV2ZXJ5KChvcmRlckl0ZW0sIGluZGV4KSA9PlxuICAgICAgICBvcmRlckl0ZW0uaXNFcXVhbChvcmRlci5pdGVtc1tpbmRleF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0aW9uKHZhbHVlczogVmFsaWRhdGlvbltdKSB7XG4gICAgdmFsdWVzLmZvckVhY2goKHsgZmllbGROYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy52YWxpZGF0aW9ucz8uaXNSZXF1aXJlZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGgpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfTogYWRkIGF0IHRoZSBsZWFzdCAxIGl0ZW0uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcmRlckVudGl0eSIsImlkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwidG90YWxJdGVtcyIsInNpemUiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsImFkZEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwiZGVsZXRlIiwidG9TdHJpbmciLCJwcmludEl0ZW1zIiwiZm9yRWFjaCIsImNsb25lIiwibWFwIiwiT3JkZXJJdGVtRW50aXR5IiwibmFtZSIsInVuaXRQcmljZSIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiaXNFcXVhbCIsIm9yZGVyIiwiZXZlcnkiLCJvcmRlckl0ZW0iLCJpbmRleCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJpc1JlcXVpcmVkIiwibWluTGVuZ3RoIiwiTWFwIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJpc0FycmF5IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsYUFBVzs7YUFBWEEsV0FBVzs7aUNBSlEscUJBQXFCO3dCQUVyQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHekMsR0FBRyxnQ0FFSCxXQUFXLGdDQUVYLE1BQU0sZ0NBeUZOLFdBQVc7QUE5Rk4sTUFBTUEsV0FBVztJQTJCdEIsSUFBSUMsRUFBRSxHQUFXO1FBQ2YsNkJBQU8sSUFBSSxFQUFFQSxHQUFFLEVBQUM7S0FDakI7SUFF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","originalCode":"import { OrderItemEntity } from './order_item_entity';\nimport { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class OrderEntity {\n  #id: string;\n\n  #customerId: string;\n\n  #items: Map<string, OrderItemEntity>;\n\n  constructor(id: string, customerId: string, items: OrderItemEntity[]) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'customerId',\n        value: customerId,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'items',\n        value: items,\n        validations: { minLength: 1 },\n      },\n    ]);\n\n    this.#id = id;\n    this.#customerId = customerId;\n    this.#items = new Map(items.map((item) => [item.id, item]));\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get customerId(): string {\n    return this.#customerId;\n  }\n\n  get items(): OrderItemEntity[] {\n    return Array.from(this.#items.values());\n  }\n\n  get totalItems(): number {\n    return this.#items.size;\n  }\n\n  get total(): number {\n    return this.items.reduce((acc, item) => acc + item.price, 0);\n  }\n\n  addItem(item: OrderItemEntity) {\n    this.#items.set(item.id, item);\n  }\n\n  removeItem(id: string) {\n    this.#items.delete(id);\n  }\n\n  toString(): string {\n    let printItems = '';\n    this.#items.forEach((item) => {\n      printItems += `${item}\\n`;\n    });\n\n    return `id: ${this.#id}\\ncustomerId: ${\n      this.#customerId\n    }\\nitems:\\n${printItems}`;\n  }\n\n  clone(): OrderEntity {\n    return new OrderEntity(\n      this.#id,\n      this.#customerId,\n      this.items.map(\n        (item) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.unitPrice,\n            item.productId,\n            item.quantity\n          )\n      )\n    );\n  }\n\n  isEqual(order: OrderEntity): boolean {\n    return (\n      this.#id === order.id &&\n      this.#customerId === order.customerId &&\n      this.totalItems === order.totalItems &&\n      this.items.every((orderItem, index) =>\n        orderItem.isEqual(order.items[index])\n      )\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (props?.validations?.minLength) {\n        if (Array.isArray(value)) {\n          if (value.length < 1) {\n            throw new ValidationError(`${fieldName}: add at the least 1 item.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/59/order_entity_5963181316e461b9e9fb4c895fa6ebaf.map","wrapperLength":82},"result":{"scriptId":"6513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14424,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14421,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":242,"endOffset":257,"count":4}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":357,"endOffset":559,"count":16}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":560,"endOffset":726,"count":9}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":727,"endOffset":1041,"count":12}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1042,"endOffset":1283,"count":21}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1284,"endOffset":1479,"count":9}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1480,"endOffset":1620,"count":12}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1621,"endOffset":1841,"count":12}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1842,"endOffset":2040,"count":4}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2041,"endOffset":2168,"count":4}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2356,"endOffset":2421,"count":0}],"isBlockCoverage":false},{"functionName":"get customerId","ranges":[{"startOffset":2426,"endOffset":2507,"count":0}],"isBlockCoverage":false},{"functionName":"get items","ranges":[{"startOffset":2512,"endOffset":2604,"count":9}],"isBlockCoverage":false},{"functionName":"get totalItems","ranges":[{"startOffset":2609,"endOffset":2690,"count":0}],"isBlockCoverage":false},{"functionName":"get total","ranges":[{"startOffset":2695,"endOffset":2782,"count":9}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2742,"endOffset":2771,"count":33}],"isBlockCoverage":false},{"functionName":"addItem","ranges":[{"startOffset":2787,"endOffset":2872,"count":0}],"isBlockCoverage":false},{"functionName":"removeItem","ranges":[{"startOffset":2877,"endOffset":2955,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2960,"endOffset":3258,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3263,"endOffset":3515,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3520,"endOffset":3788,"count":0}],"isBlockCoverage":false},{"functionName":"OrderEntity","ranges":[{"startOffset":3793,"endOffset":5102,"count":4}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5023,"endOffset":5092,"count":15}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5105,"endOffset":5711,"count":4}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5154,"endOffset":5707,"count":12}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderService\", {\n    enumerable: true,\n    get: ()=>OrderService\n});\nconst _uuid = require(\"uuid\");\nconst _entities = require(\"../entities\");\nclass OrderService {\n    static total(orders) {\n        return orders.reduce((prevValue, currentOrder)=>prevValue + currentOrder.total, 0);\n    }\n    static placeOrder(customer, items) {\n        const order = new _entities.OrderEntity((0, _uuid.v4)(), customer.id, items);\n        customer.updateRewardPoints(order.total / 2);\n        return order;\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9zZXJ2aWNlcy9vcmRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBPcmRlckVudGl0eSwgQ3VzdG9tZXJFbnRpdHksIE9yZGVySXRlbUVudGl0eSB9IGZyb20gJy4uL2VudGl0aWVzJztcblxuZXhwb3J0IGNsYXNzIE9yZGVyU2VydmljZSB7XG4gIHN0YXRpYyB0b3RhbChvcmRlcnM6IE9yZGVyRW50aXR5W10pOiBudW1iZXIge1xuICAgIHJldHVybiBvcmRlcnMucmVkdWNlKFxuICAgICAgKHByZXZWYWx1ZSwgY3VycmVudE9yZGVyKSA9PiBwcmV2VmFsdWUgKyBjdXJyZW50T3JkZXIudG90YWwsXG4gICAgICAwXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBwbGFjZU9yZGVyKFxuICAgIGN1c3RvbWVyOiBDdXN0b21lckVudGl0eSxcbiAgICBpdGVtczogT3JkZXJJdGVtRW50aXR5W11cbiAgKTogT3JkZXJFbnRpdHkge1xuICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyRW50aXR5KHV1aWQoKSwgY3VzdG9tZXIuaWQsIGl0ZW1zKTtcbiAgICBjdXN0b21lci51cGRhdGVSZXdhcmRQb2ludHMob3JkZXIudG90YWwgLyAyKTtcblxuICAgIHJldHVybiBvcmRlcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk9yZGVyU2VydmljZSIsInRvdGFsIiwib3JkZXJzIiwicmVkdWNlIiwicHJldlZhbHVlIiwiY3VycmVudE9yZGVyIiwicGxhY2VPcmRlciIsImN1c3RvbWVyIiwiaXRlbXMiLCJvcmRlciIsIk9yZGVyRW50aXR5IiwidXVpZCIsImlkIiwidXBkYXRlUmV3YXJkUG9pbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFHYUEsY0FBWTs7YUFBWkEsWUFBWTs7c0JBSEUsTUFBTTswQkFDNEIsYUFBYTtBQUVuRSxNQUFNQSxZQUFZO0lBQ3ZCLE9BQU9DLEtBQUssQ0FBQ0MsTUFBcUIsRUFBVTtRQUMxQyxPQUFPQSxNQUFNLENBQUNDLE1BQU0sQ0FDbEIsQ0FBQ0MsU0FBUyxFQUFFQyxZQUFZLEdBQUtELFNBQVMsR0FBR0MsWUFBWSxDQUFDSixLQUFLLEVBQzNELENBQUMsQ0FDRixDQUFDO0tBQ0g7SUFFRCxPQUFPSyxVQUFVLENBQ2ZDLFFBQXdCLEVBQ3hCQyxLQUF3QixFQUNYO1FBQ2IsTUFBTUMsS0FBSyxHQUFHLElBQUlDLFNBQVcsWUFBQSxDQUFDQyxJQUFBQSxLQUFJLEdBQUEsR0FBRSxFQUFFSixRQUFRLENBQUNLLEVBQUUsRUFBRUosS0FBSyxDQUFDLEFBQUM7UUFDMURELFFBQVEsQ0FBQ00sa0JBQWtCLENBQUNKLEtBQUssQ0FBQ1IsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRTdDLE9BQU9RLEtBQUssQ0FBQztLQUNkO0NBQ0YifQ==","originalCode":"import { v4 as uuid } from 'uuid';\nimport { OrderEntity, CustomerEntity, OrderItemEntity } from '../entities';\n\nexport class OrderService {\n  static total(orders: OrderEntity[]): number {\n    return orders.reduce(\n      (prevValue, currentOrder) => prevValue + currentOrder.total,\n      0\n    );\n  }\n\n  static placeOrder(\n    customer: CustomerEntity,\n    items: OrderItemEntity[]\n  ): OrderEntity {\n    const order = new OrderEntity(uuid(), customer.id, items);\n    customer.updateRewardPoints(order.total / 2);\n\n    return order;\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/3e/order_3e768334ca493b092e984454180dc149.map","wrapperLength":82},"result":{"scriptId":"9153","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/services/order.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2526,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2523,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":243,"endOffset":259,"count":2}],"isBlockCoverage":true},{"functionName":"total","ranges":[{"startOffset":369,"endOffset":482,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":414,"endOffset":471,"count":3}],"isBlockCoverage":true},{"functionName":"placeOrder","ranges":[{"startOffset":494,"endOffset":691,"count":1}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467502611,"runtime":1301,"slow":false,"start":1658467501310},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/services/product.spec.ts","testResults":[{"ancestorTitles":["OrderService"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderService should change the price of all products","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should change the price of all products"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"CustomerEntity\", {\n    enumerable: true,\n    get: ()=>CustomerEntity\n});\nconst _errors = require(\"../errors\");\nconst _addressEntity = require(\"./address_entity\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _address = /*#__PURE__*/ new WeakMap(), _isActive = /*#__PURE__*/ new WeakMap(), _rewardPoints = /*#__PURE__*/ new WeakMap(), _validate = /*#__PURE__*/ new WeakSet();\nclass CustomerEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get address() {\n        return _classPrivateFieldGet(this, _address);\n    }\n    get rewardPoints() {\n        return _classPrivateFieldGet(this, _rewardPoints);\n    }\n    get isActive() {\n        return _classPrivateFieldGet(this, _isActive);\n    }\n    changeName(name) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                value: name,\n                fieldName: 'name',\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    changeAddress(address) {\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _address, address);\n    }\n    updateRewardPoints(points) {\n        _classPrivateFieldSet(this, _rewardPoints, _classPrivateFieldGet(this, _rewardPoints) + points);\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)}\\nname: ${_classPrivateFieldGet(this, _name)}\\naddress: ${_classPrivateFieldGet(this, _address).toString()}\\nactive: ${this.isActive.toString()}`;\n    }\n    clone() {\n        return new CustomerEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _address), _classPrivateFieldGet(this, _isActive), _classPrivateFieldGet(this, _rewardPoints));\n    }\n    isEqual(customer) {\n        return _classPrivateFieldGet(this, _id) === customer.id && _classPrivateFieldGet(this, _name) === customer.name && _classPrivateFieldGet(this, _address).isEqual(customer.address);\n    }\n    constructor(id, name, address, isActive = true, rewardPoints = 0){\n        _classPrivateMethodInit(this, _validate);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _address, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _isActive, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _rewardPoints, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validate, validate).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 4\n                }\n            },\n            {\n                fieldName: 'address',\n                value: address,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _address, address);\n        _classPrivateFieldSet(this, _isActive, isActive);\n        _classPrivateFieldSet(this, _rewardPoints, rewardPoints);\n    }\n}\nfunction validate(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string' || value instanceof _addressEntity.AddressEntity) {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength && value.length < props?.validations?.minLength) {\n            if (typeof value == 'string') {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9jdXN0b21lcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFZhbGlkYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEFkZHJlc3NFbnRpdHkgfSBmcm9tICcuL2FkZHJlc3NfZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjYWRkcmVzczogQWRkcmVzc0VudGl0eTtcblxuICAjaXNBY3RpdmU6IGJvb2xlYW47XG5cbiAgI3Jld2FyZFBvaW50czogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFkZHJlc3M6IEFkZHJlc3NFbnRpdHksXG4gICAgaXNBY3RpdmUgPSB0cnVlLFxuICAgIHJld2FyZFBvaW50cyA9IDBcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG5cbiAgICB0aGlzLiNpZCA9IGlkO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICAgIHRoaXMuI2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuI2lzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgdGhpcy4jcmV3YXJkUG9pbnRzID0gcmV3YXJkUG9pbnRzO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBhZGRyZXNzKCk6IEFkZHJlc3NFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLiNhZGRyZXNzO1xuICB9XG5cbiAgZ2V0IHJld2FyZFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNyZXdhcmRQb2ludHM7XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2lzQWN0aXZlO1xuICB9XG5cbiAgY2hhbmdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLiN2YWxpZGF0ZShbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiA0IH0sXG4gICAgICB9LFxuICAgIF0pO1xuICAgIHRoaXMuI25hbWUgPSBuYW1lO1xuICB9XG5cbiAgY2hhbmdlQWRkcmVzcyhhZGRyZXNzOiBBZGRyZXNzRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGUoW1xuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdhZGRyZXNzJyxcbiAgICAgICAgdmFsdWU6IGFkZHJlc3MsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy4jYWRkcmVzcyA9IGFkZHJlc3M7XG4gIH1cblxuICB1cGRhdGVSZXdhcmRQb2ludHMocG9pbnRzOiBudW1iZXIpIHtcbiAgICB0aGlzLiNyZXdhcmRQb2ludHMgKz0gcG9pbnRzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGlkOiAke3RoaXMuI2lkfVxcbm5hbWU6ICR7XG4gICAgICB0aGlzLiNuYW1lXG4gICAgfVxcbmFkZHJlc3M6ICR7dGhpcy4jYWRkcmVzcy50b1N0cmluZygpfVxcbmFjdGl2ZTogJHt0aGlzLmlzQWN0aXZlLnRvU3RyaW5nKCl9YDtcbiAgfVxuXG4gIGNsb25lKCk6IEN1c3RvbWVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbWVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNuYW1lLFxuICAgICAgdGhpcy4jYWRkcmVzcyxcbiAgICAgIHRoaXMuI2lzQWN0aXZlLFxuICAgICAgdGhpcy4jcmV3YXJkUG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwoY3VzdG9tZXI6IEN1c3RvbWVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBjdXN0b21lci5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gY3VzdG9tZXIubmFtZSAmJlxuICAgICAgdGhpcy4jYWRkcmVzcy5pc0VxdWFsKGN1c3RvbWVyLmFkZHJlc3MpXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0ZSh2YWx1ZXM6IFZhbGlkYXRpb25bXSk6IHZvaWQge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3NFbnRpdHkpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCAmJlxuICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkN1c3RvbWVyRW50aXR5IiwiaWQiLCJuYW1lIiwiYWRkcmVzcyIsInJld2FyZFBvaW50cyIsImlzQWN0aXZlIiwiY2hhbmdlTmFtZSIsInZhbGlkYXRlIiwidmFsdWUiLCJmaWVsZE5hbWUiLCJ2YWxpZGF0aW9ucyIsImlzUmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJjaGFuZ2VBZGRyZXNzIiwidXBkYXRlUmV3YXJkUG9pbnRzIiwicG9pbnRzIiwidG9TdHJpbmciLCJjbG9uZSIsImlzRXF1YWwiLCJjdXN0b21lciIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwiZm9yRWFjaCIsInByb3BzIiwiQWRkcmVzc0VudGl0eSIsIlZhbGlkYXRpb25FcnJv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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\nimport { AddressEntity } from './address_entity';\n\nexport class CustomerEntity {\n  #id: string;\n\n  #name: string;\n\n  #address: AddressEntity;\n\n  #isActive: boolean;\n\n  #rewardPoints: number;\n\n  constructor(\n    id: string,\n    name: string,\n    address: AddressEntity,\n    isActive = true,\n    rewardPoints = 0\n  ) {\n    this.#validate([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 4 },\n      },\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#address = address;\n    this.#isActive = isActive;\n    this.#rewardPoints = rewardPoints;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get address(): AddressEntity {\n    return this.#address;\n  }\n\n  get rewardPoints(): number {\n    return this.#rewardPoints;\n  }\n\n  get isActive(): boolean {\n    return this.#isActive;\n  }\n\n  changeName(name: string): void {\n    this.#validate([\n      {\n        value: name,\n        fieldName: 'name',\n        validations: { isRequired: true, minLength: 4 },\n      },\n    ]);\n    this.#name = name;\n  }\n\n  changeAddress(address: AddressEntity): void {\n    this.#validate([\n      {\n        fieldName: 'address',\n        value: address,\n        validations: { isRequired: true },\n      },\n    ]);\n    this.#address = address;\n  }\n\n  updateRewardPoints(points: number) {\n    this.#rewardPoints += points;\n  }\n\n  toString(): string {\n    return `id: ${this.#id}\\nname: ${\n      this.#name\n    }\\naddress: ${this.#address.toString()}\\nactive: ${this.isActive.toString()}`;\n  }\n\n  clone(): CustomerEntity {\n    return new CustomerEntity(\n      this.#id,\n      this.#name,\n      this.#address,\n      this.#isActive,\n      this.#rewardPoints\n    );\n  }\n\n  isEqual(customer: CustomerEntity): boolean {\n    return (\n      this.#id === customer.id &&\n      this.#name === customer.name &&\n      this.#address.isEqual(customer.address)\n    );\n  }\n\n  #validate(values: Validation[]): void {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string' || value instanceof AddressEntity) {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (\n        props?.validations?.minLength &&\n        value.length < props?.validations?.minLength\n      ) {\n        if (typeof value == 'string') {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/af/customer_entity_afaca2be38f2a940cb2b94a257022abd.map","wrapperLength":82},"result":{"scriptId":"3511","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/customer_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16069,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16066,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":358,"endOffset":560,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":561,"endOffset":727,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":728,"endOffset":1042,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1043,"endOffset":1284,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1285,"endOffset":1480,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1481,"endOffset":1621,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1622,"endOffset":1842,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1843,"endOffset":2041,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2042,"endOffset":2169,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2440,"endOffset":2505,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2510,"endOffset":2579,"count":0}],"isBlockCoverage":false},{"functionName":"get address","ranges":[{"startOffset":2584,"endOffset":2659,"count":0}],"isBlockCoverage":false},{"functionName":"get rewardPoints","ranges":[{"startOffset":2664,"endOffset":2749,"count":0}],"isBlockCoverage":false},{"functionName":"get isActive","ranges":[{"startOffset":2754,"endOffset":2831,"count":0}],"isBlockCoverage":false},{"functionName":"changeName","ranges":[{"startOffset":2836,"endOffset":3207,"count":0}],"isBlockCoverage":false},{"functionName":"changeAddress","ranges":[{"startOffset":3212,"endOffset":3567,"count":0}],"isBlockCoverage":false},{"functionName":"updateRewardPoints","ranges":[{"startOffset":3572,"endOffset":3711,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3716,"endOffset":3936,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3941,"endOffset":4184,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":4189,"endOffset":4402,"count":0}],"isBlockCoverage":false},{"functionName":"CustomerEntity","ranges":[{"startOffset":4407,"endOffset":6035,"count":0}],"isBlockCoverage":false},{"functionName":"validate","ranges":[{"startOffset":6038,"endOffset":6788,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"AddressEntity\", {\n    enumerable: true,\n    get: ()=>AddressEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _street = /*#__PURE__*/ new WeakMap(), _streetNumber = /*#__PURE__*/ new WeakMap(), _city = /*#__PURE__*/ new WeakMap(), _zipCode = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass AddressEntity {\n    get street() {\n        return _classPrivateFieldGet(this, _street);\n    }\n    get streetNumber() {\n        return _classPrivateFieldGet(this, _streetNumber);\n    }\n    get city() {\n        return _classPrivateFieldGet(this, _city);\n    }\n    get zipCode() {\n        return _classPrivateFieldGet(this, _zipCode);\n    }\n    clone() {\n        return new AddressEntity(_classPrivateFieldGet(this, _street), _classPrivateFieldGet(this, _streetNumber), _classPrivateFieldGet(this, _city), _classPrivateFieldGet(this, _zipCode));\n    }\n    toString() {\n        return `street: ${_classPrivateFieldGet(this, _street)} - number: ${_classPrivateFieldGet(this, _streetNumber)} - city: ${_classPrivateFieldGet(this, _city)} - ZipCode: ${_classPrivateFieldGet(this, _zipCode)}`;\n    }\n    isEqual(address) {\n        return _classPrivateFieldGet(this, _street) === address.street && _classPrivateFieldGet(this, _streetNumber) === address.streetNumber && _classPrivateFieldGet(this, _city) === address.city && _classPrivateFieldGet(this, _zipCode) === address.zipCode;\n    }\n    constructor(street, streetNumber, city, zipCode){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _street, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _streetNumber, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _city, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _zipCode, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'street',\n                value: street,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'streetNumber',\n                value: streetNumber,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'city',\n                value: city,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'zipCode',\n                value: zipCode,\n                validations: {\n                    isRequired: true\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _street, street);\n        _classPrivateFieldSet(this, _streetNumber, streetNumber);\n        _classPrivateFieldSet(this, _city, city);\n        _classPrivateFieldSet(this, _zipCode, zipCode);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9hZGRyZXNzX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VudGl0eSB7XG4gICNzdHJlZXQ6IHN0cmluZztcblxuICAjc3RyZWV0TnVtYmVyOiBzdHJpbmc7XG5cbiAgI2NpdHk6IHN0cmluZztcblxuICAjemlwQ29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0cmVldDogc3RyaW5nLFxuICAgIHN0cmVldE51bWJlcjogc3RyaW5nLFxuICAgIGNpdHk6IHN0cmluZyxcbiAgICB6aXBDb2RlOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3N0cmVldCcsIHZhbHVlOiBzdHJlZXQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdzdHJlZXROdW1iZXInLFxuICAgICAgICB2YWx1ZTogc3RyZWV0TnVtYmVyLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdjaXR5JyxcbiAgICAgICAgdmFsdWU6IGNpdHksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ3ppcENvZGUnLFxuICAgICAgICB2YWx1ZTogemlwQ29kZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI3N0cmVldCA9IHN0cmVldDtcbiAgICB0aGlzLiNzdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy4jY2l0eSA9IGNpdHk7XG4gICAgdGhpcy4jemlwQ29kZSA9IHppcENvZGU7XG4gIH1cblxuICBnZXQgc3RyZWV0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3N0cmVldDtcbiAgfVxuXG4gIGdldCBzdHJlZXROdW1iZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jc3RyZWV0TnVtYmVyO1xuICB9XG5cbiAgZ2V0IGNpdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jY2l0eTtcbiAgfVxuXG4gIGdldCB6aXBDb2RlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI3ppcENvZGU7XG4gIH1cblxuICBjbG9uZSgpOiBBZGRyZXNzRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3NFbnRpdHkoXG4gICAgICB0aGlzLiNzdHJlZXQsXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIsXG4gICAgICB0aGlzLiNjaXR5LFxuICAgICAgdGhpcy4jemlwQ29kZVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHN0cmVldDogJHt0aGlzLiNzdHJlZXR9IC0gbnVtYmVyOiAke3RoaXMuI3N0cmVldE51bWJlcn0gLSBjaXR5OiAke1xuICAgICAgdGhpcy4jY2l0eVxuICAgIH0gLSBaaXBDb2RlOiAke3RoaXMuI3ppcENvZGV9YDtcbiAgfVxuXG4gIGlzRXF1YWwoYWRkcmVzczogQWRkcmVzc0VudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNzdHJlZXQgPT09IGFkZHJlc3Muc3RyZWV0ICYmXG4gICAgICB0aGlzLiNzdHJlZXROdW1iZXIgPT09IGFkZHJlc3Muc3RyZWV0TnVtYmVyICYmXG4gICAgICB0aGlzLiNjaXR5ID09PSBhZGRyZXNzLmNpdHkgJiZcbiAgICAgIHRoaXMuI3ppcENvZGUgPT09IGFkZHJlc3MuemlwQ29kZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZGRyZXNzRW50aXR5Iiwic3RyZWV0Iiwic3RyZWV0TnVtYmVyIiwiY2l0eSIsInppcENvZGUiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsImFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsInZhbGlkYXRpb24iLCJmaWVsZE5hbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25zIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUZNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd6QyxPQUFPLGdDQUVQLGFBQWEsZ0NBRWIsS0FBSyxnQ0FFTCxRQUFRLGdDQXlFUixXQUFXO0FBaEZOLE1BQU1BLGFBQWE7SUF3Q3hCLElBQUlDLE1BQU0sR0FBVztRQUNuQiw2QkFBTyxJQUFJLEVBQUVBLE9BQU0sRUFBQztLQUNyQjtJQUVELElBQUlDLFlBQVksR0FBVztRQUN6Qiw2QkFBTyxJQUFJLEVBQUVB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","originalCode":"import { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class AddressEntity {\n  #street: string;\n\n  #streetNumber: string;\n\n  #city: string;\n\n  #zipCode: string;\n\n  constructor(\n    street: string,\n    streetNumber: string,\n    city: string,\n    zipCode: string\n  ) {\n    this.#validation([\n      { fieldName: 'street', value: street, validations: { isRequired: true } },\n      {\n        fieldName: 'streetNumber',\n        value: streetNumber,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'city',\n        value: city,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'zipCode',\n        value: zipCode,\n        validations: { isRequired: true },\n      },\n    ]);\n\n    this.#street = street;\n    this.#streetNumber = streetNumber;\n    this.#city = city;\n    this.#zipCode = zipCode;\n  }\n\n  get street(): string {\n    return this.#street;\n  }\n\n  get streetNumber(): string {\n    return this.#streetNumber;\n  }\n\n  get city(): string {\n    return this.#city;\n  }\n\n  get zipCode(): string {\n    return this.#zipCode;\n  }\n\n  clone(): AddressEntity {\n    return new AddressEntity(\n      this.#street,\n      this.#streetNumber,\n      this.#city,\n      this.#zipCode\n    );\n  }\n\n  toString() {\n    return `street: ${this.#street} - number: ${this.#streetNumber} - city: ${\n      this.#city\n    } - ZipCode: ${this.#zipCode}`;\n  }\n\n  isEqual(address: AddressEntity) {\n    return (\n      this.#street === address.street &&\n      this.#streetNumber === address.streetNumber &&\n      this.#city === address.city &&\n      this.#zipCode === address.zipCode\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/62/address_entity_6266876bf6d1b919547ed290f38487d6.map","wrapperLength":82},"result":{"scriptId":"3516","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/address_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11589,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":11586,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":0}],"isBlockCoverage":false},{"functionName":"get street","ranges":[{"startOffset":2350,"endOffset":2423,"count":0}],"isBlockCoverage":false},{"functionName":"get streetNumber","ranges":[{"startOffset":2428,"endOffset":2513,"count":0}],"isBlockCoverage":false},{"functionName":"get city","ranges":[{"startOffset":2518,"endOffset":2587,"count":0}],"isBlockCoverage":false},{"functionName":"get zipCode","ranges":[{"startOffset":2592,"endOffset":2667,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":2672,"endOffset":2878,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2883,"endOffset":3121,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3126,"endOffset":3409,"count":0}],"isBlockCoverage":false},{"functionName":"AddressEntity","ranges":[{"startOffset":3414,"endOffset":5038,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5041,"endOffset":5384,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductEntity\", {\n    enumerable: true,\n    get: ()=>ProductEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _price = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass ProductEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _price);\n    }\n    updatePrice(price) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _price, price);\n    }\n    updateName(name) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _name, name);\n    }\n    clone() {\n        return new ProductEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _price));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${_classPrivateFieldGet(this, _price)}`;\n    }\n    isEqual(product) {\n        return _classPrivateFieldGet(this, _id) === product.id && _classPrivateFieldGet(this, _name) === product.name && _classPrivateFieldGet(this, _price) === product.price;\n    }\n    constructor(id, name, price){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _price, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'price',\n                value: price,\n                validations: {\n                    minLength: 0\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _price, price);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value === 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName.toLowerCase()} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength === 'number') {\n            if (typeof value === 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value === 'number' && value < props?.validations?.minLength) {\n                // eslint-disable-next-line max-len\n                throw new _errors.ValidationError(`${fieldName.toLowerCase()} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9wcm9kdWN0X2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdEVudGl0eSB7XG4gICNpZDogc3RyaW5nO1xuXG4gICNuYW1lOiBzdHJpbmc7XG5cbiAgI3ByaWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBwcmljZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ2lkJywgdmFsdWU6IGlkLCB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnbmFtZScsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDIgfSxcbiAgICAgIH0sXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNpZDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI25hbWU7XG4gIH1cblxuICBnZXQgcHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpY2U7XG4gIH1cblxuICB1cGRhdGVQcmljZShwcmljZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3ByaWNlJywgdmFsdWU6IHByaWNlLCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDAgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcHJpY2UgPSBwcmljZTtcbiAgfVxuXG4gIHVwZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ25hbWUnLFxuICAgICAgICB2YWx1ZTogbmFtZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gIH1cblxuICBjbG9uZSgpOiBQcm9kdWN0RW50aXR5IHtcbiAgICByZXR1cm4gbmV3IFByb2R1Y3RFbnRpdHkodGhpcy4jaWQsIHRoaXMuI25hbWUsIHRoaXMuI3ByaWNlKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH0gLSBuYW1lOiAke3RoaXMuI25hbWV9IC0gcHJpY2U6ICR7dGhpcy4jcHJpY2V9YDtcbiAgfVxuXG4gIGlzRXF1YWwocHJvZHVjdDogUHJvZHVjdEVudGl0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLiNpZCA9PT0gcHJvZHVjdC5pZCAmJlxuICAgICAgdGhpcy4jbmFtZSA9PT0gcHJvZHVjdC5uYW1lICYmXG4gICAgICB0aGlzLiNwcmljZSA9PT0gcHJvZHVjdC5wcmljZVxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IGxlbmd0aCwgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gJHtcbiAgICAgICAgICAgICAgcHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RoXG4gICAgICAgICAgICB9LiBDdXJyZW50IGxlbmd0aCBpcyAke3ZhbHVlLmxlbmd0aH0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHZhbHVlIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgYCR7ZmllbGROYW1lLnRvTG93ZXJDYXNlKCl9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7XG4gICAgICAgICAgICAgIHByb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aFxuICAgICAgICAgICAgfS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdEVudGl0eSIsImlkIiwibmFtZSIsInByaWNlIiwidXBkYXRlUHJpY2UiLCJ2YWxpZGF0aW9uIiwiZmllbGROYW1lIiwidmFsdWUiLCJ2YWxpZGF0aW9ucyIsIm1pbkxlbmd0aCIsInVwZGF0ZU5hbWUiLCJpc1JlcXVpcmVkIiwiY2xvbmUiLCJ0b1N0cmluZyIsImlzRXF1YWwiLCJwcm9kdWN0IiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGVBQWE7O2FBQWJBLGFBQWE7O3dCQUhNLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUl6QyxHQUFHLGdDQUVILEtBQUssZ0NBRUwsTUFBTSxnQ0FpRU4sV0FBVztBQXRFTixNQUFNQSxhQUFhO0lBc0J4QixJQUFJQyxFQUFFLEdBQVc7UUFDZiw2QkFBTyxJQUFJLEVBQUVBLEdBQUUsRUFBQztLQUNqQjtJQUVELElBQUlDLElBQUksR0FBVztRQUNqQiw2QkFBTyxJQUFJLEVBQUVBLEtBQUksRUFBQztLQUNuQjtJQUVELElBQUlDLEtBQUssR0FBVztRQUNsQiw2QkFBTyxJQUFJLEVBQUVBLE1BQUssRUFBQztLQUNwQjtJQUVEQyxXQUFXLENBQUNELEtBQWEsRUFBUTtRQUMvQix1QkFBQSxJQUFJLEVBQUVFLFdBQVUsRUFBVkEsVUFBVSxPQUFo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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class ProductEntity {\n  #id: string;\n\n  #name: string;\n\n  #price: number;\n\n  constructor(id: string, name: string, price: number) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n    this.#id = id;\n    this.#name = name;\n    this.#price = price;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#price;\n  }\n\n  updatePrice(price: number): void {\n    this.#validation([\n      { fieldName: 'price', value: price, validations: { minLength: 0 } },\n    ]);\n\n    this.#price = price;\n  }\n\n  updateName(name: string): void {\n    this.#validation([\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n    ]);\n\n    this.#name = name;\n  }\n\n  clone(): ProductEntity {\n    return new ProductEntity(this.#id, this.#name, this.#price);\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${this.#price}`;\n  }\n\n  isEqual(product: ProductEntity): boolean {\n    return (\n      this.#id === product.id &&\n      this.#name === product.name &&\n      this.#price === product.price\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value === 'string') {\n          if (!value) {\n            throw new ValidationError(\n              `${fieldName.toLowerCase()} is required.`\n            );\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength === 'number') {\n        if (\n          typeof value === 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} length, must be equal or greater than ${\n              props.validations.minLength\n            }. Current length is ${value.length}.`\n          );\n        }\n\n        if (\n          typeof value === 'number' &&\n          value < props?.validations?.minLength\n        ) {\n          // eslint-disable-next-line max-len\n          throw new ValidationError(\n            `${fieldName.toLowerCase()} must be equal or greater than ${\n              props.validations.minLength\n            }. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/7f/product_entity_7fb80201a3256de731bbdd9a2b2d7032.map","wrapperLength":82},"result":{"scriptId":"5512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/product_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14298,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14295,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":5}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":304,"endOffset":506,"count":40}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":507,"endOffset":673,"count":35}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":674,"endOffset":988,"count":35}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":989,"endOffset":1230,"count":70}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1231,"endOffset":1426,"count":35}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1427,"endOffset":1567,"count":30}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1568,"endOffset":1788,"count":35}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1789,"endOffset":1987,"count":15}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1988,"endOffset":2115,"count":10}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2299,"endOffset":2364,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2369,"endOffset":2438,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2443,"endOffset":2514,"count":20}],"isBlockCoverage":false},{"functionName":"updatePrice","ranges":[{"startOffset":2519,"endOffset":2862,"count":5}],"isBlockCoverage":false},{"functionName":"updateName","ranges":[{"startOffset":2867,"endOffset":3242,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3247,"endOffset":3403,"count":5}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3408,"endOffset":3578,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3583,"endOffset":3783,"count":0}],"isBlockCoverage":false},{"functionName":"ProductEntity","ranges":[{"startOffset":3788,"endOffset":5011,"count":10}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5014,"endOffset":6061,"count":15}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5063,"endOffset":6057,"count":35}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderItemEntity\", {\n    enumerable: true,\n    get: ()=>OrderItemEntity\n});\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _name = /*#__PURE__*/ new WeakMap(), _unitPrice = /*#__PURE__*/ new WeakMap(), _quantity = /*#__PURE__*/ new WeakMap(), _productId = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderItemEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get name() {\n        return _classPrivateFieldGet(this, _name);\n    }\n    get price() {\n        return _classPrivateFieldGet(this, _unitPrice) * _classPrivateFieldGet(this, _quantity);\n    }\n    get unitPrice() {\n        return _classPrivateFieldGet(this, _unitPrice);\n    }\n    get quantity() {\n        return _classPrivateFieldGet(this, _quantity);\n    }\n    get productId() {\n        return _classPrivateFieldGet(this, _productId);\n    }\n    updateQuantity(quantity) {\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _quantity, quantity);\n    }\n    clone() {\n        return new OrderItemEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _name), _classPrivateFieldGet(this, _unitPrice), _classPrivateFieldGet(this, _productId), _classPrivateFieldGet(this, _quantity));\n    }\n    toString() {\n        return `id: ${_classPrivateFieldGet(this, _id)} - name: ${_classPrivateFieldGet(this, _name)} - price: ${this.price} - quantity: ${_classPrivateFieldGet(this, _quantity)} - productId: ${_classPrivateFieldGet(this, _productId)}`;\n    }\n    isEqual(orderItem) {\n        return _classPrivateFieldGet(this, _id) === orderItem.id && _classPrivateFieldGet(this, _name) === orderItem.name && this.price === orderItem.price && _classPrivateFieldGet(this, _quantity) === orderItem.quantity && _classPrivateFieldGet(this, _productId) === orderItem.productId;\n    }\n    constructor(id, name, unitPrice, productId, quantity = 1){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _name, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _unitPrice, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _quantity, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _productId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'name',\n                value: name,\n                validations: {\n                    isRequired: true,\n                    minLength: 2\n                }\n            },\n            {\n                fieldName: 'unitPrice',\n                value: unitPrice,\n                validations: {\n                    minLength: 0\n                }\n            },\n            {\n                fieldName: 'productId',\n                value: productId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'quantity',\n                value: quantity,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _name, name);\n        _classPrivateFieldSet(this, _unitPrice, unitPrice);\n        _classPrivateFieldSet(this, _quantity, quantity);\n        _classPrivateFieldSet(this, _productId, productId);\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (typeof props?.validations?.minLength == 'number') {\n            if (typeof value == 'string' && value.length < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`);\n            }\n            if (typeof value == 'number' && value < props?.validations?.minLength) {\n                throw new _errors.ValidationError(`${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`);\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9pdGVtX2VudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJJdGVtRW50aXR5IHtcbiAgI2lkOiBzdHJpbmc7XG5cbiAgI25hbWU6IHN0cmluZztcblxuICAjdW5pdFByaWNlOiBudW1iZXI7XG5cbiAgI3F1YW50aXR5OiBudW1iZXI7XG5cbiAgI3Byb2R1Y3RJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVuaXRQcmljZTogbnVtYmVyLFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5ID0gMVxuICApIHtcbiAgICB0aGlzLiN2YWxpZGF0aW9uKFtcbiAgICAgIHsgZmllbGROYW1lOiAnaWQnLCB2YWx1ZTogaWQsIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUgfSB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICduYW1lJyxcbiAgICAgICAgdmFsdWU6IG5hbWUsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IGlzUmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAndW5pdFByaWNlJyxcbiAgICAgICAgdmFsdWU6IHVuaXRQcmljZSxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAwIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmaWVsZE5hbWU6ICdwcm9kdWN0SWQnLFxuICAgICAgICB2YWx1ZTogcHJvZHVjdElkLFxuICAgICAgICB2YWxpZGF0aW9uczogeyBpc1JlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgeyBmaWVsZE5hbWU6ICdxdWFudGl0eScsIHZhbHVlOiBxdWFudGl0eSwgdmFsaWRhdGlvbnM6IHsgbWluTGVuZ3RoOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgdGhpcy4jdW5pdFByaWNlID0gdW5pdFByaWNlO1xuICAgIHRoaXMuI3F1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy4jcHJvZHVjdElkID0gcHJvZHVjdElkO1xuICB9XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2lkO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jbmFtZTtcbiAgfVxuXG4gIGdldCBwcmljZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiN1bml0UHJpY2UgKiB0aGlzLiNxdWFudGl0eTtcbiAgfVxuXG4gIGdldCB1bml0UHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jdW5pdFByaWNlO1xuICB9XG5cbiAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI3F1YW50aXR5O1xuICB9XG5cbiAgZ2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNwcm9kdWN0SWQ7XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShxdWFudGl0eTogbnVtYmVyKSB7XG4gICAgdGhpcy4jdmFsaWRhdGlvbihbXG4gICAgICB7IGZpZWxkTmFtZTogJ3F1YW50aXR5JywgdmFsdWU6IHF1YW50aXR5LCB2YWxpZGF0aW9uczogeyBtaW5MZW5ndGg6IDEgfSB9LFxuICAgIF0pO1xuXG4gICAgdGhpcy4jcXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVySXRlbUVudGl0eSB7XG4gICAgcmV0dXJuIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICB0aGlzLiNpZCxcbiAgICAgIHRoaXMuI25hbWUsXG4gICAgICB0aGlzLiN1bml0UHJpY2UsXG4gICAgICB0aGlzLiNwcm9kdWN0SWQsXG4gICAgICB0aGlzLiNxdWFudGl0eVxuICAgICk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaWQ6ICR7dGhpcy4jaWR9IC0gbmFtZTogJHt0aGlzLiNuYW1lfSAtIHByaWNlOiAke1xuICAgICAgdGhpcy5wcmljZVxuICAgIH0gLSBxdWFudGl0eTogJHt0aGlzLiNxdWFudGl0eX0gLSBwcm9kdWN0SWQ6ICR7dGhpcy4jcHJvZHVjdElkfWA7XG4gIH1cblxuICBpc0VxdWFsKG9yZGVySXRlbTogT3JkZXJJdGVtRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlckl0ZW0uaWQgJiZcbiAgICAgIHRoaXMuI25hbWUgPT09IG9yZGVySXRlbS5uYW1lICYmXG4gICAgICB0aGlzLnByaWNlID09PSBvcmRlckl0ZW0ucHJpY2UgJiZcbiAgICAgIHRoaXMuI3F1YW50aXR5ID09PSBvcmRlckl0ZW0ucXVhbnRpdHkgJiZcbiAgICAgIHRoaXMuI3Byb2R1Y3RJZCA9PT0gb3JkZXJJdGVtLnByb2R1Y3RJZFxuICAgICk7XG4gIH1cblxuICAjdmFsaWRhdGlvbih2YWx1ZXM6IFZhbGlkYXRpb25bXSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKCh7IGZpZWxkTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8udmFsaWRhdGlvbnM/LmlzUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdmFsdWUubGVuZ3RoIDwgcHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIGAke2ZpZWxkTmFtZX0gbGVuZ3RoLCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiAke3Byb3BzLnZhbGlkYXRpb25zLm1pbkxlbmd0aH0uIEN1cnJlbnQgbGVuZ3RoIGlzICR7dmFsdWUubGVuZ3RofS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPCBwcm9wcz8udmFsaWRhdGlvbnM/Lm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBgJHtmaWVsZE5hbWV9IG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuICR7cHJvcHMudmFsaWRhdGlvbnMubWluTGVuZ3RofS4gQ3VycmVudCB2YWx1ZSBpcyAke3ZhbHVlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3JkZXJJdGVtRW50aXR5IiwiaWQiLCJuYW1lIiwicHJpY2UiLCJ1bml0UHJpY2UiLCJxdWFudGl0eSIsInByb2R1Y3RJZCIsInVwZGF0ZVF1YW50aXR5IiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJtaW5MZW5ndGgiLCJjbG9uZSIsInRvU3RyaW5nIiwiaXNFcXVhbCIsIm9yZGVySXRlbSIsImNvbnN0cnVjdG9yIiwiaXNSZXF1aXJlZCIsInZhbHVlcyIsImZvckVhY2giLCJwcm9wcyIsIlZhbGlkYXRpb25FcnJvciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBR2FBLGlCQUFlOzthQUFmQSxlQUFlOzt3QkFISSxXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJekMsR0FBRyxnQ0FFSCxLQUFLLGdDQUVMLFVBQVUsZ0NBRVYsU0FBUyxnQ0FFVCxVQUFVLGdDQThGVixXQUFXO0FBdkdOLE1BQU1BLGVBQWU7SUE2QzFCLElBQUlDLEVBQUUsR0FBVztRQUNmLDZCQUFPLElBQUksRUFBRUEsR0FBRSxFQUFDO0tBQ2pCO0lBRUQsSUFBSUMsSUFBSSxHQUFXO1FBQ2pCLDZCQUFPLElBQUksRUFBRUEsS0FBSSxFQUFDO0tBQ25CO0lBRUQsSUFBSUMsS0FBSyxHQUFXO1FBQ2xCLE9BQU8sc0JBQUEsSUFBSSxFQUFFQyxVQUFTLDBCQUFHLElBQUksRUFBRUMsU0FBUSxDQUFBLENBQUM7S0FDekM7SUFFRCxJQUFJRCxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFRCxJQUFJQyxRQUFRLEdBQVc7UUFDckIsNkJBQU8sSUFBSSxFQUFFQSxTQUFRLEVBQUM7S0FDdkI7SUFFRCxJQUFJQyxTQUFTLEdBQVc7UUFDdEIsNkJBQU8sSUFBSSxFQUFFQSxVQUFTLEVBQUM7S0FDeEI7SUFFREMsY0FBYyxDQUFDRixRQUFnQixFQUFFO1FBQy9CLHVCQUFBLElBQUksRUFBRUcsV0FBVSxFQUFWQSxVQUFVLE9BQWhCLElBQUksRUFBYTtZQUNmO2dCQUFFQyxTQUFTLEVBQUUsVUFBVTtnQkFBRUMsS0FBSyxFQUFFTCxRQUFRO2dCQUFFTSxXQUFXLEVBQUU7b0JBQUVDLFNBQVMsRUFBRSxDQUFDO2lCQUFFO2FBQUU7U0FDMUUsQ0FBQyxDQUFDO29DQUVHUCxTQUFRLEVBQUdBLFFBQVEsRUFB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","originalCode":"import { ValidationError } from '../errors';\nimport { Validation } from './types';\n\nexport class OrderItemEntity {\n  #id: string;\n\n  #name: string;\n\n  #unitPrice: number;\n\n  #quantity: number;\n\n  #productId: string;\n\n  constructor(\n    id: string,\n    name: string,\n    unitPrice: number,\n    productId: string,\n    quantity = 1\n  ) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'name',\n        value: name,\n        validations: { isRequired: true, minLength: 2 },\n      },\n      {\n        fieldName: 'unitPrice',\n        value: unitPrice,\n        validations: { minLength: 0 },\n      },\n      {\n        fieldName: 'productId',\n        value: productId,\n        validations: { isRequired: true },\n      },\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#id = id;\n    this.#name = name;\n    this.#unitPrice = unitPrice;\n    this.#quantity = quantity;\n    this.#productId = productId;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get price(): number {\n    return this.#unitPrice * this.#quantity;\n  }\n\n  get unitPrice(): number {\n    return this.#unitPrice;\n  }\n\n  get quantity(): number {\n    return this.#quantity;\n  }\n\n  get productId(): string {\n    return this.#productId;\n  }\n\n  updateQuantity(quantity: number) {\n    this.#validation([\n      { fieldName: 'quantity', value: quantity, validations: { minLength: 1 } },\n    ]);\n\n    this.#quantity = quantity;\n  }\n\n  clone(): OrderItemEntity {\n    return new OrderItemEntity(\n      this.#id,\n      this.#name,\n      this.#unitPrice,\n      this.#productId,\n      this.#quantity\n    );\n  }\n\n  toString(): string {\n    return `id: ${this.#id} - name: ${this.#name} - price: ${\n      this.price\n    } - quantity: ${this.#quantity} - productId: ${this.#productId}`;\n  }\n\n  isEqual(orderItem: OrderItemEntity): boolean {\n    return (\n      this.#id === orderItem.id &&\n      this.#name === orderItem.name &&\n      this.price === orderItem.price &&\n      this.#quantity === orderItem.quantity &&\n      this.#productId === orderItem.productId\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (typeof props?.validations?.minLength == 'number') {\n        if (\n          typeof value == 'string' &&\n          value.length < props?.validations?.minLength\n        ) {\n          throw new ValidationError(\n            `${fieldName} length, must be equal or greater than ${props.validations.minLength}. Current length is ${value.length}.`\n          );\n        }\n\n        if (typeof value == 'number' && value < props?.validations?.minLength) {\n          throw new ValidationError(\n            `${fieldName} must be equal or greater than ${props.validations.minLength}. Current value is ${value}.`\n          );\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/6c/order_item_entity_6c612d53b5dfa396aa408ed51876a3fc.map","wrapperLength":82},"result":{"scriptId":"6512","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_item_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":16641,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":16638,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":308,"endOffset":510,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":511,"endOffset":677,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":678,"endOffset":992,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":993,"endOffset":1234,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1235,"endOffset":1430,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1431,"endOffset":1571,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1572,"endOffset":1792,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1793,"endOffset":1991,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":1992,"endOffset":2119,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2392,"endOffset":2457,"count":0}],"isBlockCoverage":false},{"functionName":"get name","ranges":[{"startOffset":2462,"endOffset":2531,"count":0}],"isBlockCoverage":false},{"functionName":"get price","ranges":[{"startOffset":2536,"endOffset":2652,"count":0}],"isBlockCoverage":false},{"functionName":"get unitPrice","ranges":[{"startOffset":2657,"endOffset":2736,"count":0}],"isBlockCoverage":false},{"functionName":"get quantity","ranges":[{"startOffset":2741,"endOffset":2818,"count":0}],"isBlockCoverage":false},{"functionName":"get productId","ranges":[{"startOffset":2823,"endOffset":2902,"count":0}],"isBlockCoverage":false},{"functionName":"updateQuantity","ranges":[{"startOffset":2907,"endOffset":3268,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3273,"endOffset":3516,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":3521,"endOffset":3776,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3781,"endOffset":4096,"count":0}],"isBlockCoverage":false},{"functionName":"OrderItemEntity","ranges":[{"startOffset":4101,"endOffset":6096,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":6099,"endOffset":7048,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"OrderEntity\", {\n    enumerable: true,\n    get: ()=>OrderEntity\n});\nconst _orderItemEntity = require(\"./order_item_entity\");\nconst _errors = require(\"../errors\");\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\");\n    return _classApplyDescriptorGet(receiver, descriptor);\n}\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    _checkPrivateRedeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\");\n    _classApplyDescriptorSet(receiver, descriptor, value);\n    return value;\n}\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\nfunction _classPrivateMethodInit(obj, privateSet) {\n    _checkPrivateRedeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nvar _id = /*#__PURE__*/ new WeakMap(), _customerId = /*#__PURE__*/ new WeakMap(), _items = /*#__PURE__*/ new WeakMap(), _validation = /*#__PURE__*/ new WeakSet();\nclass OrderEntity {\n    get id() {\n        return _classPrivateFieldGet(this, _id);\n    }\n    get customerId() {\n        return _classPrivateFieldGet(this, _customerId);\n    }\n    get items() {\n        return Array.from(_classPrivateFieldGet(this, _items).values());\n    }\n    get totalItems() {\n        return _classPrivateFieldGet(this, _items).size;\n    }\n    get total() {\n        return this.items.reduce((acc, item)=>acc + item.price, 0);\n    }\n    addItem(item) {\n        _classPrivateFieldGet(this, _items).set(item.id, item);\n    }\n    removeItem(id) {\n        _classPrivateFieldGet(this, _items).delete(id);\n    }\n    toString() {\n        let printItems = '';\n        _classPrivateFieldGet(this, _items).forEach((item)=>{\n            printItems += `${item}\\n`;\n        });\n        return `id: ${_classPrivateFieldGet(this, _id)}\\ncustomerId: ${_classPrivateFieldGet(this, _customerId)}\\nitems:\\n${printItems}`;\n    }\n    clone() {\n        return new OrderEntity(_classPrivateFieldGet(this, _id), _classPrivateFieldGet(this, _customerId), this.items.map((item)=>new _orderItemEntity.OrderItemEntity(item.id, item.name, item.unitPrice, item.productId, item.quantity)));\n    }\n    isEqual(order) {\n        return _classPrivateFieldGet(this, _id) === order.id && _classPrivateFieldGet(this, _customerId) === order.customerId && this.totalItems === order.totalItems && this.items.every((orderItem, index)=>orderItem.isEqual(order.items[index]));\n    }\n    constructor(id, customerId, items){\n        _classPrivateMethodInit(this, _validation);\n        _classPrivateFieldInit(this, _id, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _customerId, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateFieldInit(this, _items, {\n            writable: true,\n            value: void 0\n        });\n        _classPrivateMethodGet(this, _validation, validation).call(this, [\n            {\n                fieldName: 'id',\n                value: id,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'customerId',\n                value: customerId,\n                validations: {\n                    isRequired: true\n                }\n            },\n            {\n                fieldName: 'items',\n                value: items,\n                validations: {\n                    minLength: 1\n                }\n            }, \n        ]);\n        _classPrivateFieldSet(this, _id, id);\n        _classPrivateFieldSet(this, _customerId, customerId);\n        _classPrivateFieldSet(this, _items, new Map(items.map((item)=>[\n                item.id,\n                item\n            ])));\n    }\n}\nfunction validation(values) {\n    values.forEach(({ fieldName , value , ...props })=>{\n        if (props?.validations?.isRequired) {\n            if (typeof value == 'string') {\n                if (!value) {\n                    throw new _errors.ValidationError(`${fieldName} is required.`);\n                }\n            }\n        }\n        if (props?.validations?.minLength) {\n            if (Array.isArray(value)) {\n                if (value.length < 1) {\n                    throw new _errors.ValidationError(`${fieldName}: add at the least 1 item.`);\n                }\n            }\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lbnRpdGllcy9vcmRlcl9lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJJdGVtRW50aXR5IH0gZnJvbSAnLi9vcmRlcl9pdGVtX2VudGl0eSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJFbnRpdHkge1xuICAjaWQ6IHN0cmluZztcblxuICAjY3VzdG9tZXJJZDogc3RyaW5nO1xuXG4gICNpdGVtczogTWFwPHN0cmluZywgT3JkZXJJdGVtRW50aXR5PjtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBjdXN0b21lcklkOiBzdHJpbmcsIGl0ZW1zOiBPcmRlckl0ZW1FbnRpdHlbXSkge1xuICAgIHRoaXMuI3ZhbGlkYXRpb24oW1xuICAgICAgeyBmaWVsZE5hbWU6ICdpZCcsIHZhbHVlOiBpZCwgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9IH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkTmFtZTogJ2N1c3RvbWVySWQnLFxuICAgICAgICB2YWx1ZTogY3VzdG9tZXJJZCxcbiAgICAgICAgdmFsaWRhdGlvbnM6IHsgaXNSZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGROYW1lOiAnaXRlbXMnLFxuICAgICAgICB2YWx1ZTogaXRlbXMsXG4gICAgICAgIHZhbGlkYXRpb25zOiB7IG1pbkxlbmd0aDogMSB9LFxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRoaXMuI2lkID0gaWQ7XG4gICAgdGhpcy4jY3VzdG9tZXJJZCA9IGN1c3RvbWVySWQ7XG4gICAgdGhpcy4jaXRlbXMgPSBuZXcgTWFwKGl0ZW1zLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaWQsIGl0ZW1dKSk7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jaWQ7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLiNjdXN0b21lcklkO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IE9yZGVySXRlbUVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNpdGVtcy52YWx1ZXMoKSk7XG4gIH1cblxuICBnZXQgdG90YWxJdGVtcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpdGVtcy5zaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGl0ZW0ucHJpY2UsIDApO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtOiBPcmRlckl0ZW1FbnRpdHkpIHtcbiAgICB0aGlzLiNpdGVtcy5zZXQoaXRlbS5pZCwgaXRlbSk7XG4gIH1cblxuICByZW1vdmVJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLiNpdGVtcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcHJpbnRJdGVtcyA9ICcnO1xuICAgIHRoaXMuI2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHByaW50SXRlbXMgKz0gYCR7aXRlbX1cXG5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGBpZDogJHt0aGlzLiNpZH1cXG5jdXN0b21lcklkOiAke1xuICAgICAgdGhpcy4jY3VzdG9tZXJJZFxuICAgIH1cXG5pdGVtczpcXG4ke3ByaW50SXRlbXN9YDtcbiAgfVxuXG4gIGNsb25lKCk6IE9yZGVyRW50aXR5IHtcbiAgICByZXR1cm4gbmV3IE9yZGVyRW50aXR5KFxuICAgICAgdGhpcy4jaWQsXG4gICAgICB0aGlzLiNjdXN0b21lcklkLFxuICAgICAgdGhpcy5pdGVtcy5tYXAoXG4gICAgICAgIChpdGVtKSA9PlxuICAgICAgICAgIG5ldyBPcmRlckl0ZW1FbnRpdHkoXG4gICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbS5uYW1lLFxuICAgICAgICAgICAgaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHlcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlzRXF1YWwob3JkZXI6IE9yZGVyRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuI2lkID09PSBvcmRlci5pZCAmJlxuICAgICAgdGhpcy4jY3VzdG9tZXJJZCA9PT0gb3JkZXIuY3VzdG9tZXJJZCAmJlxuICAgICAgdGhpcy50b3RhbEl0ZW1zID09PSBvcmRlci50b3RhbEl0ZW1zICYmXG4gICAgICB0aGlzLml0ZW1zLmV2ZXJ5KChvcmRlckl0ZW0sIGluZGV4KSA9PlxuICAgICAgICBvcmRlckl0ZW0uaXNFcXVhbChvcmRlci5pdGVtc1tpbmRleF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gICN2YWxpZGF0aW9uKHZhbHVlczogVmFsaWRhdGlvbltdKSB7XG4gICAgdmFsdWVzLmZvckVhY2goKHsgZmllbGROYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy52YWxpZGF0aW9ucz8uaXNSZXF1aXJlZCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHM/LnZhbGlkYXRpb25zPy5taW5MZW5ndGgpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYCR7ZmllbGROYW1lfTogYWRkIGF0IHRoZSBsZWFzdCAxIGl0ZW0uYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcmRlckVudGl0eSIsImlkIiwiY3VzdG9tZXJJZCIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwidG90YWxJdGVtcyIsInNpemUiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsImFkZEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwiZGVsZXRlIiwidG9TdHJpbmciLCJwcmludEl0ZW1zIiwiZm9yRWFjaCIsImNsb25lIiwibWFwIiwiT3JkZXJJdGVtRW50aXR5IiwibmFtZSIsInVuaXRQcmljZSIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiaXNFcXVhbCIsIm9yZGVyIiwiZXZlcnkiLCJvcmRlckl0ZW0iLCJpbmRleCIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGlvbiIsImZpZWxkTmFtZSIsInZhbHVlIiwidmFsaWRhdGlvbnMiLCJpc1JlcXVpcmVkIiwibWluTGVuZ3RoIiwiTWFwIiwicHJvcHMiLCJWYWxpZGF0aW9uRXJyb3IiLCJpc0FycmF5IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJYUEsYUFBVzs7YUFBWEEsV0FBVzs7aUNBSlEscUJBQXFCO3dCQUVyQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFHekMsR0FBRyxnQ0FFSCxXQUFXLGdDQUVYLE1BQU0sZ0NBeUZOLFdBQVc7QUE5Rk4sTUFBTUEsV0FBVztJQTJCdEIsSUFBSUMsRUFBRSxHQUFXO1FBQ2YsNkJBQU8sSUFBSSxFQUFFQSxHQUFFLEVBQUM7S0FDakI7SUFF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","originalCode":"import { OrderItemEntity } from './order_item_entity';\nimport { Validation } from './types';\nimport { ValidationError } from '../errors';\n\nexport class OrderEntity {\n  #id: string;\n\n  #customerId: string;\n\n  #items: Map<string, OrderItemEntity>;\n\n  constructor(id: string, customerId: string, items: OrderItemEntity[]) {\n    this.#validation([\n      { fieldName: 'id', value: id, validations: { isRequired: true } },\n      {\n        fieldName: 'customerId',\n        value: customerId,\n        validations: { isRequired: true },\n      },\n      {\n        fieldName: 'items',\n        value: items,\n        validations: { minLength: 1 },\n      },\n    ]);\n\n    this.#id = id;\n    this.#customerId = customerId;\n    this.#items = new Map(items.map((item) => [item.id, item]));\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get customerId(): string {\n    return this.#customerId;\n  }\n\n  get items(): OrderItemEntity[] {\n    return Array.from(this.#items.values());\n  }\n\n  get totalItems(): number {\n    return this.#items.size;\n  }\n\n  get total(): number {\n    return this.items.reduce((acc, item) => acc + item.price, 0);\n  }\n\n  addItem(item: OrderItemEntity) {\n    this.#items.set(item.id, item);\n  }\n\n  removeItem(id: string) {\n    this.#items.delete(id);\n  }\n\n  toString(): string {\n    let printItems = '';\n    this.#items.forEach((item) => {\n      printItems += `${item}\\n`;\n    });\n\n    return `id: ${this.#id}\\ncustomerId: ${\n      this.#customerId\n    }\\nitems:\\n${printItems}`;\n  }\n\n  clone(): OrderEntity {\n    return new OrderEntity(\n      this.#id,\n      this.#customerId,\n      this.items.map(\n        (item) =>\n          new OrderItemEntity(\n            item.id,\n            item.name,\n            item.unitPrice,\n            item.productId,\n            item.quantity\n          )\n      )\n    );\n  }\n\n  isEqual(order: OrderEntity): boolean {\n    return (\n      this.#id === order.id &&\n      this.#customerId === order.customerId &&\n      this.totalItems === order.totalItems &&\n      this.items.every((orderItem, index) =>\n        orderItem.isEqual(order.items[index])\n      )\n    );\n  }\n\n  #validation(values: Validation[]) {\n    values.forEach(({ fieldName, value, ...props }) => {\n      if (props?.validations?.isRequired) {\n        if (typeof value == 'string') {\n          if (!value) {\n            throw new ValidationError(`${fieldName} is required.`);\n          }\n        }\n      }\n\n      if (props?.validations?.minLength) {\n        if (Array.isArray(value)) {\n          if (value.length < 1) {\n            throw new ValidationError(`${fieldName}: add at the least 1 item.`);\n          }\n        }\n      }\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/59/order_entity_5963181316e461b9e9fb4c895fa6ebaf.map","wrapperLength":82},"result":{"scriptId":"6513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/entities/order_entity.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14424,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14421,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":242,"endOffset":257,"count":0}],"isBlockCoverage":false},{"functionName":"_checkPrivateRedeclaration","ranges":[{"startOffset":357,"endOffset":559,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorGet","ranges":[{"startOffset":560,"endOffset":726,"count":0}],"isBlockCoverage":false},{"functionName":"_classApplyDescriptorSet","ranges":[{"startOffset":727,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"_classExtractFieldDescriptor","ranges":[{"startOffset":1042,"endOffset":1283,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldGet","ranges":[{"startOffset":1284,"endOffset":1479,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldInit","ranges":[{"startOffset":1480,"endOffset":1620,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateFieldSet","ranges":[{"startOffset":1621,"endOffset":1841,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodGet","ranges":[{"startOffset":1842,"endOffset":2040,"count":0}],"isBlockCoverage":false},{"functionName":"_classPrivateMethodInit","ranges":[{"startOffset":2041,"endOffset":2168,"count":0}],"isBlockCoverage":false},{"functionName":"get id","ranges":[{"startOffset":2356,"endOffset":2421,"count":0}],"isBlockCoverage":false},{"functionName":"get customerId","ranges":[{"startOffset":2426,"endOffset":2507,"count":0}],"isBlockCoverage":false},{"functionName":"get items","ranges":[{"startOffset":2512,"endOffset":2604,"count":0}],"isBlockCoverage":false},{"functionName":"get totalItems","ranges":[{"startOffset":2609,"endOffset":2690,"count":0}],"isBlockCoverage":false},{"functionName":"get total","ranges":[{"startOffset":2695,"endOffset":2782,"count":0}],"isBlockCoverage":false},{"functionName":"addItem","ranges":[{"startOffset":2787,"endOffset":2872,"count":0}],"isBlockCoverage":false},{"functionName":"removeItem","ranges":[{"startOffset":2877,"endOffset":2955,"count":0}],"isBlockCoverage":false},{"functionName":"toString","ranges":[{"startOffset":2960,"endOffset":3258,"count":0}],"isBlockCoverage":false},{"functionName":"clone","ranges":[{"startOffset":3263,"endOffset":3515,"count":0}],"isBlockCoverage":false},{"functionName":"isEqual","ranges":[{"startOffset":3520,"endOffset":3788,"count":0}],"isBlockCoverage":false},{"functionName":"OrderEntity","ranges":[{"startOffset":3793,"endOffset":5102,"count":0}],"isBlockCoverage":false},{"functionName":"validation","ranges":[{"startOffset":5105,"endOffset":5711,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ProductService\", {\n    enumerable: true,\n    get: ()=>ProductService\n});\nclass ProductService {\n    static increasePrice(products, percentage) {\n        products.forEach((product)=>{\n            product.updatePrice(product.price * percentage / 100 + product.price);\n        });\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9zZXJ2aWNlcy9wcm9kdWN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb2R1Y3RFbnRpdHkgfSBmcm9tICcuLi9lbnRpdGllcyc7XG5cbmV4cG9ydCBjbGFzcyBQcm9kdWN0U2VydmljZSB7XG4gIHN0YXRpYyBpbmNyZWFzZVByaWNlKHByb2R1Y3RzOiBQcm9kdWN0RW50aXR5W10sIHBlcmNlbnRhZ2U6IG51bWJlcik6IHZvaWQge1xuICAgIHByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcbiAgICAgIHByb2R1Y3QudXBkYXRlUHJpY2UoKHByb2R1Y3QucHJpY2UgKiBwZXJjZW50YWdlKSAvIDEwMCArIHByb2R1Y3QucHJpY2UpO1xuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUHJvZHVjdFNlcnZpY2UiLCJpbmNyZWFzZVByaWNlIiwicHJvZHVjdHMiLCJwZXJjZW50YWdlIiwiZm9yRWFjaCIsInByb2R1Y3QiLCJ1cGRhdGVQcmljZSIsInByaWNlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFFYUEsZ0JBQWM7O2FBQWRBLGNBQWM7O0FBQXBCLE1BQU1BLGNBQWM7SUFDekIsT0FBT0MsYUFBYSxDQUFDQyxRQUF5QixFQUFFQyxVQUFrQixFQUFRO1FBQ3hFRCxRQUFRLENBQUNFLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEdBQUs7WUFDNUJBLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDLEFBQUNELE9BQU8sQ0FBQ0UsS0FBSyxHQUFHSixVQUFVLEdBQUksR0FBRyxHQUFHRSxPQUFPLENBQUNFLEtBQUssQ0FBQyxDQUFDO1NBQ3pFLENBQUMsQ0FBQztLQUNKO0NBQ0YifQ==","originalCode":"import { ProductEntity } from '../entities';\n\nexport class ProductService {\n  static increasePrice(products: ProductEntity[], percentage: number): void {\n    products.forEach((product) => {\n      product.updatePrice((product.price * percentage) / 100 + product.price);\n    });\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/84/product_84645c1f74762e8e92175734fa03d72a.map","wrapperLength":82},"result":{"scriptId":"9775","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/services/product.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1613,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1610,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":245,"endOffset":263,"count":1}],"isBlockCoverage":true},{"functionName":"increasePrice","ranges":[{"startOffset":302,"endOffset":478,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":365,"endOffset":470,"count":5}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467504128,"runtime":1397,"slow":false,"start":1658467502731},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.spec.ts","testResults":[{"ancestorTitles":["ValidationError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ValidationError should create a ValidationError","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a ValidationError"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ValidationError\", {\n    enumerable: true,\n    get: ()=>ValidationError\n});\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdmFsaWRhdGlvbl9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class ValidationError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/ba/validation_error_ba0b23d50e28eaedc3750f9dc67e650b.map","wrapperLength":82},"result":{"scriptId":"3514","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/validation_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":2}],"isBlockCoverage":false},{"functionName":"ValidationError","ranges":[{"startOffset":312,"endOffset":427,"count":1}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467505932,"runtime":1687,"slow":false,"start":1658467504245},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.spec.ts","testResults":[{"ancestorTitles":["UnexpectedError"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"UnexpectedError should create a UnexpectedError","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a UnexpectedError"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"UnexpectedError\", {\n    enumerable: true,\n    get: ()=>UnexpectedError\n});\nclass UnexpectedError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, UnexpectedError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvdW5leHBlY3RlZF9lcnJvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVW5leHBlY3RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmV4cGVjdGVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlVuZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQUFhQSxpQkFBZTs7YUFBZkEsZUFBZTs7QUFBckIsTUFBTUEsZUFBZSxTQUFTQyxLQUFLO0lBQ3hDQyxZQUFZQyxPQUFlLENBQUU7UUFDM0IsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGVBQWUsQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDeEQ7Q0FDRiJ9","originalCode":"export class UnexpectedError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, UnexpectedError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/4a/unexpected_error_4a5f89f53356b235a3c99208169006bd.map","wrapperLength":82},"result":{"scriptId":"3515","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/unexpected_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1290,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1287,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":246,"endOffset":265,"count":2}],"isBlockCoverage":true},{"functionName":"UnexpectedError","ranges":[{"startOffset":312,"endOffset":427,"count":1}],"isBlockCoverage":true}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1658467507571,"runtime":1570,"slow":false,"start":1658467506001},"skipped":false,"testFilePath":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.spec.ts","testResults":[{"ancestorTitles":["NotFoundError"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"NotFoundError should create a NotFoundError","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create a NotFoundError"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"NotFoundError\", {\n    enumerable: true,\n    get: ()=>NotFoundError\n});\nclass NotFoundError extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW5kaXIvTWFzdGVyeS9mdWxsY3ljbGUvZW50aXRpZXMvc3JjL2RvbWFpbi9lcnJvcnMvbm90X2ZvdW5kX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBQWFBLGVBQWE7O2FBQWJBLGFBQWE7O0FBQW5CLE1BQU1BLGFBQWEsU0FBU0MsS0FBSztJQUN0Q0MsWUFBWUMsT0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLENBQUM7UUFFZkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxhQUFhLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0tBQ3REO0NBQ0YifQ==","originalCode":"export class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n","sourceMapPath":"/private/var/folders/92/9g_634j111j5p6q_j091w01c0000gn/T/jest_dx/jest-transform-cache-351520c940c5c7fecffd3f5823de0417-e1195690224eeed71261e356dfb2d91d/e2/not_found_error_e28787afa4db86fa656ac0f0e571c70c.map","wrapperLength":82},"result":{"scriptId":"3513","url":"/Users/jandir/Mastery/fullcycle/entities/src/domain/errors/not_found_error.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1274,"count":1}],"isBlockCoverage":false},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1271,"count":1}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":244,"endOffset":261,"count":2}],"isBlockCoverage":false},{"functionName":"NotFoundError","ranges":[{"startOffset":306,"endOffset":419,"count":1}],"isBlockCoverage":false}]}}]}],"wasInterrupted":false,"config":{"bail":1,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":true,"collectCoverageFrom":["src/**/*.ts","!src/domain/entities/types/**/*","!src/domain/repositories/**/*","!src/infrastructure/db/**/*","!src/**/index.ts","!**/commitlint.config.js"],"coverageDirectory":"/Users/jandir/Mastery/fullcycle/entities/coverage","coverageProvider":"v8","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":1,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"passWithNoTests":true,"projects":[],"reporters":[["default",{}],["/Users/jandir/Mastery/fullcycle/entities/node_modules/jest-html-reporters/index.js",{}]],"rootDir":"/Users/jandir/Mastery/fullcycle/entities","runTestsByPath":false,"skipFilter":false,"testFailureExitCode":1,"testPathPattern":"","testSequencer":"/Users/jandir/Mastery/fullcycle/entities/node_modules/@jest/test-sequencer/build/index.js","updateSnapshot":"new","useStderr":false,"watch":false,"watchAll":false,"watchman":true,"coverageLinkPath":"coverage/lcov-report/index.html"},"endTime":1658467507650,"_reporterOptions":{"publicPath":"/Users/jandir/Mastery/fullcycle/entities","filename":"jest_html_reporters.html","expand":false,"pageTitle":"","hideIcon":false,"testCommand":"npx jest","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":""},"attachInfos":{}})